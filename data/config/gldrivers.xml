<?xml version="1.0" encoding="utf-8" ?> 
<!--
    How the GL driver database works:
    
    First, a set of configurations is specified in the <configs> section.
    Each configuration has an associated name.
    
    Then, some rules are declared in the <rules> section. Rules consist of
    severeral <conditions>, which can be:
    - <regexp>: Match one of the GL strings against a regular expression.
    - <comparever>: Compare the a version against a prefined value.
    - <negate>: True if the contained rule(s) are false.
    - <match>: True if the contained rule(s) are true.
    <conditions> as well as <negate> and <match> are containers for conditions;
    by default, they are true if all contained conditions are true. This 
    behaviour can be changed by specifying the 'fulfill="one"' attribute. 
    (You can also specify 'fulfill="all"', but that's just like the default.)
    
    If the <conditions> section evaluates to 'true', all the configurations 
    from the <configs> section specified in the <applicable> sections (in 
    <usecfg>...</usecfg> tags) are added to the global config tree; otherwise, 
    the configurations specified in <notapplicable> are added.
    
    The rules are evaluated in the order they appear in the database.
  -->
<gldriverdb>
  <configs>
    <config name="noavp">
      <Video>
	<OpenGL>
	  <UseExtension>
	    <GL_ARB_vertex_program>no</GL_ARB_vertex_program>
	  </UseExtension>
	</OpenGL>
      </Video>
    </config>
    <config name="noaps">
      <Video>
	<OpenGL>
	  <UseExtension>
	    <GL_ARB_point_sprite>no</GL_ARB_point_sprite>
	  </UseExtension>
	</OpenGL>
      </Video>
    </config>
  </configs>
  <rules>
    <!-- rule description="Some more examples">
      <conditions>
	<comparever version="gl" relation="ge 1.1" />
	<comparever version="driver" relation="lt 6.34" />
      </conditions>
      <applicable>
      </applicable>
      <notapplicable>
      </notapplicable>
    </rule -->
    <rule description="Work around broken ATI point sprites">
      <conditions>
	<!-- Point sprite activation messes up all other geometry -->
	<regexp string="vendor" pattern="^ATI" />
      </conditions>
      <applicable>
	<usecfg>noaps</usecfg>
      </applicable>
    </rule>
    <rule>
      <conditions>
	<comparever version="gl" relation="gt 1.3.666" />
      </conditions>
      <applicable>
      </applicable>
      <notapplicable>
      </notapplicable>
    </rule>
  </rules>
</gldriverdb>
