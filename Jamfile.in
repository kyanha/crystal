TOP ?= "@top_srcdir@" ;
BUILDTOP ?= "@top_builddir@" ;

SubDir TOP ;

# Define our compile groups
RegisterCompileGroups sounddrivers soundloaders imageloaders netdrivers
		      drivers2d drivers3d meshes ;
Help sounddrivers : "sound drivers compilegroup" ;
Help soundloaders : "sound loaders compilegroup" ;
Help imageloaders : "image loaders compilegroup" ;
Help netdrivers	  : "network drivers compilegroup" ;
Help drivers2d	  : "2d canvases compilegroup" ;
Help drivers3d	  : "3d renderers compilegroup" ;
Help meshes	  : "mesh plugin and loader compilegroup" ;

# Create some clean targets
CleanDir clean : out ;

Clean distclean : Jamconfig Jamfile
		  cache.mak config.mak Makefile
		  config.log config.status config.cache
		  include/volatile.h
		  [ Wildcard *.scf ]
		  [ Wildcard *.cex ] ;
Depends distclean : clean ;
# When build directory differs from source directory, also remove `include'
# directory created by configure.
if $(TOP) != "."
{
  CleanDir distclean : include ;
}

Clean maintainerclean : aclocal.m4 configure configure.scan ;
CleanDir maintainerclean : autom4te.cache ;
Depends maintainerclean : distclean ;

# Process subdirectories
SubInclude TOP libs ;
SubInclude TOP apps ;
SubInclude TOP data ;
SubInclude TOP docs ;
SubInclude TOP include ;
SubInclude TOP plugins ;
SubInclude TOP scripts ;
