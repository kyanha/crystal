# !/bin/sh
CURDIR=$1
rm -f $CURDIR/debian/crystalspace-data.menu

for videotype in software opengl
do

for i in $CURDIR/data/*.jpg
do
	name=`basename $i '.jpg'`
	cat >> $CURDIR/debian/crystalspace-data.menu <<-FIN
?package(crystalspace-data):needs=X11 \\
  section="Games/Arcade"\\
  hints="CrystalSpace,Levels,$videotype"\\
  title="Walktest $name $videotype" \\
  command="/usr/games/walktest -video=$videotype $name"\\
  icon="/usr/share/pixmaps/$name.xpm"
FIN
done

cat >> $CURDIR/debian/crystalspace-data.menu <<-FIN
?package(crystalspace-data):needs=X11 \\
  section="Games/Arcade"\\
  hints="CrystalSpace,Demos,$videotype"\\
  title="CSdemo $videotype" \\
  command="/usr/games/csdemo -video=$videotype"\\
  icon="/usr/share/pixmaps/demodata.xpm"
FIN

done
