SubDir TOP plugins proctex ptpdlight ;

Description ptpdlight : "pseudo-dynamic lightmap procedural texture" ;

PTPDLIGHT_EXTRA = ;
if [ Property build : projgen ]
{
  PTPDLIGHT_EXTRA += ptpdlight_mmx.cpp ;
}

Plugin ptpdlight
	: [ Filter [ Wildcard *.cpp *.h ] : ptpdlight_mmx.cpp ]
	  $(PTPDLIGHT_EXTRA)
;
LinkWith ptpdlight : crystalspace ;
Includes ptpdlight_loader.h : $(SUBDIR)/ptpdlight_loader.tok ;
MsvcExtraFile ptpdlight : $(SUBDIR)/ptpdlight_loader.tok ;

CompileGroups ptpdlight : proctexes ;
