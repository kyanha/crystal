<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HTML>
<HEAD>
<TITLE>Crystal Space: map2cs Tutorial Step 3</TITLE>

<META NAME="description" CONTENT="Crystal Space: map2cs Tutorial Step 3">
<META NAME="keywords" CONTENT="Crystal Space: map2cs Tutorial Step 3">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC192"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_91.html#SEC191"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_93.html#SEC193"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_85.html#SEC183"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_89.html#SEC187"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_101.html#SEC202"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_286.html#SEC950">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H3> 5.5.3 Step 3: Configuring `<TT>map2cs</TT>' </H3>
<!--docid::SEC192::-->
<P>

`<TT>map2cs</TT>' is configured by a special configuration file called
`<TT>map2cs.cfg</TT>', located within the 'C:\Crystal\CS\data\config\' directory.
If you need support for multiple configurations, you can use several
configuration files, but for now we will restrict ourselves to just one file.
Open up `<TT>map2cs.cfg</TT>' in you favorite editor and edit it, so it looks like
the following template:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>Map2CS.TextureSettings.DefaultTexture = liquids/bubbles
Map2CS.TextureSettings.wad1 = C:\Crystal\WADs\cstex_1.wad
Map2CS.TextureSettings.wad2 = C:\Crystal\WADs\cstex_2.wad
Map2CS.TextureSettings.wad3 = C:\Sierra\HalfLife\valve\halflife.wad
Map2CS.TextureSettings.wad4 = C:\Sierra\HalfLife\valve\xeno.wad
Map2CS.TextureSettings.wad5 = C:\Sierra\HalfLife\valve\liquids.wad
Map2CS.TextureSettings.wad6 = C:\Sierra\HalfLife\valve\texpack.wad


Map2CS.General.Scaling = 0.025
Map2CS.General.UseBSP = 0
Map2CS.General.RemoveHidden = 0
Map2CS.General.LightScale=30

System.ApplicationID = Map2CS
</pre></td></tr></table></P><P>

The only thing you will probably need to adjust in the supplied
`<TT>map2cs.cfg</TT>' is the texture path (setting for
`<SAMP>Map2CS.TextureSettings.wad1</SAMP>' etc.). If you need more wads, you need to
add them as `<TT>wad5</TT>', `<TT>wad6</TT>' and so on. If you have Quake3-style
texture files, you can add them by `<TT>Map2CS.TextureSettings.pk3=<small>...</small></TT>',
`<TT>Map2CS.TextureSettings.pk4=<small>...</small></TT>', and so on.
</P><P>

Now Windows and DOS users need to create a batch file to compile and run
a map. The batch file should be stored as `<TT>C:\Crystal\LevBuild.bat</TT>'
and contain the following commands:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>set CRYSTAL=C:\Crystal\CS
cd CS
map2cs ..\maps\%1.map data\%1.zip
levtool - data\%1.zip
walktest %1 -relight
cd ..
</pre></td></tr></table></P><P>

From the command-line (the MS-DOS prompt for Windows and DOS users)
change to the directory `<TT>C:\Crystal</TT>'.  Type `<SAMP>LevBuild.bat
yourmapsname</SAMP>'.  Now, if everything is properly installed and you have a file
`<TT>yourmapsname.map</TT>' in your `<TT>maps</TT>' directory (if you have downloaded
the binary Crystal Space distribution for map making, you have), then you
should see the following output:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>map2cs, Copyright (C) 1999 by Thomas Hieber

Reading map `..\Maps\yourmapsname.map'
Map contains:
6 Entities
26 Brushes
118 Unique planes
Writing world `data\yourmapsname.zip'
done.
</pre></td></tr></table></P><P>

Right after that, a new window should appear, that contains the Crystal Space
startup console with lots of text in it.  After some time, you should have
loaded you first self-compiled map.
<A NAME="map2cs Tutorial Step 4"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_91.html#SEC191"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_93.html#SEC193"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_85.html#SEC183"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_89.html#SEC187"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_101.html#SEC202"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_286.html#SEC950">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated using
<A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
