<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HTML>
<HEAD>
<TITLE>Crystal Space: HOWTO Create RPM</TITLE>

<META NAME="description" CONTENT="Crystal Space: HOWTO Create RPM">
<META NAME="keywords" CONTENT="Crystal Space: HOWTO Create RPM">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC5.8.19"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_5.8.18.html#SEC5.8.18"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_5.8.20.html#SEC5.8.20"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_5.7.html#SEC5.7"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_5.8.html#SEC5.8"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_6.html#SEC6"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs__1.html#SEC_1">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H3> 5.8.19 Creating Crystal Space RPM's </H3>
<!--docid::SEC5.8.19::-->
<P>

<A NAME="SEC_1"></A>
<H4> Creating Crystal Space RPM Packages </H4>
<!--docid::SEC_1::-->
<P>

It is possible to build Crystal Space RPM's. This is useful if you want to
distribute pre-built Crystal Space packages, or if you want to install Crystal
Space on your machine using the normal package management facilities of your
host.  For this purpose, `<TT>CS/scripts/rpm/cs.spec</TT>' file is provided with
Crystal Space.
</P><P>

<A NAME="SEC_2"></A>
<H4> Configure to Build RPM Packages </H4>
<!--docid::SEC_2::-->
<P>

Building RPM packages involves a few settings, which are covered at
the following page:
</P><P>

<A HREF="http://qa.mandrakesoft.com/twiki/bin/view/Main/RpmHowTo#Preliminary_tasks">http://qa.mandrakesoft.com/twiki/bin/view/Main/RpmHowTo#Preliminary_tasks</A>
</P><P>

<A NAME="SEC_3"></A>
<H4> Building Your Own RPM's From Source Archive </H4>
<!--docid::SEC_3::-->
<P>

Once you've set your system to build RPM packages as a regular user,
perform the following steps:
</P><P>

<OL>
<LI>
Get Crystal Space sources archive (see section <A HREF="cs_1.6.html#SEC1.6">1.6 Where to Get Crystal Space</A>) and put it in your
`<TT>rpm/SOURCES/</TT>' directory.
<P>

<LI>
Go into your `<TT>rpm/SPECS</TT>' directory.
<P>

<LI>
Extract the `<TT>CS/scripts/rpm/cs.spec</TT>' file, and put it in your
`<TT>rpm/SPECS/</TT>' directory.
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>cd /home/user/rpm/SPECS
tar xvjf /home/user/rpm/SOURCES/cs-current-snapshot.tar.bz2 \
     CS/scripts/rpm/cs.spec
mv CS/scripts/rpm/cs.spec /home/user/rpm/SPECS
rm -rf CS
</pre></td></tr></table></P><P>

<LI>
Verify the source archive filename you downloaded is set in accordance with the
filename part of the URL in `<SAMP>Source:</SAMP>' line of `<TT>cs.spec</TT>',
otherwise <CODE>rpm</CODE> won't be able to do his job.
<P>

<LI>
Build the RPM's.
<P>

<UL>
<LI>
To build binary RPM's only, issue <CODE>rpm -bb cs.spec</CODE>
<LI>
To build source RPM's as well, issue <CODE>rpm -ba cs.spec</CODE>
</UL>
</OL>
<P>

Build options are specified by using <CODE>--with</CODE> switch. The following
values are supported:
</P><P>

<UL>
<LI>
<CODE>--with perl</CODE> to build with Perl support.
<LI>
<CODE>--with debug</CODE> to build with debuggin support. Note, however, that
this option may be useless since <CODE>rpm</CODE> strips files before packaging.
</UL>
<P>

So, to build all packages, with Perl support, use:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>rpm -ba cs.spec --with perl
</pre></td></tr></table></P><P>

The binary RPM's should be under `<TT>rpm/RPMS/</TT>', and the source RPM
in `<TT>rpm/SRPMS/</TT>'.
</P><P>

The process creates three Crystal Space binary RPM packages:
</P><P>

<UL>
<LI>
`<SAMP>crystalspace</SAMP>' base package. It provides executables, plugins, data and
configuration files.
<LI>
`<SAMP>crystalspace-devel</SAMP>' development package. It provides headers and static
libraries needed for development.
<LI>
`<SAMP>crystalspace-doc</SAMP>' documentation package. It provides API and user
manual documentation in HTML format.
</UL>
<A NAME="HOWTO Setting the CRYSTAL environment variable"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_5.8.18.html#SEC5.8.18"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_5.8.20.html#SEC5.8.20"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_5.7.html#SEC5.7"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_5.8.html#SEC5.8"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_6.html#SEC6"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs__1.html#SEC_1">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated using
<A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
