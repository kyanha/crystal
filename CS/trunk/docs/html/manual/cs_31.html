<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HTML>
<HEAD>
<TITLE>Crystal Space: MacOS/X Building</TITLE>

<META NAME="description" CONTENT="Crystal Space: MacOS/X Building">
<META NAME="keywords" CONTENT="Crystal Space: MacOS/X Building">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC99"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_30.html#SEC98"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_32.html#SEC100"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_27.html#SEC85"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_28.html#SEC96"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_33.html#SEC101"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_286.html#SEC956">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H4> 2.4.5.3 Building </H4>
<!--docid::SEC99::-->
<P>

Once you have obtained the latest Crystal Space source code package
(see section <A HREF="cs_7.html#SEC7">1.6 Where to Get Crystal Space</A>) and have installed or prepared the supporting libraries
(see section <A HREF="cs_29.html#SEC97">2.4.5.1 Library Prerequisites</A>), unpack the source code archive into a convenient
directory as shown below.  A description of the directory hierarchy which is
created when you unpack the source code archive is available,
<A HREF="cs_17.html#SEC24">2.1 Directory Hierarchy</A>.  A description of the files specific to the MacOS/X
port is also available, <A HREF="cs_264.html#SEC803">8.1.1 MacOS/X</A>.
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>gnutar xfz <VAR>CS-package-name</VAR>.tgz
</pre></td></tr></table></P><P>

A note of caution: Take care when obtaining the Crystal Space source code to
ensure that the line-terminators are in Unix format (a single linefeed should
terminate each line).  This is an especially important consideration when
transporting the code from Windows to MacOS/X.  Although many MacOS/X tools
deal gracefully with Windows line-terminators (a carriage-return follwed by a
linefeed), not all tools do so, and may emit apparently inexplicable error
messages when encountering files with Windows line-terminators.  The official
distributions of Crystal Space, including the stable releases and the CVS
snapshots, are packaged with Unix line-terminators, which are acceptable on all
supported platforms.  These virgin packages themselves can be transported
between Windows and MacOS/X safely
</P><P>

Crystal Space can be built from the command-line (Terminal.app) using either
`<TT>make</TT>' or Jam (see  <A HREF="cs_18.html#GettingJam">GettingJam</A>).  Both tools work equally well.  In the
examples below, wherever `<SAMP>make -k</SAMP>' is used, you can instead substitute
`<TT>jam</TT>' if you so desire.  <EM>Note</EM>: Apple ships a very old and
highly modified version of Jam with MacOS/X which is unsuitable for building
Crystal Space.  If this is the only Jam which you have installed, then just
build Crystal Space using `<TT>make</TT>'.  Alternately, you may download and
install a more recent version of Jam (see  <A HREF="cs_18.html#GettingJam">GettingJam</A>). Jam might also be
available via Fink (though it was not at the time of this writing).
</P><P>

The Crystal Space project consists of a number of components and example
programs.  The following commands are all issued from within the top level
Crystal Space source code directory named `<TT>CS</TT>'.
</P><P>

To begin building Crystal Space, first configure the project for MacOS/X by
typing the following command from within the root `<TT>CS</TT>' directory:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>./configure
</pre></td></tr></table></P><P>

At configuration time, you can also specify where Crystal Space should be
installed.  By default, it is installed in several subdirectories of
`<TT>/usr/local</TT>':
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>/usr/local/bin
/usr/local/etc/crystalspace
/usr/local/include/crystalspace
/usr/local/lib
/usr/local/lib/crystalspace
/usr/local/share/crystalspace
/usr/local/share/docs/crystalspace-x.xx
</pre></td></tr></table></P><P>

You can, however, specify a different location if desired.  This setting is
remembered and automatically applied later when you install the project.  For
example:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>./configure --prefix=/Library/CrystalSpace
</pre></td></tr></table></P><P>

If you plan to work on Crystal Space itself, as opposed to utilizing Crystal
Space for your own project, you might want to configure Crystal Space to be
built in debug mode:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>./configure --enable-debug
</pre></td></tr></table></P><P>

For a full list of configuration options, type:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>./configure --help
</pre></td></tr></table></P><P>

If the Crystal Space source directory is read-only, if it is shared between
several developers, or if you simply dislike building a project within its
source tree, you can instead configure and build from a different directory.
For instance:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>mkdir $HOME/builddir
cd $HOME/builddir
/path/to/CS/configure --enable-debug
</pre></td></tr></table></P><P>

Once the project has been configured, you can begin building the Crystal Space
demonstration programs.  Alternately, if you are interested in building only
certain components of the system, such as drivers or libraries, then you can do
that instead.
</P><P>

To see a list of all targets which can be built, type:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>make help
</pre></td></tr></table></P><P>

The simplest way to build the entire package, including all applications,
drivers, and plug-in modules is to invoke the makefile target `<SAMP>all</SAMP>':
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>make -k all
</pre></td></tr></table></P><P>

Alternately, if you are using Jam:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>jam all
</pre></td></tr></table></P><P>

This can be a fairly time consuming operation.  If you would like to be more
selective and only build the necessary plug-in modules and a subset of the
available applications, you can invoke their targets individually.
</P><P>

For example, to build all plug-in modules, you could invoke this command:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>make -k plugins  # Builds all plug-in modules.
</pre></td></tr></table></P><P>

To build only the WalkTest application and the plug-in modules which it most
commonly requires use the following target:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>make walkall  # Builds WalkTest and most required plug-ins
</pre></td></tr></table></P><P>

For finer control over which applications and plugins are built, you can invoke
their targets directly.  For instance:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>make walktest  # Builds <CODE>walktest</CODE>, the map exploration program
make glosx2d   # Builds <CODE>glosx2d</CODE>, the MacOS/X OpenGL 2D driver
make gl3d      # Builds <CODE>gl3d</CODE>, the OpenGL renderer
</pre></td></tr></table></P><P>

All programs require at least some plug-in modules to be present, so be sure to
build those, as well, by invoking the `<SAMP>plugins</SAMP>' makefile target as
illustrated above if you have not already invoked the `<SAMP>all</SAMP>' target.
</P><P>

Once you have built the project, you will probably want to install it as a
<EM>software development kit</EM> (SDK).  The installation phase installs
everything needed to create your own programs using Crystal Space.  Some
resources, such as demonstration applications and certain data files are not
installed since they are not required for development.  Installing the SDK
is optional, though recommended.  If you simply wish to run the example
programs, then you need not invoke the installation phase.
</P><P>

By default, Crystal Space is installed in subdirectories of `<TT>/usr/local</TT>',
however you can specify a different location when you configure the project, as
explained above.  Installation can be performed with the following command:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>make install
</pre></td></tr></table></P><P>

Once you have installed the project, you can release disk space used by the
build process:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>make distclean
</pre></td></tr></table></P><P>

<A NAME="MacOS/X Running Programs"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_30.html#SEC98"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_32.html#SEC100"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_27.html#SEC85"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_28.html#SEC96"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_33.html#SEC101"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_286.html#SEC956">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated using
<A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
