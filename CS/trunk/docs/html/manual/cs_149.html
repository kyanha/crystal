<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HTML>
<HEAD>
<TITLE>Crystal Space: SCF Advanced</TITLE>

<META NAME="description" CONTENT="Crystal Space: SCF Advanced">
<META NAME="keywords" CONTENT="Crystal Space: SCF Advanced">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC371"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_148.html#SEC370"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_150.html#SEC375"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_136.html#SEC356"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_139.html#SEC359"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_150.html#SEC375"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_287.html#SEC964">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H3> 6.2.10 Advanced Techniques </H3>
<!--docid::SEC371::-->
<P>

The SCF library implements some things that you will need to know about
to use some advanced techniques.  They are described in detail, below.
</P><P>

<A NAME="SEC372"></A>
<H4> Dynamic Class Registration </H4>
<!--docid::SEC372::-->
<P>

You can register and deregister SCF classes at run time.  There are times
when you would like to provide a named SCF class in your main application,
rather than in a plugin module.  In this case, you will need to manually
register the class with SCF since it will not be discovered by the
automatic scan for plugins.  To do this, the following method is provided:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>bool iSCF::RegisterClass (
  scfFactoryFunc,
  char const* ClassName,
  char const* Description,
  char const* Dependencies,
  char const* context);
</pre></td></tr></table></P><P>

Rather than having to remember to call this method from your code, you can
automate the registration by instead using the
<CODE>SCF_REGISTER_STATIC_CLASS()</CODE> macro, which takes the following arguments:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>SCF_REGISTER_STATIC_CLASS(
  C++Class,
  "scf.class.name",
  "description",
  "comma-separated dependency list" or NULL)
</pre></td></tr></table></P><P>

This macro should be used at the top-level of the source file, outside of
any function.
</P><P>

If a class resides in a plugin module which was not discovered by the startup
scan, and if you do not elect to have SCF scan for the plugin with
<CODE>iSCF::ScanPluginsPath()</CODE> or an additional call to <CODE>scfInitialize()</CODE>,
then you can manually tell SCF all about the class with the following
method:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>bool iSCF:RegisterClass (
  char const* ClassName,
  char const* PluginPath,
  char const* FactoryClass,
  char const* Description,
  char const* Dependencies,
  char const* context);
</pre></td></tr></table></P><P>

You can deregister a registered class with the following function:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>bool iSCF::UnregisterClass(char const* ClassIName)
</pre></td></tr></table></P><P>

<A NAME="SEC373"></A>
<H4> Non-Registered Classes </H4>
<!--docid::SEC373::-->
<P>

Often, you do not need or want to register a class with the SCF kernel.
That is, you create your objects manually, using `<SAMP>new</SAMP>' or some other
method and return them to callers of your functions as pure SCF
interfaces.  This is a perfectly valid use of SCF classes, and is often
employed.  It is common, for instance, for a named, published SCF class to
vend unnamed classes to callers of its methods.  These classes are often helper
classes.  In this case the unnamed object is not a part of the class registry.
</P><P>

<A NAME="SEC374"></A>
<H4> Non-Parented Classes </H4>
<!--docid::SEC374::-->
<P>

Often, classes do not need to be parented.  This is frequently true of classes
which are not named and part of the class registry, as noted above.  In this
case your object is not a part of the class tree (see above) and thus does not
have a parent.  To implement such a class, you have to pass `<SAMP>NULL</SAMP>' to the
<CODE>SCF_CONSTRUCT_IBASE()</CODE> macro in constructor.
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>MyClass::MyClass()
{
  SCF_CONSTRUCT_IBASE(0)
  <small>...</small>
}

MyClass::~MyClass()
{
  <small>...</small>
  SCF_DESTRUCT_IBASE()
}
</pre></td></tr></table><A NAME="csGeom"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_148.html#SEC370"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_150.html#SEC375"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_136.html#SEC356"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_139.html#SEC359"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_150.html#SEC375"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_287.html#SEC964">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated using
<A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
