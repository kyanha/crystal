<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HTML>
<HEAD>
<TITLE>Crystal Space: MacOS/X Running Programs</TITLE>

<META NAME="description" CONTENT="Crystal Space: MacOS/X Running Programs">
<META NAME="keywords" CONTENT="Crystal Space: MacOS/X Running Programs">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC100"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_31.html#SEC99"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_33.html#SEC101"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_27.html#SEC85"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_28.html#SEC96"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_33.html#SEC101"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_286.html#SEC960">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H4> 2.4.5.4 Using Crystal Space </H4>
<!--docid::SEC100::-->
<P>

Crystal Space programs can be run directly from the command-line or from the
Finder.  If you plan to launch programs by double-clicking on them in the
Finder, then you must tell them where to find the resources which they require
to run.  This is accomplished by storing the path to the root of the Crystal
Space directory in the MacOS/X <EM>defaults</EM> database under the name
`<SAMP>CrystalSpaceRoot</SAMP>'.  It is most useful to configure this setting in the
<EM>global</EM> defaults domain.  Depending upon your needs, you can set this to
point at either the installed Crystal Space SDK or to the development
directory where you built the project; either location works.
</P><P>

For example, if you have installed Crystal Space at the default location, then
you can tell programs where to find their resources by invoking the following
configuration command from the command-line:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>defaults write NSGlobalDomain CrystalSpaceRoot "/usr/local"
</pre></td></tr></table></P><P>

If necessary, it is possible to configure `<SAMP>CrystalSpaceRoot</SAMP>' for a
particular application.  If you do so, this setting will override the global
setting.  For example:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>defaults write walktest CrystalSpaceRoot "$HOME/CS"
</pre></td></tr></table></P><P>

It is also possible to instruct Crystal Space applications to ignore the value
of `<SAMP>CrystalSpaceRoot</SAMP>' by assigning the `<SAMP>CrystalSpaceRootIgnore</SAMP>'
option a value of `<SAMP>Yes</SAMP>'.  This is most useful when you would like to have
a particular application ignore the value of `<SAMP>CrystalSpaceRoot</SAMP>' set in the
global domain.  For example:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>defaults write walktest CrystalSpaceRootIgnore "Yes"
</pre></td></tr></table></P><P>

Before attempting to run any of the Crystal Space sample applications, ensure
that the files `<TT>standard.zip</TT>' and `<TT>stdtex.zip</TT>' reside in
`<TT>CS/data</TT>' or in the `<TT>data</TT>' directory where Crystal Space is
installed.  These files contain resources and textures which are used by
several of the example programs and map files.
</P><P>

You need to have one or more <EM>map</EM> files in order to run WalkTest.  These
are the files which contain the maps and rooms which you can explore with
WalkTest.  The most commonly used example map file is `<TT>flarge</TT>'.
</P><P>

You may need adjust the ambient lighting which the engine applies when it
lights the maps.  This may be necessary if you find that the scenes appears too
dark.  You can do this by setting ambient lighting values via the following
configuration commands from the command-line.  The default value for these
settings is 20.  If that is too dark for you, try using a higher value.
For example:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>defaults write CrystalSpace.Global Engine.Lighting.Ambient.Red 50
defaults write CrystalSpace.Global Engine.Lighting.Ambient.Green 50
defaults write CrystalSpace.Global Engine.Lighting.Ambient.Blue 50
</pre></td></tr></table></P><P>

If you want ambient lighting to apply to only a single application, or if you
want to override the global setting with an application-specific setting,
replace `<SAMP>CrystalSpace.Global</SAMP>' in the above commands with
`<SAMP>CrystalSpace.Application</SAMP>' where `<SAMP>Application</SAMP>' is the name of the
application (for example, `<SAMP>CrystalSpace.Walktest</SAMP>').
</P><P>

<STRONG>Important</STRONG>: The first time you explore a map after changing the ambient
white value, you should run WalkTest with the `<SAMP>--relight</SAMP>' option.  This
causes Crystal Space to recalculate the lighting information in the map in
order to take advantage of the new ambient light value.  Note, however, that
relighting a map may be time consuming, particularly for certain sizable maps,
so be patient.
</P><P>

As a general rule, you may find it useful to specify the `<SAMP>--relight</SAMP>'
option with newly downloaded maps, or at any other time that the lighting in a
map seems somehow to be incorrect.
</P><P>

To specify options when running programs, you must invoke the programs from the
command-line, however the need to specify command-line options is rare, so this
should not prove much of an inconvenience.
</P><P>

To run WalkTest with a particular map (for instance, `<TT>flarge</TT>') for the
very first time, for example, type:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>./walktest.app/Contents/MacOS/walktest --relight flarge
</pre></td></tr></table></P><P>

Subsequent uses of the map file do not require `<SAMP>--relight</SAMP>', in which case
you can type:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>./walktest.app/Contents/MacOS/walktest flarge
</pre></td></tr></table></P><P>

Once invoked, you will be able to explore the map file (`<TT>flarge</TT>') by using
the navigation controls (see section <A HREF="cs_54.html#SEC135">4.2.4.2 Movement Commands</A>).  To explore a different
map, substitute its name in place of `<SAMP>flarge</SAMP>'.
</P><P>

If you would like to explore a map other than `<SAMP>flarge</SAMP>' without having to
type it on the command-line, you can add the following setting to the MacOS/X
defaults database.  This will allow you to explore different maps even when
launching WalkTest from the Finder.  For example, to explore a map named
`<SAMP>castle</SAMP>', set the following default value:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>defaults write CrystalSpace.Walktest Walktest.Settings.WorldFile castle
</pre></td></tr></table></P><P>

Other interesting applications, such as csDemo, also come with
Crystal Space.
</P><P>

By default, Crystal Space renders the 3D scenes with the OpenGL renderer.  Some
versions of the MacOS/X operating system ship with OpenGL drivers which do not
not perform particularly well with the Crystal Space OpenGL renderer, and this
problem could result in poor frame rates.  Consequently, you may want to
configure Crystal Space to instead use the software renderer.  There are two
ways to enable the software renderer.  First, you may instruct a program to use
software renderer from the command-line:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>./walktest.app/Contents/MacOS/walktest --video=software flarge
</pre></td></tr></table></P><P>

Second, you can enable the software renderer on a permanent basis for all
applications by setting the following default.  Once you have applied this
setting, you no longer need to specify `<SAMP>--video=software</SAMP>' on the
command-line.
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>defaults write CrystalSpace.Global System.Plugins.iGraphics3D \
  crystalspace.graphics3d.software
</pre></td></tr></table></P><P>

Crystal Space renders 3D scenes in a window by default, however you can
instruct the applications to use <EM>full-screen</EM> mode with the `<SAMP>--fs</SAMP>'
command-line option.  For example:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>./walktest.app/Contents/MacOS/walktest --fs flarge
</pre></td></tr></table></P><P>

Alternately, if you prefer to launch programs from the Finder, you can install
the following default setting to enable full-screen mode for all Crystal Space
applications:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>defaults write CrystalSpace.Global Video.FullScreen yes
</pre></td></tr></table></P><P>

It is also possible to enable full-screen mode selectively only for certain
applications.  For example, to enable full-screen mode only for CsDemo
by default, you could apply this default setting:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>defaults write CrystalSpace.csdemo Video.FullScreen yes
</pre></td></tr></table></P><P>

On the MacOS/X, Crystal Space will pause execution when the window is
de-activated, and resume execution when the window is re-activated.  Paused
state is indicated by the text "[Paused]" in the title of the window.  If you
wish to disable this behavior, and allow programs to run even when the window
is not active, apply this setting to your defaults database:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>defaults write CrystalSpace.Global System.RunWhenNotFocused yes
</pre></td></tr></table></P><P>

You can also use the command-line option `<SAMP>--alwaysruns</SAMP>'.
<A NAME="Problems"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_31.html#SEC99"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_33.html#SEC101"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_27.html#SEC85"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_28.html#SEC96"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_33.html#SEC101"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_286.html#SEC960">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated using
<A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
