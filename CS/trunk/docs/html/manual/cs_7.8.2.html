<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HTML>
<HEAD>
<TITLE>Crystal Space: Java Bindings</TITLE>

<META NAME="description" CONTENT="Crystal Space: Java Bindings">
<META NAME="keywords" CONTENT="Crystal Space: Java Bindings">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC7.8.2"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_7.8.1.html#SEC7.8.1"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_7.8.3.html#SEC7.8.3"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_7.7.html#SEC7.7"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_7.8.html#SEC7.8"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_7.9.html#SEC7.9"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs__1.html#SEC_1">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H3> 7.8.2 Java Bindings </H3>
<!--docid::SEC7.8.2::-->
<P>

<EM>Written by Eric Sunshine, <A HREF="mailto:sunshine@sunshineco.com">sunshine@sunshineco.com</A></EM>.
</P><P>

The csJava module provides access to Crystal Space from Java in the form of a
set of classes in the package `<SAMP>org.crystalspace3d</SAMP>' which can be imported
into pure Java programs. The csJava module consists of a JAR package,
`<TT>crystalspace.jar</TT>', and a shared library, `<TT>csjava</TT>'.
</P><P>

The Crystal Space classes, interfaces, and methods exported to Java are used in
almost the same fashion as in C++. Consequently, the Crystal Space Public
API Reference can be consulted in most cases. There is also a sample
program which shows concretely how to utilize Crystal Space from Java. It
performs the same functionality as the first C++ tutorial
(see section <A HREF="cs_5.2.html#SEC5.2">5.2 Simple Tutorial 1</A>).
</P><P>

Presently, the caJava module can be built only by people using Jam or "make"
to build Crystal Space. To build csJava, follow these instructions:
</P><P>

<OL>
<LI>
Install Swig.
<P>

<A HREF="http://www.swig.org/">http://www.swig.org/</A>
</P><P>

<LI>
Install a Java SDK. Crystal Space has been tested with Sun's Java2
SDK, Standard Edition 1.4.x. After installing Java, be sure that the
`<SAMP>java</SAMP>' and `<SAMP>javac</SAMP>' commands are found by your `<SAMP>PATH</SAMP>' environment
variable, or set `<SAMP>JAVA_HOME</SAMP>'.
<P>

<A HREF="http://java.sun.com/j2ee/1.4/download.html">http://java.sun.com/j2ee/1.4/download.html</A>
</P><P>

<LI>
Install Ant, a "make"-like tool for Java. After installing Ant, be sure that
the `<SAMP>ant</SAMP>' command is found by your `<SAMP>PATH</SAMP>' environment variable, or
set `<SAMP>ANT_HOME</SAMP>'.
<P>

<A HREF="http://ant.apache.org/">http://ant.apache.org/</A>
</P><P>

<LI>
Configure Crystal Space. The configure script should recognize the `<SAMP>java</SAMP>',
`<SAMP>javac</SAMP>', `<SAMP>ant</SAMP>', and `<SAMP>swig</SAMP>' commands, and perform a "Java SDK
usability" check. If all checks succeed, continue to the next step.
<P>

<LI>
Build and optionally install Crystal Space. The csJava module will be built
along with the rest of the project.
</OL>
<P>

Once Crystal Space is built and optionally installed, you can use the csJava
module in your own programs. To do so, follow these instructions:
</P><P>

<OL>
<LI>
Tell Java where to find `<TT>crystalspace.jar</TT>' by setting your
`<SAMP>CLASSPATH</SAMP>' environment variable to point at the JAR file. If you
installed Crystal Space, then the JAR file will reside at:
<P>

<CODE>${prefix}/share/crystalspace/bindings/java/crystalspace.jar</CODE>
</P><P>

where ${prefix} is the installation path (typically, `<TT>/usr/local</TT>'). If
you did not install Crystal space, then the JAR file will be in the
top-level build directory (this will be the `<TT>CS</TT>' directory if you
configured and built in the `<TT>CS</TT>' directory). For convenience in testing,
you can also point your `<SAMP>CLASSPATH</SAMP>' variable at the current directory
(`<SAMP>.</SAMP>').
</P><P>

<LI>
Tell Java where to find the csJava shared library by setting your
`<SAMP>LD_LIBRARY_PATH</SAMP>' environment variable on Unix, your `<SAMP>PATH</SAMP>' variable
on Windows, or your `<SAMP>DYLD_LIBRARY_PATH</SAMP>' variable on MacOS/X. On Unix, the
library's name is `<TT>libcsjava.so</TT>'; on Windows it is `<TT>csjava.dll</TT>'; and
on MacOS/X, it is `<TT>libcsjava.jnilib</TT>'. If you installed Crystal Space, then
the library will reside at:
<P>

<CODE>${prefix}/share/crystalspace/bindings/java</CODE>
</P><P>

If you did not install Crystal Space, then it will be in the top-level build
directory.
</P><P>

<LI>
If necessary, set your `<SAMP>CRYSTAL</SAMP>' environment variable to allow Crystal
Space to locate its plugin modules and other resources.
<P>

<LI>
In the directory containing your Java program, `<TT>myprog.java</TT>', compile it
with the `<SAMP>javac</SAMP>' command: `<SAMP>javac myprog.java</SAMP>'
<P>

<LI>
Run your program: `<SAMP>java myprog</SAMP>'
</OL>
<P>

The sample program `<TT>SimpleRoom.java</TT>' provides a nice example of how to
utilize Crystal Space from Java. It provides the same functionality as the
first C++ tutorial (see section <A HREF="cs_5.2.html#SEC5.2">5.2 Simple Tutorial 1</A>).  If you installed Crystal Space,
then `<TT>SimpleRoom.java</TT>' will reside at:
</P><P>

<CODE>${prefix}/share/crystalspace/bindings/java/SimpleRoom.java</CODE>
</P><P>

If you did not install Crystal Space, then you can find it in the Crystal Space
source tree at `<TT>CS/scripts/java/SimpleRoom.java</TT>'. To experiment with
`<TT>SimpleRoom.java</TT>', copy it to a convenient work directory, compile it with
`<SAMP>javac</SAMP>', and run it with `<SAMP>java</SAMP>'.  Here is a sample session on Linux
illustrating the above instructions:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>% cd CS
% ./configure
...
checking for swig... swig
checking if swig version &#62;= 1.3.20... yes (version 1.3.22)
checking for java... /usr/java/j2sdk1.4.2_06/bin/java
checking for javac... /usr/java/j2sdk1.4.2_06/bin/javac
checking if Java2 SDK is usable... yes
checking for ant... /usr/local/ant/bin/ant
...
% jam install # (or 'make install')

% csjavadir=/usr/local/share/crystalspace/bindings/java
% CLASSPATH=$CLASSPATH:.:$csjavadir/crystalspace.jar
% export CLASSPATH
% LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$csjavadir
% export LD_LIBRARY_PATH
% CRYSTAL=/usr/local
% export CRYSTAL
% mkdir $HOME/javatest
% cd $HOME/javatest
% cp $csjavadir/SimpleRoom.java .
% javac SimpleRoom.java
% java SimpleRoom
</pre></td></tr></table></P><P>

On Windows and MacOS/X, the procedure is almost identical. The primary difference is that, rather than setting `<SAMP>LD_LIBRARY_PATH</SAMP>', you need to set the `<SAMP>PATH</SAMP>' environment variable on Windows to point at the directory containing `<TT>csjava.dll</TT>'; or the `<SAMP>DYLD_LIBRARY_PATH</SAMP>' variable on MacOS/X to point at the directory containing `<TT>libcsjava.jnilib</TT>'.
<A NAME="Perl Bindings"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_7.8.1.html#SEC7.8.1"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_7.8.3.html#SEC7.8.3"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_7.7.html#SEC7.7"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_7.8.html#SEC7.8"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_7.9.html#SEC7.9"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs__1.html#SEC_1">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated using
<A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
