<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HTML>
<HEAD>
<TITLE>Crystal Space: HOWTO Creating External Application using KDevelop</TITLE>

<META NAME="description" CONTENT="Crystal Space: HOWTO Creating External Application using KDevelop">
<META NAME="keywords" CONTENT="Crystal Space: HOWTO Creating External Application using KDevelop">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC5.8.18"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_5.8.17.html#SEC5.8.17"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_5.8.19.html#SEC5.8.19"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_5.7.html#SEC5.7"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_5.8.html#SEC5.8"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_6.html#SEC6"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs__1.html#SEC_1">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H3> 5.8.18 Creating an External Application using KDevelop </H3>
<!--docid::SEC5.8.18::-->
<P>

<EM>Written by Andreas Busch, <A HREF="mailto:nobita@t-online.de">nobita@t-online.de</A>.  Last updated
1 April 2004.</EM>
</P><P>

This HOWTO is a step by step guide for creating a Crystal Space
application using KDevelop as your integrated development environment outside
the Crystal Space source tree.
</P><P>

<A NAME="SEC_1"></A>
<H4> KDevelop External Step 1 </H4>
<!--docid::SEC_1::-->
<P>

Open KDevelop and click on <EM>New</EM> from the <EM>Project</EM> menu.  The
KDevelop Application Wizard offers you special settings for the creation of
dedicated GNOME or KDE/Qt applications, but the selection
<EM>Terminal-C++</EM> is usually sufficient for creating a new Crystal Space
project (i.e. using OpenGL).
</P><P>

<CENTER><IMG SRC="tutorial/howto/kdevproj/snap0.jpg" ALT="tutorial/howto/kdevproj/snap0"></CENTER>
</P><P>

<A NAME="SEC_2"></A>
<H4> KDevelop External Step 2 </H4>
<!--docid::SEC_2::-->
<P>

In the <EM>Generate settings</EM> dialog enter the <EM>Project name</EM> as well as
the <EM>Project directory</EM> for your project files outside the Crystal Space
tree.  When you mark the checkbox <EM>generate sources and headers</EM> the Hello
World `<TT>main.cpp</TT>' and `<TT>main.h</TT>' files are generated which can be used
if you want to start from scratch.  If you want to import source files to start
with, leave it unchecked.  The <EM>GNU-Standard-Files</EM> option copies the
General Public License file `<TT>COPYING</TT>' a dummy `<TT>README</TT>' and
`<TT>INSTALL</TT>' file into the project tree.
</P><P>

<CENTER><IMG SRC="tutorial/howto/kdevproj/snap1.jpg" ALT="tutorial/howto/kdevproj/snap1"></CENTER>
</P><P>

Click <EM>Next</EM> and you will next be confronted with another dialog box.
</P><P>

<A NAME="SEC_3"></A>
<H4> KDevelop External Step 3 </H4>
<!--docid::SEC_3::-->
<P>

If you want <EM>Version Control Support</EM> you can select <EM>CVS</EM> now
and fill the required fields according to your CVS environment, otherwise
leave it set to <EM>NONE</EM>.
</P><P>

The <EM>Next</EM> two pages are header templates for header `<TT>.h</TT>' and source
`<TT>.cpp</TT>' files.  Click <EM>Next</EM> when you're done here.
</P><P>

<CENTER><IMG SRC="tutorial/howto/kdevproj/snap2.jpg" ALT="tutorial/howto/kdevproj/snap2"></CENTER>
</P><P>

Now an almost empty window appears and you should click on <EM>Create</EM> to run
an automake.  After that you can click on <EM>Exit</EM> and do the relevant parts
for using KDevelop with Crystal Space.
</P><P>

<A NAME="SEC_4"></A>
<H4> KDevelop External Step 4 </H4>
<!--docid::SEC_4::-->
<P>

Click on <EM>Options</EM> in the <EM>Project</EM> menu and select <EM>Compiler
Options</EM>.  <EM>Add</EM> a new <EM>Configuration</EM> and call it
<EM>CrystalSpace</EM>, then make sure to set the path back to the correct
<EM>Build Directoy</EM>.
</P><P>

<CENTER><IMG SRC="tutorial/howto/kdevproj/snap3.jpg" ALT="tutorial/howto/kdevproj/snap3"></CENTER>
</P><P>

<A NAME="SEC_5"></A>
<H4> KDevelop External Step 5 </H4>
<!--docid::SEC_5::-->
<P>

When you installed Crystal Space, the script `<TT>cs-config</TT>' should have been
placed in the `<TT>bin/</TT>' installation directory, and this directory should be
mentioned by your `<SAMP>PATH</SAMP>' environment variable,so that you can invoke
`<TT>cs-config</TT>' as you would any other program simply by typing its name.  If
you did not install Crystal Space, then you may want to copy `<TT>cs-config</TT>'
into the top directory of your new project, or alter your `<SAMP>PATH</SAMP>' variable
so that it points at the directory containing `<TT>cs-config</TT>' (the Crystal
Space build directory, for instance).  In the examples below which invoke
`<TT>cs-config</TT>', be sure to include the backticks in the fields
<EM>CFLAGS</EM> and <EM>CXXFLAGS</EM> in the <EM>Flags and Warnings</EM>
tab for the `<TT>cs-config</TT>' script to be executed properly, otherwise you will
get an error message that your C-compiler cannot create executables.  The
<EM>CFLAGS</EM> field should contain `<SAMP>`./cs-config --cflags`</SAMP>', and
<EM>CXXFLAGS</EM> should contain `<SAMP>`./cs-config --cxxflags`</SAMP>'.
</P><P>

<CENTER><IMG SRC="tutorial/howto/kdevproj/snap4.jpg" ALT="tutorial/howto/kdevproj/snap4"></CENTER>
</P><P>

<A NAME="SEC_6"></A>
<H4> KDevelop External Step 6 </H4>
<!--docid::SEC_6::-->
<P>

The same applies to the field <EM>Additional flags</EM> in the <EM>Linker
Flags</EM> tab.  After `<SAMP>`cs-config --libs`</SAMP>' you have to add the Crystal Space
standard libraries `<TT>cstool</TT>', `<TT>gsgfx</TT>', `<TT>csgeom</TT>', `<TT>csutil</TT>';
thus, the entire content of the <EM>Additional flags</EM> field should be
`<SAMP>`./cs-config --libs cstool csgfx csgeom csutil`</SAMP>'.
</P><P>

<CENTER><IMG SRC="tutorial/howto/kdevproj/snap5.jpg" ALT="tutorial/howto/kdevproj/snap5"></CENTER>
</P><P>

<A NAME="SEC_7"></A>
<H4> KDevelop External Step 7 </H4>
<!--docid::SEC_7::-->
<P>

Now over to the <EM>Linker Options</EM>.  Include your additional libraries here
as needed.  Many platforms will require `<SAMP>-lpthread</SAMP>' in this field.
</P><P>

<CENTER><IMG SRC="tutorial/howto/kdevproj/snap6.jpg" ALT="tutorial/howto/kdevproj/snap6"></CENTER>
</P><P>

<A NAME="SEC_8"></A>
<H4> KDevelop External Step 8 </H4>
<!--docid::SEC_8::-->
<P>

In the <EM>Make Options</EM> dialog you need to set the include directory for
Crystal Space.  Don't forget the backticks for automatic execution upon build.
The <EM>additional options</EM> field should contain
<CODE>-I`./cs-config --includedir`</CODE>.
</P><P>

<CENTER><IMG SRC="tutorial/howto/kdevproj/snap7.jpg" ALT="tutorial/howto/kdevproj/snap7"></CENTER>
</P><P>

Click on <EM>OK</EM> and the configure will re-run.
</P><P>

In the <EM>Compile Configuration</EM> you can now change from <EM>(Default)</EM> to
<EM>CrystalSpace</EM> to set your compiler options.  If you want to compile for
different target platforms or optimized processor-types you can invoke
<EM>Configure</EM> in the <EM>Build</EM> menu with different arguments.  For
example, `<SAMP>--host=i686-linux --build=i686-linux --target=i686-linux</SAMP>',
instead of the `<SAMP>i386-linux</SAMP>' default in KDevelop.  Of course, you can
choose other platforms as well.
</P><P>

<CENTER><IMG SRC="tutorial/howto/kdevproj/snap8.jpg" ALT="tutorial/howto/kdevproj/snap8"></CENTER>
</P><P>

<A NAME="SEC_9"></A>
<H4> KDevelop External Step 9 </H4>
<!--docid::SEC_9::-->
<P>

In the <EM>Project</EM> menu you can now <EM>Add existing File(s)</EM> to your
project.  Select the `<TT>simple1.cpp</TT>' and `<TT>simple1.h</TT>' files from the
Crystal Space code tree and add them to your project destination directory.
You may want to uncheck the <CODE>insert templates</CODE> box to keep the files
unmodified.
</P><P>

These files can be found within the Crystal Space source code tree at the
following location:
</P><P>

`<TT>CS/apps/tutorial/simple1</TT>'
</P><P>

Alternately, you can type in your own Crystal Space program, but for the sake
of this tutorial, using the existing `<TT>simple1</TT>' application is easier.
</P><P>

The resulting KDevelop project session file `<TT>kdevelopcs.kdevses</TT>' will look
like this.  (You do not need to edit this file by hand; it is shown here for
illustrative purposes only.)
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>&#60;?xml version="1.0" encoding="UTF-8"?&#62;
&#60;!DOCTYPE KDevPrjSession&#62;
&#60;KDevPrjSession&#62;
 &#60;CompileConfigs&#62;
  &#60;CrystalSpace&#62;
   &#60;Architecture&#62;i386&#60;/Architecture&#62;
   &#60;Platform&#62;linux&#60;/Platform&#62;
   &#60;VPATHSubdir&#62;/compile/kdevelopcs&#60;/VPATHSubdir&#62;
   &#60;CFLAGS&#62;`./cs-config --cflags`&#60;/CFLAGS&#62;
   &#60;CPPFLAGS&#62;&#60;/CPPFLAGS&#62;
   &#60;CXXFLAGS&#62;-O0 -g3 -Wall&#60;/CXXFLAGS&#62;
   &#60;AdditCXXFLAGS&#62;`./cs-config --cxxflags`&#60;/AdditCXXFLAGS&#62;
   &#60;LDFLAGS&#62;`./cs-config --libs`&#60;/LDFLAGS&#62;
   &#60;ConfigureArgs&#62;--build=i386-linux --host=i386-linux \
    --target=i386-linux&#60;/ConfigureArgs&#62;
  &#60;/CrystalSpace&#62;
 &#60;/CompileConfigs&#62;
 &#60;LastCompileConfig&#62;CrystalSpace&#60;/LastCompileConfig&#62;
 &#60;Mainframe MaximizeMode="1" /&#62;
 &#60;DocsAndViews NumberOfDocuments="1" &#62;
  &#60;Doc0 CursorPosLine="0" Type="KWriteDoc" NumberOfViews="1" \
   CursorPosCol="0" FileName="/compile/kdevelopcs/kdevelopcs/main.cpp" &#62;
   &#60;View0 Top="0" Width="406" Attach="1" Height="328" Left="0" \
    Focus="1" Type="KWriteView" MinMaxMode="2" /&#62;
  &#60;/Doc0&#62;
 &#60;/DocsAndViews&#62;
&#60;/KDevPrjSession&#62;
</pre></td></tr></table></P><P>

The following is the content of the KDevelop project file
`<TT>kdevelopcs.kdevprj</TT>'.  (Keep in mind that this file is created and updated
automatically by KDevelop, so you do not need to manually change this file
either.)
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>[AUTHORS]
dist=true
install=false
install_location=
type=DATA

[COPYING]
dist=true
install=false
install_location=
type=DATA

[ChangeLog]
dist=true
install=false
install_location=
type=DATA

[Config for BinMakefileAm]
bin_program=kdevelopcs
cxxflags=-O0 -g3 -Wall
ldadd=-lpthread
ldflags=

[General]
AMChanged=false
author=Some Body
configure_args=
email=some.body@some.where
execute_args=-video=opengl
kdevprj_version=1.3
lfv_open_groups=
make_options=-j1 -I/usr/local/include/crystalspace
makefiles=Makefile.am,kdevelopcs/Makefile.am, \
kdevelopcs/docs/Makefile.am,kdevelopcs/docs/en/Makefile.am
modifyMakefiles=true
project_name=KDevelopCS
project_type=normal_cpp
sgml_file=/compile/kdevelopcs/kdevelopcs/docs/en/index.sgml
short_info=
sub_dir=kdevelopcs/
version=0.1
version_control=None

[INSTALL]
dist=true
install=false
install_location=
type=DATA

[LFV Groups]
GNU=AUTHORS,COPYING,ChangeLog,INSTALL,README,TODO,NEWS
Headers=*.h,*.hh,*.hxx,*.hpp,*.H
Others=*
Sources=*.cpp,*.c,*.cc,*.C,*.cxx,*.ec,*.ecpp,*.lxx,*.l++,*.ll,*.l
groups=Headers,Sources,GNU,Others

[Makefile.am]
files=kdevelopcs.kdevprj,admin,AUTHORS,COPYING,ChangeLog, \
INSTALL,README,TODO,kdevelopcs.lsm
sub_dirs=kdevelopcs
type=normal

[README]
dist=true
install=false
install_location=
type=DATA

[TODO]
dist=true
install=false
install_location=
type=DATA

[admin]
dist=true
install=false
install_location=
type=DATA

[kdevelopcs.kdevprj]
dist=true
install=false
install_location=
type=DATA

[kdevelopcs.lsm]
dist=true
install=false
install_location=
type=DATA

[kdevelopcs/Makefile.am]
files=kdevelopcs/simple1.cpp,kdevelopcs/simple1.h
sub_dirs=docs
type=prog_main

[kdevelopcs/docs/Makefile.am]
sub_dirs=en
type=normal

[kdevelopcs/docs/en/Makefile.am]
files=kdevelopcs/docs/en/index.html,kdevelopcs/docs/en/index-1.html, \
 kdevelopcs/docs/en/index-2.html,kdevelopcs/docs/en/index-3.html, \
 kdevelopcs/docs/en/index-4.html,kdevelopcs/docs/en/index-5.html, \
 kdevelopcs/docs/en/index-6.html
sub_dirs=
type=normal

[kdevelopcs/docs/en/index-1.html]
dist=true
install=false
install_location=
type=DATA

[kdevelopcs/docs/en/index-2.html]
dist=true
install=false
install_location=
type=DATA

[kdevelopcs/docs/en/index-3.html]
dist=true
install=false
install_location=
type=DATA

[kdevelopcs/docs/en/index-4.html]
dist=true
install=false
install_location=
type=DATA

[kdevelopcs/docs/en/index-5.html]
dist=true
install=false
install_location=
type=DATA

[kdevelopcs/docs/en/index-6.html]
dist=true
install=false
install_location=
type=DATA

[kdevelopcs/docs/en/index.html]
dist=true
install=false
install_location=
type=DATA

[kdevelopcs/simple1.cpp]
dist=true
install=false
install_location=
type=SOURCE

[kdevelopcs/simple1.h]
dist=true
install=false
install_location=
type=HEADER
</pre></td></tr></table></P><P>

That is all there is to it.  Select <EM>Make</EM> from the <EM>Build</EM> menu, see
your application correctly building, and do a test launch with <EM>Execute</EM>
or <EM>Execute with arguments</EM> if you want to add <CODE>-video=opengl</CODE> for
OpenGL rendering.
<A NAME="HOWTO Create RPM"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_5.8.17.html#SEC5.8.17"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_5.8.19.html#SEC5.8.19"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_5.7.html#SEC5.7"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_5.8.html#SEC5.8"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_6.html#SEC6"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs__1.html#SEC_1">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated using
<A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
