<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Crystal Space: iengine/light.h File Reference (Crystal Space Public API Reference)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<table border="0" cellpadding="0" cellspacing="0" width="100%" class="head">
 <tr heigth="59">
  <td class="head" width="202" valign="bottom" style="padding-left:0;"><a href="http://www.crystalspace3d.org/"><img src="csblur.png" width="236" height="59" alt="CrystalSpace" border="0"></a></td>
  <td class="head"><h2>Public API Reference</h2></td>
 </tr>
 <tr heigth="11">
  <td colspan="2" class="headshadow" valign="top" style="padding-left:0;"><img src="csblurb.png" width="236" height="11" alt="" border="0"></td>
 </tr>
</table>
<div class="content">
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000030.html">iengine</a></div>
<h1>light.h File Reference</h1>Light interfaces. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="scf_8h-source.html">csutil/scf.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="fview_8h-source.html">iengine/fview.h</a>&quot;</code><br>

<p>
<a href="light_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiLight.html">iLight</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The iLight interface is the SCF interface for the csLight class.  <a href="structiLight.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiLightCallback.html">iLightCallback</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set a callback which is called when this light color is changed.  <a href="structiLightCallback.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiLightingProcessData.html">iLightingProcessData</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The iLightingProcessData interface can be implemented by a mesh object so that it can attach additional information for the lighting process.  <a href="structiLightingProcessData.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiLightingProcessInfo.html">iLightingProcessInfo</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The iLightingProcessInfo interface holds information for the lighting system.  <a href="structiLightingProcessInfo.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiLightIterator.html">iLightIterator</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Iterator to iterate over all static lights in the engine.  <a href="structiLightIterator.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structiLightList.html">iLightList</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This structure represents a list of lights.  <a href="structiLightList.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Light flags</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="light_8h.html#a1">CS_LIGHT_ACTIVEHALO</a>&nbsp;&nbsp;&nbsp;0x80000000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If this flag is set, the halo for this light is active and is in the engine's queue of active halos.  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="light_8h.html#a0">CS_LIGHT_THINGSHADOWS</a>&nbsp;&nbsp;&nbsp;0x00000001</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If CS_LIGHT_THINGSHADOWS is set for a light then things will also cast shadows.  <a href="#a0"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Attenuation modes</h2></td></tr>
<tr><td colspan="2">Attenuation controls how the brightness of a light fades with distance. Apart from the attenuation mode there are one to tree constants, which change meaning depending on attenuation mode. There are five attenuation formulas: (distance is distance between point for which lighting is computed and the light)<ul>
<li>no attenuation = light * 1</li><li>linear attenuation = light * (1 - distance / constant1)</li><li>inverse attenuation = light / distance</li><li>realistic attenuation = light / distance^2</li><li>CLQ, Constant Linear Quadratic = light / (constant1 + constant2*distance + constant3*distance^2) </li></ul>
<br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="light_8h.html#a16">csLightAttenuationMode</a> { <br>
&nbsp;&nbsp;<a class="el" href="light_8h.html#a16a7">CS_ATTN_NONE</a> =  0, 
<a class="el" href="light_8h.html#a16a8">CS_ATTN_LINEAR</a> =  1, 
<a class="el" href="light_8h.html#a16a9">CS_ATTN_INVERSE</a> =  2, 
<a class="el" href="light_8h.html#a16a10">CS_ATTN_REALISTIC</a> =  3, 
<br>
&nbsp;&nbsp;<a class="el" href="light_8h.html#a16a11">CS_ATTN_CLQ</a> =  4
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Light Dynamic Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="light_8h.html#a15">csLightDynamicType</a> { <a class="el" href="light_8h.html#a15a4">CS_LIGHT_DYNAMICTYPE_STATIC</a> =  1, 
<a class="el" href="light_8h.html#a15a5">CS_LIGHT_DYNAMICTYPE_PSEUDO</a> =  2, 
<a class="el" href="light_8h.html#a15a6">CS_LIGHT_DYNAMICTYPE_DYNAMIC</a> =  3
 }</td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="light_8h.html#a2">CS_DEFAULT_LIGHT_LEVEL</a>&nbsp;&nbsp;&nbsp;20</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Light level that is used when there is no light on the texture.  <a href="#a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="light_8h.html#a3">CS_NORMAL_LIGHT_LEVEL</a>&nbsp;&nbsp;&nbsp;128</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Light level that corresponds to a normally lit texture.  <a href="#a3"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="light_8h.html#a17">csLightType</a> { <a class="el" href="light_8h.html#a17a12">CS_LIGHT_POINTLIGHT</a>, 
<a class="el" href="light_8h.html#a17a13">CS_LIGHT_DIRECTIONAL</a>, 
<a class="el" href="light_8h.html#a17a14">CS_LIGHT_SPOTLIGHT</a>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type of lightsource.  <a href="light_8h.html#a17">More...</a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Light interfaces. 
<p>

<p>
Definition in file <a class="el" href="light_8h-source.html">light.h</a>.<hr><h2>Define Documentation</h2>
<a class="anchor" name="a2"></a><!-- doxytag: member="light.h::CS_DEFAULT_LIGHT_LEVEL" ref="a2" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define CS_DEFAULT_LIGHT_LEVEL&nbsp;&nbsp;&nbsp;20          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Light level that is used when there is no light on the texture. 
<p>

<p>
Definition at line <a class="el" href="light_8h-source.html#l00095">95</a> of file <a class="el" href="light_8h-source.html">light.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1"></a><!-- doxytag: member="light.h::CS_LIGHT_ACTIVEHALO" ref="a1" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define CS_LIGHT_ACTIVEHALO&nbsp;&nbsp;&nbsp;0x80000000          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If this flag is set, the halo for this light is active and is in the engine's queue of active halos. 
<p>
When halo become inactive, this flag is reset.
<p>
Definition at line <a class="el" href="light_8h-source.html#l00063">63</a> of file <a class="el" href="light_8h-source.html">light.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0"></a><!-- doxytag: member="light.h::CS_LIGHT_THINGSHADOWS" ref="a0" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define CS_LIGHT_THINGSHADOWS&nbsp;&nbsp;&nbsp;0x00000001          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If CS_LIGHT_THINGSHADOWS is set for a light then things will also cast shadows. 
<p>
This flag is set by default for static lights and unset for dynamic lights.
<p>
Definition at line <a class="el" href="light_8h-source.html#l00056">56</a> of file <a class="el" href="light_8h-source.html">light.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3"></a><!-- doxytag: member="light.h::CS_NORMAL_LIGHT_LEVEL" ref="a3" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define CS_NORMAL_LIGHT_LEVEL&nbsp;&nbsp;&nbsp;128          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Light level that corresponds to a normally lit texture. 
<p>

<p>
Definition at line <a class="el" href="light_8h-source.html#l00097">97</a> of file <a class="el" href="light_8h-source.html">light.h</a>.    </td>
  </tr>
</table>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="a16"></a><!-- doxytag: member="light.h::csLightAttenuationMode" ref="a16" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="light_8h.html#a16">csLightAttenuationMode</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="a16a7"></a><!-- doxytag: member="CS_ATTN_NONE" ref="a16a7" args="" -->CS_ATTN_NONE</em>&nbsp;</td><td>
no attenuation: light * 1 </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a16a8"></a><!-- doxytag: member="CS_ATTN_LINEAR" ref="a16a8" args="" -->CS_ATTN_LINEAR</em>&nbsp;</td><td>
linear attenuation: light * (1 - distance / constant1) </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a16a9"></a><!-- doxytag: member="CS_ATTN_INVERSE" ref="a16a9" args="" -->CS_ATTN_INVERSE</em>&nbsp;</td><td>
inverse attenuation: light / distance </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a16a10"></a><!-- doxytag: member="CS_ATTN_REALISTIC" ref="a16a10" args="" -->CS_ATTN_REALISTIC</em>&nbsp;</td><td>
realistic attenuation: light / distance^2 </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a16a11"></a><!-- doxytag: member="CS_ATTN_CLQ" ref="a16a11" args="" -->CS_ATTN_CLQ</em>&nbsp;</td><td>
CLQ, Constant Linear Quadratic: light / (constant1 + constant2*distance + constant3*distance^2). </td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="light_8h-source.html#l00112">112</a> of file <a class="el" href="light_8h-source.html">light.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15"></a><!-- doxytag: member="light.h::csLightDynamicType" ref="a15" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="light_8h.html#a15">csLightDynamicType</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="a15a4"></a><!-- doxytag: member="CS_LIGHT_DYNAMICTYPE_STATIC" ref="a15a4" args="" -->CS_LIGHT_DYNAMICTYPE_STATIC</em>&nbsp;</td><td>
A fully static light. 
<p>
Unless you are using shaders/renderloop that treat all lights as dynamic this light cannot move and cannot change color. Shadows are accurate and precalculated (if you use lightmaps).</td></tr>
<tr><td valign="top"><em><a class="anchor" name="a15a5"></a><!-- doxytag: member="CS_LIGHT_DYNAMICTYPE_PSEUDO" ref="a15a5" args="" -->CS_LIGHT_DYNAMICTYPE_PSEUDO</em>&nbsp;</td><td>
A pseudo-dynamic light. 
<p>
Unless you are using shaders/renderloop that treat all lights as dynamic this light cannot move but it can change color. Shadows are accurate and precalculated (if you use lightmaps).</td></tr>
<tr><td valign="top"><em><a class="anchor" name="a15a6"></a><!-- doxytag: member="CS_LIGHT_DYNAMICTYPE_DYNAMIC" ref="a15a6" args="" -->CS_LIGHT_DYNAMICTYPE_DYNAMIC</em>&nbsp;</td><td>
A fully dynamic light. 
<p>
No shadows are calculated unless you use a shader/renderloop that does that in hardware.</td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="light_8h-source.html#l00069">69</a> of file <a class="el" href="light_8h-source.html">light.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17"></a><!-- doxytag: member="light.h::csLightType" ref="a17" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="light_8h.html#a17">csLightType</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Type of lightsource. 
<p>
There are currently three types of lightsources:<ul>
<li>Point lights - have a position. Shines in all directions.</li><li>Directional lights - have a direction and radius. Shines along it's major axis.</li><li>Spot lights - have both position and direction. Shines with full strength along major axis and out to the hotspot angle. Between hotspot and outer angle it will falloff, outside outer angle there shines no light.</li></ul>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="a17a12"></a><!-- doxytag: member="CS_LIGHT_POINTLIGHT" ref="a17a12" args="" -->CS_LIGHT_POINTLIGHT</em>&nbsp;</td><td>
Point light. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a17a13"></a><!-- doxytag: member="CS_LIGHT_DIRECTIONAL" ref="a17a13" args="" -->CS_LIGHT_DIRECTIONAL</em>&nbsp;</td><td>
Directional light. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a17a14"></a><!-- doxytag: member="CS_LIGHT_SPOTLIGHT" ref="a17a14" args="" -->CS_LIGHT_SPOTLIGHT</em>&nbsp;</td><td>
Spot light. </td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="light_8h-source.html#l00141">141</a> of file <a class="el" href="light_8h-source.html">light.h</a>.    </td>
  </tr>
</table>
<hr size="1"><address><small>Generated for Crystal Space by 
<a href="http://www.doxygen.org/index.html">doxygen</a> 1.4.4 
</small></address> </div></body> </html>
