<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Crystal Space: cswinMinidumpWriter Class Reference (Crystal Space Public API Reference)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<table border="0" cellpadding="0" cellspacing="0" width="100%" class="head">
 <tr heigth="59">
  <td class="head" width="202" valign="bottom" style="padding-left:0;"><a href="http://www.crystalspace3d.org/"><img src="csblur.png" width="236" height="59" alt="CrystalSpace" border="0"></a></td>
  <td class="head"><h2>Public API Reference</h2></td>
 </tr>
 <tr heigth="11">
  <td colspan="2" class="headshadow" valign="top" style="padding-left:0;"><img src="csblurb.png" width="236" height="11" alt="" border="0"></td>
 </tr>
</table>
<div class="content">
<!-- Generated by Doxygen 1.4.3-20050530 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>cswinMinidumpWriter Class Reference</h1><!-- doxytag: class="cswinMinidumpWriter" -->Helper to write minidumps on Win32.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="minidump_8h-source.html">csutil/win32/minidump.h</a>&gt;</code>
<p>
<a href="classcswinMinidumpWriter-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcswinMinidumpWriter.html#w0">FnCrashMinidumpHandler</a> )(const char *dumpFile)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Callback that can be provided by the application to further deal with the crash dump file.  <a href="#w0"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcswinMinidumpWriter.html#e0">WriteMinidump</a> (<a class="el" href="structMINIDUMP__EXCEPTION__INFORMATION.html">PMINIDUMP_EXCEPTION_INFORMATION</a> except=0, bool dumpHeap=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a dump of the current state of the process.  <a href="#e0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcswinMinidumpWriter.html#e1">WriteWrappedMinidump</a> (<a class="el" href="structiObjectRegistry.html">iObjectRegistry</a> *<a class="el" href="classcswinMinidumpWriter.html#t0">object_reg</a>=0, <a class="el" href="structMINIDUMP__EXCEPTION__INFORMATION.html">PMINIDUMP_EXCEPTION_INFORMATION</a> except=0, bool dumpHeap=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a mini dump that is wrapped inside a zip and also contains a textual stack trace and the reporter log file.  <a href="#e1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcswinMinidumpWriter.html#e2">EnableCrashMinidumps</a> (<a class="el" href="classcswinMinidumpWriter.html#w0">FnCrashMinidumpHandler</a> handler=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable the built-in crash handler.  <a href="#e2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcswinMinidumpWriter.html#e3">SetCrashMinidumpObjectReg</a> (<a class="el" href="structiObjectRegistry.html">iObjectRegistry</a> *<a class="el" href="classcswinMinidumpWriter.html#t0">object_reg</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the object registry used by the built-in crash handler.  <a href="#e3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcswinMinidumpWriter.html#e4">DisableCrashMinidumps</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable the built-in crash handler.  <a href="#e4"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="t0"></a><!-- doxytag: member="cswinMinidumpWriter::object_reg" ref="t0" args="" -->
static <a class="el" href="classcsWeakRef.html">csWeakRef</a>&lt; <a class="el" href="structiObjectRegistry.html">iObjectRegistry</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcswinMinidumpWriter.html#t0">object_reg</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="t1"></a><!-- doxytag: member="cswinMinidumpWriter::customHandler" ref="t1" args="" -->
static <a class="el" href="classcswinMinidumpWriter.html#w0">FnCrashMinidumpHandler</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcswinMinidumpWriter.html#t1">customHandler</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="t2"></a><!-- doxytag: member="cswinMinidumpWriter::oldFilter" ref="t2" args="" -->
static LPTOP_LEVEL_EXCEPTION_FILTER&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcswinMinidumpWriter.html#t2">oldFilter</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Helper to write minidumps on Win32. 
<p>
<dl compact><dt><b>Remarks:</b></dt><dd>This class provides functionality specific to the Win32 platform. To ensure that code using this functionality compiles properly on all other platforms, the use of the class and inclusion of the header file should be surrounded by appropriate `if defined(CS_PLATFORM_WIN32) ... endif' statements.</dd></dl>

<p>

<p>
Definition at line <a class="el" href="minidump_8h-source.html#l00038">38</a> of file <a class="el" href="minidump_8h-source.html">minidump.h</a>.<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="w0"></a><!-- doxytag: member="cswinMinidumpWriter::FnCrashMinidumpHandler" ref="w0" args=")(const char *dumpFile)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef void(* <a class="el" href="classcswinMinidumpWriter.html#w0">cswinMinidumpWriter::FnCrashMinidumpHandler</a>)(const char *dumpFile)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback that can be provided by the application to further deal with the crash dump file. 
<p>

<p>
Definition at line <a class="el" href="minidump_8h-source.html#l00045">45</a> of file <a class="el" href="minidump_8h-source.html">minidump.h</a>.    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e4"></a><!-- doxytag: member="cswinMinidumpWriter::DisableCrashMinidumps" ref="e4" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void cswinMinidumpWriter::DisableCrashMinidumps           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Disable the built-in crash handler. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="e2"></a><!-- doxytag: member="cswinMinidumpWriter::EnableCrashMinidumps" ref="e2" args="(FnCrashMinidumpHandler handler=0)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void cswinMinidumpWriter::EnableCrashMinidumps           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classcswinMinidumpWriter.html#w0">FnCrashMinidumpHandler</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>handler</em> = <code>0</code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enable the built-in crash handler. 
<p>
Sets up an exception handler that creates a dump using <a class="el" href="classcswinMinidumpWriter.html#e1">WriteWrappedMinidump()</a>. In case a custom <em>handler</em> is provided, it is called. Otherwise, a message box containing the dump file is displayed.    </td>
  </tr>
</table>
<a class="anchor" name="e3"></a><!-- doxytag: member="cswinMinidumpWriter::SetCrashMinidumpObjectReg" ref="e3" args="(iObjectRegistry *object_reg)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void cswinMinidumpWriter::SetCrashMinidumpObjectReg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structiObjectRegistry.html">iObjectRegistry</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>object_reg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the object registry used by the built-in crash handler. 
<p>
It is needed to collect some extra information, notable the reporter log. <dl compact><dt><b>Remarks:</b></dt><dd>Not setting this value will not result in failure later.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e0"></a><!-- doxytag: member="cswinMinidumpWriter::WriteMinidump" ref="e0" args="(PMINIDUMP_EXCEPTION_INFORMATION except=0, bool dumpHeap=false)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static const char* cswinMinidumpWriter::WriteMinidump           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structMINIDUMP__EXCEPTION__INFORMATION.html">PMINIDUMP_EXCEPTION_INFORMATION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>except</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>dumpHeap</em> = <code>false</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write a dump of the current state of the process. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>The filename where the dump was written to. Is created in a location for temp files.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e1"></a><!-- doxytag: member="cswinMinidumpWriter::WriteWrappedMinidump" ref="e1" args="(iObjectRegistry *object_reg=0, PMINIDUMP_EXCEPTION_INFORMATION except=0, bool dumpHeap=false)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static const char* cswinMinidumpWriter::WriteWrappedMinidump           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structiObjectRegistry.html">iObjectRegistry</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>object_reg</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structMINIDUMP__EXCEPTION__INFORMATION.html">PMINIDUMP_EXCEPTION_INFORMATION</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>except</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>dumpHeap</em> = <code>false</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write a mini dump that is wrapped inside a zip and also contains a textual stack trace and the reporter log file. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>The filename where the zip was written to. Is created in a location for temp files.</dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li>csutil/win32/<a class="el" href="minidump_8h-source.html">minidump.h</a></ul>
<hr size="1"><address><small>Generated for Crystal Space by 
<a href="http://www.doxygen.org/index.html">doxygen</a> 1.4.3-20050530 
</small></address> </div></body> </html>
