<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>csws/cscomp.h Source File (Crystal Space Public API Reference)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<table border="0" cellpadding="0" cellspacing="0" width="100%" class="head">
 <tr heigth="59">
  <td class="head" width="202" valign="bottom" style="padding-left:0;"><a href="http://www.crystalspace3d.org/"><img src="csblur.png" width="236" height="59" alt="CrystalSpace" border="0"></a></td>
  <td class="head"><h2>Public API Reference</h2></td>
 </tr>
 <tr heigth="11">
  <td colspan="2" class="headshadow" valign="top" style="padding-left:0;"><img src="csblurb.png" width="236" height="11" alt="" border="0"></td>
 </tr>
</table>
<div class="content">
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>csws/cscomp.h</h1><a href="cscomp_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/*</span>
00002 <span class="comment">    Crystal Space Windowing System: Windowing System Component interface</span>
00003 <span class="comment">    Copyright (C) 1998,1999 by Andrew Zabolotny &lt;bit@eltech.ru&gt;</span>
00004 <span class="comment"></span>
00005 <span class="comment">    This library is free software; you can redistribute it and/or</span>
00006 <span class="comment">    modify it under the terms of the GNU Library General Public</span>
00007 <span class="comment">    License as published by the Free Software Foundation; either</span>
00008 <span class="comment">    version 2 of the License, or (at your option) any later version.</span>
00009 <span class="comment"></span>
00010 <span class="comment">    This library is distributed in the hope that it will be useful,</span>
00011 <span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00012 <span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
00013 <span class="comment">    Library General Public License for more details.</span>
00014 <span class="comment"></span>
00015 <span class="comment">    You should have received a copy of the GNU Library General Public</span>
00016 <span class="comment">    License along with this library; if not, write to the Free</span>
00017 <span class="comment">    Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span>
00018 <span class="comment">*/</span>
00019 
00020 <span class="preprocessor">#ifndef __CS_CSCOMP_H__</span>
00021 <span class="preprocessor"></span><span class="preprocessor">#define __CS_CSCOMP_H__</span>
00022 <span class="preprocessor"></span>
00031 <span class="preprocessor">#include "csextern.h"</span>
00032  
00033 <span class="preprocessor">#include "<a class="code" href="csrect_8h.html">csgeom/csrect.h</a>"</span>
00034 <span class="preprocessor">#include "<a class="code" href="parray_8h.html">csutil/parray.h</a>"</span>
00035 <span class="preprocessor">#include "<a class="code" href="array_8h.html">csutil/array.h</a>"</span>
00036 <span class="preprocessor">#include "cstool/cspixmap.h"</span>
00037 <span class="preprocessor">#include "<a class="code" href="cswspal_8h.html">cswspal.h</a>"</span>
00038 <span class="preprocessor">#include "<a class="code" href="graph2d_8h.html">ivideo/graph2d.h</a>"</span>
00039 <span class="preprocessor">#include "<a class="code" href="fontserv_8h.html">ivideo/fontserv.h</a>"</span>
00040 
00041 <span class="keyword">class </span><a class="code" href="classcsApp.html">csApp</a>;
00042 <span class="keyword">class </span><a class="code" href="classcsSkin.html">csSkin</a>;
00043 <span class="keyword">class </span><a class="code" href="classcsSkinSlice.html">csSkinSlice</a>;
00044 <span class="keyword">struct </span><a class="code" href="structiEvent.html">iEvent</a>;
00045 
00046 <span class="comment">// this is where we store all the csRect for calculating visible areas and clipping in</span>
00047 <span class="keyword">typedef</span> <a class="code" href="classcsPDelArray.html">csPDelArray&lt;csRect&gt;</a> <a class="code" href="classcsPDelArray.html">cswsRectVector</a>;
00048 
00075 
<a name="l00076"></a><a class="code" href="group__csws__comps.html#ga1">00076</a> <span class="preprocessor">#define CSS_VISIBLE             0x00000001</span>
00077 <span class="preprocessor"></span>
<a name="l00078"></a><a class="code" href="group__csws__comps.html#ga2">00078</a> <span class="preprocessor">#define CSS_FOCUSED             0x00000002</span>
00079 <span class="preprocessor"></span>
<a name="l00080"></a><a class="code" href="group__csws__comps.html#ga3">00080</a> <span class="preprocessor">#define CSS_DISABLED            0x00000004</span>
00081 <span class="preprocessor"></span>
<a name="l00082"></a><a class="code" href="group__csws__comps.html#ga4">00082</a> <span class="preprocessor">#define CSS_SELECTABLE          0x00000008</span>
00083 <span class="preprocessor"></span>
<a name="l00084"></a><a class="code" href="group__csws__comps.html#ga5">00084</a> <span class="preprocessor">#define CSS_GROUP               0x00000010</span>
00085 <span class="preprocessor"></span>
<a name="l00086"></a><a class="code" href="group__csws__comps.html#ga6">00086</a> <span class="preprocessor">#define CSS_TOPSELECT           0x00000020</span>
00087 <span class="preprocessor"></span>
<a name="l00088"></a><a class="code" href="group__csws__comps.html#ga7">00088</a> <span class="preprocessor">#define CSS_TRANSPARENT         0x00000040</span>
00089 <span class="preprocessor"></span>
<a name="l00090"></a><a class="code" href="group__csws__comps.html#ga8">00090</a> <span class="preprocessor">#define CSS_MODAL               0x00000080</span>
00091 <span class="preprocessor"></span>
<a name="l00092"></a><a class="code" href="group__csws__comps.html#ga9">00092</a> <span class="preprocessor">#define CSS_MAXIMIZED           0x00000100</span>
00093 <span class="preprocessor"></span>
<a name="l00094"></a><a class="code" href="group__csws__comps.html#ga10">00094</a> <span class="preprocessor">#define CSS_DIRTY               0x00000200</span>
00095 <span class="preprocessor"></span>
<a name="l00096"></a><a class="code" href="group__csws__comps.html#ga11">00096</a> <span class="preprocessor">#define CSS_RESTART_DIRTY_CHECK 0x00000400</span>
00097 <span class="preprocessor"></span>
00136 <span class="keyword">enum</span>
00137 {
00147   <a class="code" href="group__csws__comps.html#gga36a36">cscmdAreYouDefault</a> = 0x80,
00157   <a class="code" href="group__csws__comps.html#gga36a37">cscmdActivate</a>,
00161   <a class="code" href="group__csws__comps.html#gga36a38">cscmdHide</a>,
00165   <a class="code" href="group__csws__comps.html#gga36a39">cscmdMaximize</a>,
00169   <a class="code" href="group__csws__comps.html#gga36a40">cscmdClose</a>,
00178   <a class="code" href="group__csws__comps.html#gga36a41">cscmdLimitMaximize</a>,
00188   <a class="code" href="group__csws__comps.html#gga36a42">cscmdLoseFocus</a>,
00198   <a class="code" href="group__csws__comps.html#gga36a43">cscmdReceiveFocus</a>,
00203   <a class="code" href="group__csws__comps.html#gga36a44">cscmdOK</a>,
00205   cscmdCancel,
00207   cscmdAbort,
00209   cscmdRetry,
00211   cscmdIgnore,
00220   <a class="code" href="group__csws__comps.html#gga36a49">cscmdColorSchemeChanged</a>,
00233   <a class="code" href="group__csws__comps.html#gga36a50">cscmdSkinChanged</a>,
00242   <a class="code" href="group__csws__comps.html#gga36a51">cscmdMoveClipChildren</a>,
00246   <a class="code" href="group__csws__comps.html#gga36a52">cscmdStopModal</a>
00247 };
00248 
00254 
<a name="l00255"></a><a class="code" href="group__csws__comps.html#ga12">00255</a> <span class="preprocessor">#define CS_DRAG_XMIN            0x01</span>
00256 <span class="preprocessor"></span>
<a name="l00257"></a><a class="code" href="group__csws__comps.html#ga13">00257</a> <span class="preprocessor">#define CS_DRAG_XMAX            0x02</span>
00258 <span class="preprocessor"></span>
<a name="l00259"></a><a class="code" href="group__csws__comps.html#ga14">00259</a> <span class="preprocessor">#define CS_DRAG_YMIN            0x04</span>
00260 <span class="preprocessor"></span>
<a name="l00261"></a><a class="code" href="group__csws__comps.html#ga15">00261</a> <span class="preprocessor">#define CS_DRAG_YMAX            0x08</span>
00262 <span class="preprocessor"></span>
<a name="l00263"></a><a class="code" href="group__csws__comps.html#ga16">00263</a> <span class="preprocessor">#define CS_DRAG_MOVEABLE        0x10</span>
00264 <span class="preprocessor"></span>
<a name="l00265"></a><a class="code" href="group__csws__comps.html#ga17">00265</a> <span class="preprocessor">#define CS_DRAG_SIZEABLE        0x20</span>
00266 <span class="preprocessor"></span>
<a name="l00267"></a><a class="code" href="group__csws__comps.html#ga18">00267</a> <span class="preprocessor">#define CS_DRAG_ALL             \</span>
00268 <span class="preprocessor">        (CS_DRAG_XMIN | CS_DRAG_XMAX | CS_DRAG_YMIN | CS_DRAG_YMAX)</span>
00269 <span class="preprocessor"></span>
00279 
<a name="l00280"></a><a class="code" href="group__csws__comps.html#ga19">00280</a> <span class="preprocessor">#define CS_LOCK_XMIN            0x01</span>
00281 <span class="preprocessor"></span>
<a name="l00282"></a><a class="code" href="group__csws__comps.html#ga20">00282</a> <span class="preprocessor">#define CS_LOCK_XMAX            0x02</span>
00283 <span class="preprocessor"></span>
<a name="l00284"></a><a class="code" href="group__csws__comps.html#ga21">00284</a> <span class="preprocessor">#define CS_LOCK_YMIN            0x04</span>
00285 <span class="preprocessor"></span>
<a name="l00286"></a><a class="code" href="group__csws__comps.html#ga22">00286</a> <span class="preprocessor">#define CS_LOCK_YMAX            0x08</span>
00287 <span class="preprocessor"></span>
<a name="l00288"></a><a class="code" href="group__csws__comps.html#ga23">00288</a> <span class="preprocessor">#define CS_LOCK_ALL             \</span>
00289 <span class="preprocessor">        (CS_LOCK_XMIN | CS_LOCK_XMAX | CS_LOCK_YMIN | CS_LOCK_YMAX)</span>
00290 <span class="preprocessor"></span>
00306 
<a name="l00307"></a><a class="code" href="group__csws__comps.html#ga24">00307</a> <span class="preprocessor">#define CS_REPOS_HORIZONTAL     0x10</span>
00308 <span class="preprocessor"></span>
<a name="l00309"></a><a class="code" href="group__csws__comps.html#ga25">00309</a> <span class="preprocessor">#define CS_REPOS_VERTICAL       0x20</span>
00310 <span class="preprocessor"></span>
<a name="l00311"></a><a class="code" href="group__csws__comps.html#ga26">00311</a> <span class="preprocessor">#define CS_REPOS_H_MASK         (CS_REPOS_HORIZONTAL | 0x3)</span>
00312 <span class="preprocessor"></span>
<a name="l00313"></a><a class="code" href="group__csws__comps.html#ga27">00313</a> <span class="preprocessor">#define CS_REPOS_V_MASK         (CS_REPOS_VERTICAL | 0xc)</span>
00314 <span class="preprocessor"></span>
<a name="l00315"></a><a class="code" href="group__csws__comps.html#ga28">00315</a> <span class="preprocessor">#define CS_REPOS_LEFT           (CS_REPOS_HORIZONTAL | 0x0)</span>
00316 <span class="preprocessor"></span>
<a name="l00317"></a><a class="code" href="group__csws__comps.html#ga29">00317</a> <span class="preprocessor">#define CS_REPOS_RIGHT          (CS_REPOS_HORIZONTAL | 0x1)</span>
00318 <span class="preprocessor"></span>
<a name="l00319"></a><a class="code" href="group__csws__comps.html#ga30">00319</a> <span class="preprocessor">#define CS_REPOS_HCENTER        (CS_REPOS_HORIZONTAL | 0x2)</span>
00320 <span class="preprocessor"></span>
<a name="l00321"></a><a class="code" href="group__csws__comps.html#ga31">00321</a> <span class="preprocessor">#define CS_REPOS_HCENTERSIZE    (CS_REPOS_HORIZONTAL | 0x3)</span>
00322 <span class="preprocessor"></span>
<a name="l00323"></a><a class="code" href="group__csws__comps.html#ga32">00323</a> <span class="preprocessor">#define CS_REPOS_TOP            (CS_REPOS_VERTICAL | 0x0)</span>
00324 <span class="preprocessor"></span>
<a name="l00325"></a><a class="code" href="group__csws__comps.html#ga33">00325</a> <span class="preprocessor">#define CS_REPOS_BOTTOM         (CS_REPOS_VERTICAL | 0x4)</span>
00326 <span class="preprocessor"></span>
<a name="l00327"></a><a class="code" href="group__csws__comps.html#ga34">00327</a> <span class="preprocessor">#define CS_REPOS_VCENTER        (CS_REPOS_VERTICAL | 0x8)</span>
00328 <span class="preprocessor"></span>
<a name="l00329"></a><a class="code" href="group__csws__comps.html#ga35">00329</a> <span class="preprocessor">#define CS_REPOS_VCENTERSIZE    (CS_REPOS_VERTICAL | 0xc)</span>
00330 <span class="preprocessor"></span>
<a name="l00351"></a><a class="code" href="classcsComponent.html">00351</a> <span class="keyword">class </span>CS_CSWS_EXPORT csComponent
00352 {
00353 <span class="keyword">protected</span>:
<a name="l00355"></a><a class="code" href="classcsComponent.html#p0">00355</a>   <span class="keywordtype">int</span> state;
<a name="l00357"></a><a class="code" href="classcsComponent.html#p1">00357</a>   <a class="code" href="classcsRect.html">csRect</a> dirty;
<a name="l00359"></a><a class="code" href="classcsComponent.html#p2">00359</a>   <a class="code" href="classcsRect.html">csRect</a> clip;
<a name="l00361"></a><a class="code" href="classcsComponent.html#p4">00361</a>   <span class="keywordtype">int</span> *palette, palettesize;
<a name="l00363"></a><a class="code" href="classcsComponent.html#p5">00363</a>   <span class="keywordtype">int</span> *originalpalette;
<a name="l00365"></a><a class="code" href="classcsComponent.html#p6">00365</a>   <a class="code" href="classcsRect.html">csRect</a> OrgBound;
<a name="l00367"></a><a class="code" href="classcsComponent.html#p7">00367</a>   <span class="keywordtype">char</span> DragStyle;
<a name="l00369"></a><a class="code" href="classcsComponent.html#p8">00369</a>   <span class="keywordtype">char</span> ResizeMode;
<a name="l00371"></a><a class="code" href="classcsComponent.html#t0">00371</a>   <span class="keyword">static</span> <span class="keywordtype">int</span> dragX;
00372   <span class="keyword">static</span> <span class="keywordtype">int</span> dragY;
00373   <span class="keyword">static</span> <span class="keywordtype">int</span> dragMode;
<a name="l00375"></a><a class="code" href="classcsComponent.html#t3">00375</a>   <span class="keyword">static</span> <a class="code" href="classcsRect.html">csRect</a> *dragBound;
<a name="l00377"></a><a class="code" href="classcsComponent.html#p9">00377</a>   csComponent *clipparent;
<a name="l00379"></a><a class="code" href="classcsComponent.html#p10">00379</a>   <span class="keywordtype">char</span> *text;
<a name="l00381"></a><a class="code" href="classcsComponent.html#p11">00381</a>   <a class="code" href="structiFont.html">iFont</a> *Font;
<a name="l00383"></a><a class="code" href="classcsComponent.html#p12">00383</a>   <span class="keywordtype">int</span> FontSize;
<a name="l00385"></a><a class="code" href="classcsComponent.html#p13">00385</a>   <a class="code" href="classcsArray.html">csArray&lt;csComponent*&gt;</a> clipchildren;
<a name="l00387"></a><a class="code" href="classcsComponent.html#t4">00387</a>   <span class="keyword">static</span> cswsRectVector *visregion;
00388 
00389 <span class="keyword">public</span>:
00390 <span class="preprocessor">#if (CS_PROCESSOR_SIZE == 32)</span>
00391 <span class="preprocessor"></span><span class="preprocessor"># if (_MSC_VER &gt;= 1300)</span>
00392 <span class="preprocessor"></span>  <span class="comment">/*</span>
00393 <span class="comment">   * Silence VC7 64bit warning.</span>
00394 <span class="comment">   */</span>
00395   <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> __w64 ID;
00396 <span class="preprocessor"># else</span>
00397 <span class="preprocessor"></span>
00398   <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ID;
00399 <span class="preprocessor"># endif</span>
00400 <span class="preprocessor"></span><span class="preprocessor">#else</span>
00401 <span class="preprocessor"></span>  <span class="comment">/*</span>
00402 <span class="comment">   * At some places, pointers are casted to csHashKey. Work around truncation</span>
00403 <span class="comment">   * problems by forcing csHashKey to at least 64bit on 64bit machines.</span>
00404 <span class="comment">   */</span>
00405   <span class="keyword">typedef</span> <a class="code" href="group__util.html#ga6">uint64</a> ID;
00406 <span class="preprocessor">#endif</span>
00407 <span class="preprocessor"></span>
00408 
<a name="l00410"></a><a class="code" href="classcsComponent.html#o0">00410</a>   csComponent *focused;
<a name="l00412"></a><a class="code" href="classcsComponent.html#o1">00412</a>   csComponent *top;
<a name="l00414"></a><a class="code" href="classcsComponent.html#o3">00414</a>   csComponent *next, *prev;
<a name="l00416"></a><a class="code" href="classcsComponent.html#o4">00416</a>   csComponent *parent;
<a name="l00418"></a><a class="code" href="classcsComponent.html#o5">00418</a>   <a class="code" href="classcsApp.html">csApp</a> *app;
<a name="l00420"></a><a class="code" href="classcsComponent.html#o6">00420</a>   <a class="code" href="classcsSkinSlice.html">csSkinSlice</a> *skinslice;
<a name="l00422"></a><a class="code" href="classcsComponent.html#o7">00422</a>   <span class="keywordtype">void</span>** skindata;
<a name="l00424"></a><a class="code" href="classcsComponent.html#o8">00424</a>   ID <span class="keywordtype">id</span>;
<a name="l00426"></a><a class="code" href="classcsComponent.html#o9">00426</a>   <a class="code" href="classcsRect.html">csRect</a> bound;
00427 
00429   csComponent (csComponent *iParent);
00431   <span class="keyword">virtual</span> ~csComponent ();
00432 
00434   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Insert (csComponent *comp);
00435 
00437   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Delete (csComponent *comp);
00438 
00440   <span class="keywordtype">void</span> DeleteAll ();
00441 
00443   <span class="keywordtype">void</span> InsertClipChild (csComponent *clipchild);
00444 
00446   <span class="keywordtype">void</span> DeleteClipChild (csComponent *clipchild);
00447 
<a name="l00449"></a><a class="code" href="classcsComponent.html#a7">00449</a>   csComponent *GetClipParent ()
00450   { <span class="keywordflow">return</span> clipparent; }
00451 
00453   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> SetFocused (csComponent *comp);
00454 
<a name="l00456"></a><a class="code" href="classcsComponent.html#a9">00456</a>   csComponent *GetFocused ()
00457   { <span class="keywordflow">return</span> focused; }
00458 
00460   <span class="keywordtype">bool</span> Select ();
00461 
00463   <span class="keyword">virtual</span> csComponent *NextChild (csComponent *start = 0, <span class="keywordtype">bool</span> disabled = <span class="keyword">false</span>);
00464 
00466   <span class="keyword">virtual</span> csComponent *PrevChild (csComponent *start = 0, <span class="keywordtype">bool</span> disabled = <span class="keyword">false</span>);
00467 
00469   <span class="keyword">virtual</span> csComponent *NextControl (csComponent *start = 0);
00470 
00472   <span class="keyword">virtual</span> csComponent *PrevControl (csComponent *start = 0);
00473 
00475   <span class="keyword">virtual</span> csComponent *NextGroup (csComponent *start = 0);
00476 
00478   <span class="keyword">virtual</span> csComponent *PrevGroup (csComponent *start = 0);
00479 
00481   <span class="keywordtype">bool</span> FixFocused ();
00482 
00487   <span class="keywordtype">bool</span> SetZorder (csComponent *comp, csComponent *below);
00488 
<a name="l00490"></a><a class="code" href="classcsComponent.html#a19">00490</a>   csComponent *GetTop ()
00491   { <span class="keywordflow">return</span> top; }
00492 
00503   <span class="keywordtype">void</span> SetPalette (<span class="keywordtype">int</span> *iPalette, <span class="keywordtype">int</span> iPaletteSize);
00504 
<a name="l00506"></a><a class="code" href="classcsComponent.html#a21">00506</a>   <span class="keywordtype">void</span> SetPalette (<span class="keywordtype">int</span> iPaletteID)
00507   { SetPalette (<a class="code" href="group__csws__skins.html#ga0">cswsPalette</a> [iPaletteID].Palette, <a class="code" href="group__csws__skins.html#ga0">cswsPalette</a> [iPaletteID].Size); }
00508 
00510   <span class="keywordtype">void</span> ResetPalette ();
00511 
00513   <span class="keywordtype">void</span> SetColor (<span class="keywordtype">int</span> Index, <span class="keywordtype">int</span> Color);
00514 
<a name="l00516"></a><a class="code" href="classcsComponent.html#a24">00516</a>   <span class="keywordtype">int</span> GetColor (<span class="keywordtype">int</span> Index)
00517    { <span class="keywordflow">if</span> (Index &amp; 0x80000000) <span class="keywordflow">return</span> Index;
00518     <span class="keywordflow">if</span> (Index &gt;= palettesize) <span class="keywordflow">return</span> <a class="code" href="group__csws__skins.html#gga153a159">cs_Color_Red_L</a>; <span class="keywordflow">else</span> <span class="keywordflow">return</span> palette[Index]; }
00519 
00526   <span class="keyword">virtual</span> <span class="keywordtype">void</span> SetText (<span class="keyword">const</span> <span class="keywordtype">char</span> *iText);
00528   <span class="keyword">virtual</span> <span class="keywordtype">void</span> GetText (<span class="keywordtype">char</span> *oText, size_t iTextSize) <span class="keyword">const</span>;
<a name="l00530"></a><a class="code" href="classcsComponent.html#a27">00530</a>   <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *GetText ()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> text; }
00531 
00538   csComponent *ForEach (<span class="keywordtype">bool</span> (*func) (csComponent *child, <span class="keywordtype">void</span> *param),
00539     <span class="keywordtype">void</span> *param = 0, <span class="keywordtype">bool</span> Zorder = <span class="keyword">false</span>);
00540 
00542   csComponent *GetChild (ID find_id) <span class="keyword">const</span>;
00543 
00545   <span class="keywordtype">void</span> SetApp (<a class="code" href="classcsApp.html">csApp</a> *newapp);
00546 
00548   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> HandleEvent (<a class="code" href="structiEvent.html">iEvent</a> &amp;Event);
00549 
00556   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> PreHandleEvent (<a class="code" href="structiEvent.html">iEvent</a> &amp;Event);
00557 
00559   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> PostHandleEvent (<a class="code" href="structiEvent.html">iEvent</a> &amp;Event);
00560 
00562   <span class="keywordtype">void</span> *SendCommand (<span class="keywordtype">int</span> CommandCode, <span class="keywordtype">void</span> *Info = 0);
00564   <span class="keywordtype">void</span> *SendBroadcast (<span class="keywordtype">int</span> CommandCode, <span class="keywordtype">void</span> *Info = 0);
00565 
00567   csComponent *GetDefault ();
00568 
00570   <span class="keywordtype">void</span> Redraw ();
00571 
00573   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Draw ();
00574 
00576   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Show (<span class="keywordtype">bool</span> focused = <span class="keyword">false</span>);
00577 
00579   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Hide ();
00580 
00582   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> SetRect (<span class="keywordtype">int</span> xmin, <span class="keywordtype">int</span> ymin, <span class="keywordtype">int</span> xmax, <span class="keywordtype">int</span> ymax);
00583 
<a name="l00585"></a><a class="code" href="classcsComponent.html#a42">00585</a>   <span class="keywordtype">bool</span> SetRect (<a class="code" href="classcsRect.html">csRect</a> &amp;rect)
00586   { <span class="keywordflow">return</span> SetRect (rect.<a class="code" href="classcsRect.html#o0">xmin</a>, rect.<a class="code" href="classcsRect.html#o1">ymin</a>, rect.<a class="code" href="classcsRect.html#o2">xmax</a>, rect.<a class="code" href="classcsRect.html#o3">ymax</a>); }
00587 
00589   <span class="keywordtype">bool</span> SetDragRect (<span class="keywordtype">int</span> xmin, <span class="keywordtype">int</span> ymin, <span class="keywordtype">int</span> xmax, <span class="keywordtype">int</span> ymax);
00590 
<a name="l00592"></a><a class="code" href="classcsComponent.html#a44">00592</a>   <span class="keywordtype">void</span> SetPos (<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y)
00593   { SetRect (x, y, x + bound.xmax - bound.xmin, y + bound.ymax - bound.ymin); }
00594 
<a name="l00596"></a><a class="code" href="classcsComponent.html#a45">00596</a>   <span class="keywordtype">void</span> SetSize (<span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h)
00597   { SetRect (bound.xmin, bound.ymin, bound.xmin + w, bound.ymin + h); }
00598 
00600   <span class="keywordtype">void</span> Center (<span class="keywordtype">bool</span> iHoriz = <span class="keyword">true</span>, <span class="keywordtype">bool</span> iVert = <span class="keyword">true</span>);
00601 
00603   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Maximize ();
00604 
00606   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Restore ();
00607 
00616   <span class="keywordtype">void</span> Invalidate (<a class="code" href="classcsRect.html">csRect</a> &amp;area, <span class="keywordtype">bool</span> IncludeChildren = <span class="keyword">false</span>,
00617     csComponent *below = 0);
00618 
<a name="l00620"></a><a class="code" href="classcsComponent.html#a50">00620</a>   <span class="keywordtype">void</span> Invalidate (<span class="keywordtype">int</span> xmin, <span class="keywordtype">int</span> ymin, <span class="keywordtype">int</span> xmax, <span class="keywordtype">int</span> ymax,
00621     <span class="keywordtype">bool</span> IncludeChildren = <span class="keyword">false</span>, csComponent *below = 0)
00622   {
00623     <a class="code" href="classcsRect.html">csRect</a> inv (xmin, ymin, xmax, ymax);
00624     Invalidate (inv, IncludeChildren, below);
00625   }
00626 
<a name="l00628"></a><a class="code" href="classcsComponent.html#a51">00628</a>   <span class="keywordtype">void</span> Invalidate (<span class="keywordtype">bool</span> IncludeChildren = <span class="keyword">false</span>, csComponent *below = 0)
00629   { Invalidate (-99999, -99999, +99999, +99999, IncludeChildren, below); }
00630 
00632   <span class="keyword">virtual</span> <span class="keywordtype">void</span> SetState (<span class="keywordtype">int</span> mask, <span class="keywordtype">bool</span> enable);
00633 
<a name="l00635"></a><a class="code" href="classcsComponent.html#a53">00635</a>   <span class="keywordtype">int</span> GetState (<span class="keywordtype">int</span> mask)
00636   { <span class="keywordflow">return</span> (state &amp; mask); }
00637 
<a name="l00639"></a><a class="code" href="classcsComponent.html#a54">00639</a>   <span class="keywordtype">void</span> SetDragStyle (<span class="keywordtype">int</span> iDragStyle)
00640   { DragStyle = iDragStyle; }
00641 
<a name="l00643"></a><a class="code" href="classcsComponent.html#a55">00643</a>   <span class="keywordtype">int</span> GetDragStyle ()
00644   { <span class="keywordflow">return</span> DragStyle; }
00645 
<a name="l00647"></a><a class="code" href="classcsComponent.html#a56">00647</a>   <span class="keywordtype">void</span> SetResizeMode (<span class="keywordtype">int</span> iResizeMode)
00648   { ResizeMode = iResizeMode; }
00649 
<a name="l00651"></a><a class="code" href="classcsComponent.html#a57">00651</a>   <span class="keywordtype">int</span> GetResizeMode ()
00652   { <span class="keywordflow">return</span> ResizeMode; }
00653 
00655   <span class="keywordtype">void</span> LocalToGlobal (<span class="keywordtype">int</span> &amp;x, <span class="keywordtype">int</span> &amp;y);
00656 
00658   <span class="keywordtype">void</span> GlobalToLocal (<span class="keywordtype">int</span> &amp;x, <span class="keywordtype">int</span> &amp;y);
00659 
00665   <span class="keywordtype">void</span> OtherToThis (csComponent *from, <span class="keywordtype">int</span> &amp;x, <span class="keywordtype">int</span> &amp;y);
00666 
00668   <span class="keywordtype">void</span> Drag (<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> DragMode);
00669 
00671   <span class="keywordtype">void</span> SetMouse (<a class="code" href="group__gfx2d.html#ga1">csMouseCursorID</a> Cursor);
00672 
00678   <span class="keyword">virtual</span> <span class="keywordtype">void</span> Close ();
00679 
00690   csComponent *GetChildAt (<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y,
00691     <span class="keywordtype">bool</span> (*func) (csComponent *, <span class="keywordtype">void</span> *) = 0, <span class="keywordtype">void</span> *data = 0);
00692 
00697   <span class="keywordtype">void</span> SetSizingCursor (<span class="keywordtype">int</span> dragtype);
00698 
00700   <span class="keywordtype">bool</span> GetMousePosition (<span class="keywordtype">int</span> &amp;x, <span class="keywordtype">int</span> &amp;y);
00701 
00724   <span class="keywordtype">bool</span> HandleDragEvent (<a class="code" href="structiEvent.html">iEvent</a> &amp;Event, <span class="keywordtype">int</span> BorderW, <span class="keywordtype">int</span> BorderH);
00725 
00727   <span class="keyword">virtual</span> <span class="keywordtype">void</span> FixPosition (<span class="keywordtype">int</span> &amp;newX, <span class="keywordtype">int</span> &amp;newY);
00728 
00730   <span class="keyword">virtual</span> <span class="keywordtype">void</span> FixSize (<span class="keywordtype">int</span> &amp;newW, <span class="keywordtype">int</span> &amp;newH);
00731 
00733   <span class="keyword">virtual</span> <span class="keywordtype">void</span> SuggestSize (<span class="keywordtype">int</span> &amp;w, <span class="keywordtype">int</span> &amp;h);
00734 
00736   <span class="keyword">virtual</span> <span class="keywordtype">void</span> SetSuggestedSize (<span class="keywordtype">int</span> dw, <span class="keywordtype">int</span> dh);
00737 
00739   <span class="keywordtype">void</span> FindMaxFreeRect (<a class="code" href="classcsRect.html">csRect</a> &amp;area);
00740 
00742   <span class="keyword">virtual</span> <span class="keywordtype">char</span> *GetSkinName ();
00743 
00745   <span class="keyword">virtual</span> <a class="code" href="classcsSkin.html">csSkin</a> *GetSkin ();
00746 
<a name="l00764"></a><a class="code" href="classcsComponent.html#a75">00764</a>   <span class="keywordtype">void</span> SetClipRect (<span class="keywordtype">int</span> xmin, <span class="keywordtype">int</span> ymin, <span class="keywordtype">int</span> xmax, <span class="keywordtype">int</span> ymax)
00765   { clip.Set (xmin, ymin, xmax, ymax); }
00766 
<a name="l00768"></a><a class="code" href="classcsComponent.html#a76">00768</a>   <span class="keywordtype">void</span> SetClipRect ()
00769   { clip.MakeEmpty (); }
00770 
00772   <span class="keywordtype">void</span> SetFont (<a class="code" href="structiFont.html">iFont</a> *iNewFont);
00773 
00775   <span class="keyword">virtual</span> <span class="keywordtype">void</span> GetFont (<a class="code" href="structiFont.html">iFont</a> *&amp;oFont);
00776 
00778   <span class="keywordtype">void</span> Box (<span class="keywordtype">int</span> xmin, <span class="keywordtype">int</span> ymin, <span class="keywordtype">int</span> xmax, <span class="keywordtype">int</span> ymax, <span class="keywordtype">int</span> colindx);
00779 
00781   <span class="keywordtype">void</span> Line (<span class="keywordtype">float</span> x1, <span class="keywordtype">float</span> y1, <span class="keywordtype">float</span> x2, <span class="keywordtype">float</span> y2, <span class="keywordtype">int</span> colindx);
00782 
00784   <span class="keywordtype">void</span> Pixel (<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> colindx);
00785 
00787   <span class="keywordtype">void</span> Text (<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> fgindx, <span class="keywordtype">int</span> bgindx, <span class="keyword">const</span> <span class="keywordtype">char</span> *s);
00788 
00790   <span class="keywordtype">void</span> Pixmap (<a class="code" href="classcsPixmap.html">csPixmap</a> *s2d, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h, <a class="code" href="group__util.html#ga0">uint8</a> Alpha = 0);
<a name="l00792"></a><a class="code" href="classcsComponent.html#a84">00792</a>   <span class="keywordtype">void</span> Pixmap (<a class="code" href="classcsPixmap.html">csPixmap</a> *s2d, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <a class="code" href="group__util.html#ga0">uint8</a> Alpha = 0)
00793   { Pixmap (s2d, x, y, s2d-&gt;<a class="code" href="classcsPixmap.html#a1">Width</a> (), s2d-&gt;<a class="code" href="classcsPixmap.html#a2">Height</a> (), Alpha); }
00795   <span class="keywordtype">void</span> Pixmap (<a class="code" href="classcsPixmap.html">csPixmap</a> *s2d, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h, <span class="keywordtype">int</span> orgx, <span class="keywordtype">int</span> orgy,
00796     <a class="code" href="group__util.html#ga0">uint8</a> Alpha = 0);
00798   <span class="keywordtype">void</span> Texture (<a class="code" href="structiTextureHandle.html">iTextureHandle</a> *tex, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h,
00799     <span class="keywordtype">int</span> orgx, <span class="keywordtype">int</span> orgy, <a class="code" href="group__util.html#ga0">uint8</a> Alpha = 0);
00800 
00802   <span class="keywordtype">int</span> GetTextSize (<span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keywordtype">int</span> *oHeight = 0);
00804   <span class="keywordtype">int</span> GetTextChars (<span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keywordtype">int</span> iWidth);
00805 
00807   <span class="keywordtype">void</span> Rect3D (<span class="keywordtype">int</span> xmin, <span class="keywordtype">int</span> ymin, <span class="keywordtype">int</span> xmax, <span class="keywordtype">int</span> ymax, <span class="keywordtype">int</span> darkindx, <span class="keywordtype">int</span> lightindx);
00808 
00810   <span class="keywordtype">void</span> ObliqueRect3D (<span class="keywordtype">int</span> xmin, <span class="keywordtype">int</span> ymin, <span class="keywordtype">int</span> xmax, <span class="keywordtype">int</span> ymax, <span class="keywordtype">int</span> cornersize,
00811     <span class="keywordtype">int</span> darkindx, <span class="keywordtype">int</span> lightindx);
00812 
<a name="l00814"></a><a class="code" href="classcsComponent.html#a91">00814</a>   <span class="keywordtype">void</span> Clear (<span class="keywordtype">int</span> colindx)
00815   { Box (0, 0, bound.Width (), bound.Height (), colindx); }
00816 
00818   <span class="keywordtype">void</span> ClearZbuffer (<span class="keywordtype">int</span> xmin, <span class="keywordtype">int</span> ymin, <span class="keywordtype">int</span> xmax, <span class="keywordtype">int</span> ymax);
00819 
<a name="l00821"></a><a class="code" href="classcsComponent.html#a93">00821</a>   <span class="keywordtype">void</span> ClearZbuffer ()
00822   { ClearZbuffer (0, 0, bound.Width (), bound.Height ()); }
00823 
00825   <span class="comment">//@@@REIMPLEMENT THIS FOR NR</span>
00826   <span class="comment">//void Polygon3D (G3DPolygonDPFX &amp;poly, uint mode);</span>
00827 
00829 
00831   <span class="keywordtype">void</span> DrawUnderline (<span class="keywordtype">int</span> iX, <span class="keywordtype">int</span> iY, <span class="keyword">const</span> <span class="keywordtype">char</span> *iText, size_t iUnderlinePos,
00832     <span class="keywordtype">int</span> iColor);
00833 
00834 <span class="keyword">protected</span>:
00840   <span class="keywordtype">void</span> Clip (cswsRectVector &amp;rect, csComponent *last, <span class="keywordtype">bool</span> forchild = <span class="keyword">false</span>);
00841 
00843   <span class="keywordtype">void</span> ClipChild (cswsRectVector &amp;rect, csComponent *child);
00844 
00851   <span class="keywordtype">void</span> FastClip (cswsRectVector &amp;rect);
00852 
00858   <span class="keyword">static</span> <span class="keywordtype">void</span> PrepareLabel (<span class="keyword">const</span> <span class="keywordtype">char</span> *iLabel, <span class="keywordtype">char</span> * &amp;oLabel, size_t &amp;oUnderlinePos);
00859 
00861   <span class="keywordtype">bool</span> CheckHotKey (<a class="code" href="structiEvent.html">iEvent</a> &amp;<a class="code" href="structiEvent.html">iEvent</a>, <span class="keywordtype">char</span> iHotKey);
00862 
00864   <span class="keyword">static</span> size_t WordLeft (<span class="keyword">const</span> <span class="keywordtype">char</span> *iText, size_t StartPos);
00866   <span class="keyword">static</span> size_t WordRight (<span class="keyword">const</span> <span class="keywordtype">char</span> *iText, size_t StartPos);
00867 
00869   <span class="keywordtype">bool</span> ApplySkin (<a class="code" href="classcsSkin.html">csSkin</a> *Skin);
00870 
00879   <span class="keywordtype">void</span> CheckDirtyTD (<a class="code" href="classcsRect.html">csRect</a> &amp;ioR);
00887   <span class="keywordtype">void</span> CheckDirtyBU (<a class="code" href="classcsRect.html">csRect</a> &amp;ioR);
00888 
00889 <span class="keyword">private</span>:
00890   <span class="keyword">static</span> <span class="keywordtype">bool</span> do_handle_event (csComponent *child, <span class="keywordtype">void</span> *param);
00891 };
00892 
00895 <span class="preprocessor">#endif // __CS_CSCOMP_H__</span>
</pre></div><hr><address><small>Generated for Crystal Space by 
<a href="http://www.doxygen.org/index.html">doxygen</a> 1.3.6 
</small></address> </div></body> </html>
