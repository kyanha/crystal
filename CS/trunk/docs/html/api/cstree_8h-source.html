<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Crystal Space: csws/cstree.h Source File (Crystal Space Public API Reference)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<table border="0" cellpadding="0" cellspacing="0" width="100%" class="head">
 <tr heigth="59">
  <td class="head" width="202" valign="bottom" style="padding-left:0;"><a href="http://www.crystalspace3d.org/"><img src="csblur.png" width="236" height="59" alt="CrystalSpace" border="0"></a></td>
  <td class="head"><h2>Public API Reference</h2></td>
 </tr>
 <tr heigth="11">
  <td colspan="2" class="headshadow" valign="top" style="padding-left:0;"><img src="csblurb.png" width="236" height="11" alt="" border="0"></td>
 </tr>
</table>
<div class="content">
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000027.html">csws</a></div>
<h1>cstree.h</h1><a href="cstree_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">    Crystal Space Windowing System: tree box class</span>
00003 <span class="comment">    Copyright (C) 2000 by Norman Kraemer, based on the listbox code:</span>
00004 <span class="comment">    Copyright (C) 1998,1999 by Andrew Zabolotny &lt;bit@eltech.ru&gt;</span>
00005 <span class="comment"></span>
00006 <span class="comment">    This library is free software; you can redistribute it and/or</span>
00007 <span class="comment">    modify it under the terms of the GNU Library General Public</span>
00008 <span class="comment">    License as published by the Free Software Foundation; either</span>
00009 <span class="comment">    version 2 of the License, or (at your option) any later version.</span>
00010 <span class="comment"></span>
00011 <span class="comment">    This library is distributed in the hope that it will be useful,</span>
00012 <span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00013 <span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
00014 <span class="comment">    Library General Public License for more details.</span>
00015 <span class="comment"></span>
00016 <span class="comment">    You should have received a copy of the GNU Library General Public</span>
00017 <span class="comment">    License along with this library; if not, write to the Free</span>
00018 <span class="comment">    Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span>
00019 <span class="comment">*/</span>
00020 
00021 <span class="preprocessor">#ifndef __CS_CSTREE_H__</span>
00022 <span class="preprocessor"></span><span class="preprocessor">#define __CS_CSTREE_H__</span>
00023 <span class="preprocessor"></span>
00032 <span class="preprocessor">#include "csextern.h"</span>
00033  
00034 <span class="preprocessor">#include "<a class="code" href="cscomp_8h.html">cscomp.h</a>"</span>
00035 <span class="preprocessor">#include "<a class="code" href="csscrbar_8h.html">csscrbar.h</a>"</span>
00036 
00040 <span class="keyword">enum</span>
00041 {
00049   <a class="code" href="group__csws__comps__treebox.html#gga10a10">cscmdTreeItemCheck</a> = 0x00000e00,
00057   cscmdTreeItemToggle,
00064   cscmdTreeItemToggleAll,
00076   cscmdTreeItemToggleNotify,
00084   cscmdTreeItemSizeChangeNotify,
00095   cscmdTreeItemFocused,
00107   cscmdTreeItemGetPrev,
00119   cscmdTreeItemGetNext,
00126   cscmdTreeItemGetFirst,
00133   cscmdTreeItemGetLast,
00140   cscmdTreeItemDeleteNotify,
00148   cscmdTreeItemRightClick,
00156   cscmdTreeQuerySelected,
00164   cscmdTreeSelectItem,
00171   cscmdTreeSetHorizOffset,
00179   cscmdTreeStartTracking,
00189   cscmdTreeTrack,
00197   cscmdTreeMakeVisible,
00207   cscmdTreeMakeBranchVisible,
00211   <a class="code" href="group__csws__comps__treebox.html#gga10a29">cscmdTreeClear</a>
00212 };
00213 
00217 
<a name="l00218"></a><a class="code" href="group__csws__comps__treebox.html#ga0">00218</a> <span class="preprocessor">#define CSS_TREEITEM_OPEN       0x00010000</span>
00219 <span class="preprocessor"></span>
<a name="l00220"></a><a class="code" href="group__csws__comps__treebox.html#ga1">00220</a> <span class="preprocessor">#define CSS_TREEITEM_PLACEITEMS 0x00020000</span>
00221 <span class="preprocessor"></span>
00223 
<a name="l00224"></a><a class="code" href="group__csws__comps__treebox.html#ga2">00224</a> <span class="preprocessor">#define CS_TREEITEM_MAGIC       (void *)0xdeadface</span>
00225 <span class="preprocessor"></span>
<a name="l00230"></a><a class="code" href="group__csws__comps__treebox.html#ga11">00230</a> <span class="keyword">enum</span> <a class="code" href="group__csws__comps__treebox.html#ga11">csTreeItemStyle</a>
00231 {
00233   cstisNormal,
00235   <a class="code" href="group__csws__comps__treebox.html#gga11a31">cstisEmphasized</a>
00236 };
00237 
<a name="l00249"></a><a class="code" href="classcsTreeItem.html">00249</a> <span class="keyword">class </span>CS_CSWS_EXPORT csTreeItem : <span class="keyword">public</span> <a class="code" href="classcsComponent.html">csComponent</a>
00250 {
00251   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classcsTreeBox.html">csTreeBox</a>;
00252 
00254   <a class="code" href="group__csws__comps__treebox.html#ga11">csTreeItemStyle</a> ItemStyle;
00256   <a class="code" href="classcsPixmap.html">csPixmap</a> *ItemBitmap [2];
00258   <span class="keywordtype">bool</span> DeleteBitmap;
00260   <span class="keywordtype">int</span> hChildrenOffset;
00262   <a class="code" href="classcsButton.html">csButton</a> *button;
00264   <a class="code" href="classcsTreeBox.html">csTreeBox</a> *treebox;
00265 
00267   <span class="keywordtype">void</span> <a class="code" href="classcsTreeBox.html#a4">PlaceItems</a> ();
00269   csTreeItem *NextItem ();
00271   csTreeItem *PrevItem ();
00272 
00273 <span class="keyword">public</span>:
00275   csTreeItem (<a class="code" href="classcsComponent.html">csComponent</a> *iParent, <span class="keyword">const</span> <span class="keywordtype">char</span> *iText, <span class="keywordtype">int</span> iID = 0,
00276     <a class="code" href="group__csws__comps__treebox.html#ga11">csTreeItemStyle</a> iStyle = <a class="code" href="group__csws__comps__treebox.html#gga11a30">cstisNormal</a>);
00277 
00279   <span class="keyword">virtual</span> ~csTreeItem ();
00280 
00282   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classcsComponent.html#a31">HandleEvent</a> (<a class="code" href="structiEvent.html">iEvent</a> &amp;Event);
00283 
00285   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcsComponent.html#a38">Draw</a> ();
00286 
00288   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcsComponent.html#a52">SetState</a> (<span class="keywordtype">int</span> mask, <span class="keywordtype">bool</span> enable);
00289 
00291   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classcsComponent.html#a8">SetFocused</a> (<a class="code" href="classcsComponent.html">csComponent</a> *comp);
00292 
00294   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcsComponent.html#a2">Insert</a> (<a class="code" href="classcsComponent.html">csComponent</a> *comp);
00295 
00297   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcsComponent.html#a3">Delete</a> (<a class="code" href="classcsComponent.html">csComponent</a> *comp);
00298 
00300   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcsComponent.html#a70">SuggestSize</a> (<span class="keywordtype">int</span> &amp;w, <span class="keywordtype">int</span> &amp;h);
00301 
00303   <span class="keywordtype">void</span> SuggestTotalSize (<span class="keywordtype">int</span> &amp;w, <span class="keywordtype">int</span> &amp;h, <span class="keywordtype">int</span> &amp;totw, <span class="keywordtype">int</span> &amp;toth);
00304 
00306   <span class="keywordtype">void</span> SetBitmap (<a class="code" href="classcsPixmap.html">csPixmap</a> *iBitmap, <a class="code" href="classcsPixmap.html">csPixmap</a> *iBitmapOpen = 0,
00307     <span class="keywordtype">bool</span> iDelete = <span class="keyword">true</span>);
00308 
<a name="l00310"></a><a class="code" href="classcsTreeItem.html#a11">00310</a>   <span class="keywordtype">void</span> SetChildOffset (<span class="keywordtype">int</span> ihOffset)
00311   { hChildrenOffset = ihOffset; }
00312 
00314   <span class="keywordtype">int</span> Toggle (<span class="keywordtype">int</span> iAction = 2);
00315 
00322   csTreeItem *<a class="code" href="classcsTreeBox.html#a6">ForEachItem</a> (<span class="keywordtype">bool</span> (*func) (csTreeItem *child, <span class="keywordtype">void</span> *param),
00323     <span class="keywordtype">void</span> *param = 0, <span class="keywordtype">bool</span> iOnlyOpen = <span class="keyword">false</span>);
00324 
<a name="l00326"></a><a class="code" href="classcsTreeItem.html#a14">00326</a>   <span class="keywordtype">void</span> ResetButton ()
00327   { button-&gt;<a class="code" href="classcsComponent.html#a41">SetRect</a> (0, 0, -1, -1); parent-&gt;<a class="code" href="classcsComponent.html#a34">SendCommand</a> (<a class="code" href="group__csws__comps__treebox.html#gga10a14">cscmdTreeItemSizeChangeNotify</a>, <span class="keyword">this</span>); }
00328 };
00329 
00335 
<a name="l00336"></a><a class="code" href="group__csws__comps__treebox.html#ga3">00336</a> <span class="preprocessor">#define CSTS_HSCROLL            0x00000001</span>
00337 <span class="preprocessor"></span>
<a name="l00338"></a><a class="code" href="group__csws__comps__treebox.html#ga4">00338</a> <span class="preprocessor">#define CSTS_VSCROLL            0x00000002</span>
00339 <span class="preprocessor"></span>
<a name="l00340"></a><a class="code" href="group__csws__comps__treebox.html#ga5">00340</a> <span class="preprocessor">#define CSTS_AUTOSCROLLBAR      0x00000004</span>
00341 <span class="preprocessor"></span>
<a name="l00342"></a><a class="code" href="group__csws__comps__treebox.html#ga6">00342</a> <span class="preprocessor">#define CSTS_SMALLBUTTONS       0x00000008</span>
00343 <span class="preprocessor"></span>
<a name="l00345"></a><a class="code" href="group__csws__comps__treebox.html#ga7">00345</a> <span class="preprocessor">#define CSTS_DEFAULTVALUE       CSTS_VSCROLL | CSTS_AUTOSCROLLBAR</span>
00346 <span class="preprocessor"></span>
00351 
<a name="l00352"></a><a class="code" href="group__csws__comps__treebox.html#ga8">00352</a> <span class="preprocessor">#define CSS_TREEBOX_PLACEITEMS  0x00010000</span>
00353 <span class="preprocessor"></span>
<a name="l00356"></a><a class="code" href="group__csws__comps__treebox.html#ga9">00356</a> <span class="preprocessor">#define CSS_TREEBOX_LOCKVISIBLE 0x00020000</span>
00357 <span class="preprocessor"></span>
00359 
<a name="l00360"></a><a class="code" href="group__csws__comps__treebox.html#ga12">00360</a> <span class="keyword">enum</span> <a class="code" href="group__csws__comps__treebox.html#ga12">csTreeFrameStyle</a>
00361 {
00363   cstfsNone,
00365   cstfsThinRect,
00367   <a class="code" href="group__csws__comps__treebox.html#gga12a34">cstfsThickRect</a>
00368 };
00369 
<a name="l00428"></a><a class="code" href="classcsTreeBox.html">00428</a> <span class="keyword">class </span>CS_CSWS_EXPORT csTreeBox : <span class="keyword">public</span> <a class="code" href="classcsComponent.html">csComponent</a>
00429 {
00449   <span class="keyword">class </span>csTreeView : <span class="keyword">public</span> <a class="code" href="classcsComponent.html">csComponent</a>
00450   {
00451   <span class="keyword">public</span>:
00453     csTreeView (<a class="code" href="classcsComponent.html">csComponent</a> *iParent);
00454 
00456     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> HandleEvent (<a class="code" href="structiEvent.html">iEvent</a> &amp;Event);
00457 
00459     <span class="keyword">virtual</span> <span class="keywordtype">void</span> Delete (<a class="code" href="classcsComponent.html">csComponent</a> *comp);
00460   } *clipview;
00461 
00463   <span class="keywordtype">int</span> TreeStyle;
00465   <a class="code" href="group__csws__comps__treebox.html#ga12">csTreeFrameStyle</a> FrameStyle;
00467   <span class="keywordtype">int</span> BorderWidth, BorderHeight;
00469   <a class="code" href="classcsComponent.html">csComponent</a> *timer;
00471   <a class="code" href="classcsScrollBar.html">csScrollBar</a> *hscroll, *vscroll;
00473   <a class="code" href="structcsScrollBarStatus.html">csScrollBarStatus</a> hsbstatus, vsbstatus;
00475   <span class="keywordtype">int</span> deltax, maxdeltax;
00477   <span class="keywordtype">int</span> deltay, maxdeltay;
00479   csTreeItem *active;
00480 
00482   csTreeItem *NextItem ();
00484   csTreeItem *PrevItem ();
00485 
00486 <span class="keyword">public</span>:
00488   csTreeBox (<a class="code" href="classcsComponent.html">csComponent</a> *iParent, <span class="keywordtype">int</span> iStyle = <a class="code" href="group__csws__comps__treebox.html#ga7">CSTS_DEFAULTVALUE</a>,
00489     <a class="code" href="group__csws__comps__treebox.html#ga12">csTreeFrameStyle</a> iFrameStyle = <a class="code" href="group__csws__comps__treebox.html#gga12a34">cstfsThickRect</a>);
00490 
00492   <span class="keyword">virtual</span> ~csTreeBox ();
00493 
00495   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classcsComponent.html#a31">HandleEvent</a> (<a class="code" href="structiEvent.html">iEvent</a> &amp;Event);
00496 
00498   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcsComponent.html#a38">Draw</a> ();
00499 
00501   <span class="keywordtype">void</span> PlaceItems (<span class="keywordtype">int</span> sbFlags = <a class="code" href="group__csws__comps__treebox.html#ga3">CSTS_HSCROLL</a> | <a class="code" href="group__csws__comps__treebox.html#ga4">CSTS_VSCROLL</a>);
00502 
00504   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classcsComponent.html#a41">SetRect</a> (<span class="keywordtype">int</span> xmin, <span class="keywordtype">int</span> ymin, <span class="keywordtype">int</span> xmax, <span class="keywordtype">int</span> ymax);
00505 
00510   csTreeItem *ForEachItem (<span class="keywordtype">bool</span> (*func) (csTreeItem *child, <span class="keywordtype">void</span> *param),
00511     <span class="keywordtype">void</span> *param = 0, <span class="keywordtype">bool</span> iOnlyOpen = <span class="keyword">false</span>);
00512 
00514   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcsComponent.html#a52">SetState</a> (<span class="keywordtype">int</span> mask, <span class="keywordtype">bool</span> enable);
00515 
00517   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcsComponent.html#a2">Insert</a> (<a class="code" href="classcsComponent.html">csComponent</a> *comp);
00518 
00520   <span class="keyword">virtual</span> <span class="keywordtype">void</span> ExpandAll ();
00521 
00523   <span class="keyword">virtual</span> <span class="keywordtype">void</span> CollapseAll ();
00524 
<a name="l00526"></a><a class="code" href="classcsTreeBox.html#a11">00526</a>   <span class="keywordtype">int</span> GetStyle () { <span class="keywordflow">return</span> TreeStyle; }
<a name="l00528"></a><a class="code" href="classcsTreeBox.html#a12">00528</a>   <a class="code" href="group__csws__comps__treebox.html#ga12">csTreeFrameStyle</a> GetFrameStyle () { <span class="keywordflow">return</span> FrameStyle; }
00530   <span class="keywordtype">void</span> SetStyle (<span class="keywordtype">int</span> iStyle, csTreeFrameStyle iFrameStyle);
00531 
00532 <span class="keyword">protected</span>:
00533   <span class="keyword">friend</span> <span class="keyword">class </span>csTreeItem;
00534 
00536   <span class="keywordtype">void</span> PrepareButton (<a class="code" href="classcsButton.html">csButton</a> *iButton, <span class="keywordtype">bool</span> iOpen);
00537 
00539   <span class="keywordtype">void</span> MakeItemVisible (<a class="code" href="classcsComponent.html">csComponent</a> *iItem, <span class="keywordtype">bool</span> iChildren = <span class="keyword">false</span>);
00540 
00542   <span class="keywordtype">void</span> FocusItem (csTreeItem *iItem);
00543 
00545   <span class="keywordtype">void</span> VScroll (<span class="keywordtype">int</span> iDelta, <span class="keywordtype">bool</span> iMoveCaret);
00546 
00548   <span class="keywordtype">void</span> PlaceScrollbars ();
00549 };
00550 
00553 <span class="preprocessor">#endif // __CS_CSTREE_H__</span>
</pre></div><hr size="1"><address><small>Generated for Crystal Space by 
<a href="http://www.doxygen.org/index.html">doxygen</a> 1.3.9.1 
</small></address> </div></body> </html>
