<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Crystal Space: csutil/win32/wintools.h File Reference (Crystal Space Public API Reference)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<table border="0" cellpadding="0" cellspacing="0" width="100%" class="head">
 <tr heigth="59">
  <td class="head" width="202" valign="bottom" style="padding-left:0;"><a href="http://www.crystalspace3d.org/"><img src="csblur.png" width="236" height="59" alt="CrystalSpace" border="0"></a></td>
  <td class="head"><h2>Public API Reference</h2></td>
 </tr>
 <tr heigth="11">
  <td colspan="2" class="headshadow" valign="top" style="padding-left:0;"><img src="csblurb.png" width="236" height="11" alt="" border="0"></td>
 </tr>
</table>
<div class="content">
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000022.html">csutil</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_000024.html">win32</a></div>
<h1>wintools.h File Reference</h1>Win32 tool functions. <a href="#_details">More...</a>
<p>
<code>#include &quot;csextern.h&quot;</code><br>
<code>#include &quot;<a class="el" href="csunicode_8h-source.html">csutil/csunicode.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="util_8h-source.html">csutil/util.h</a>&quot;</code><br>
<code>#include &lt;winnls.h&gt;</code><br>
<code>#include &quot;sanity.inc&quot;</code><br>

<p>
<a href="wintools_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcswinWtoA.html">cswinWtoA</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Small helper to convert a wide to an ANSI string, useful when passing arguments to a function.  <a href="structcswinWtoA.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcswinCtoA.html">cswinCtoA</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Small helper to convert an UTF-8 to an ANSI string, useful when passing arguments to a function.  <a href="structcswinCtoA.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="wintools_8h.html#a9">cswinWindowsVersion</a> { <a class="el" href="wintools_8h.html#a9a0">cswinWin9x</a> =  30, 
<a class="el" href="wintools_8h.html#a9a1">cswinWinNT</a> =  40, 
<a class="el" href="wintools_8h.html#a9a2">cswinWin2K</a> =  50, 
<a class="el" href="wintools_8h.html#a9a3">cswinWinXP</a> =  51
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Windows versions <a class="el" href="wintools_8h.html#a8">cswinIsWinNT()</a> can identify.  <a href="wintools_8h.html#a9">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="cstypes_8h.html#a22">wchar_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="wintools_8h.html#a4">cswinAnsiToWide</a> (const char *ansi, UINT codePage=CP_ACP)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert an ANSI string to a wide string.  <a href="#a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="wintools_8h.html#a5">cswinWideToAnsi</a> (const <a class="el" href="cstypes_8h.html#a22">wchar_t</a> *wide, UINT codePage=CP_ACP)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert a wide string to an ANSI string.  <a href="#a5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="wintools_8h.html#a6">cswinGetErrorMessage</a> (HRESULT code)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve the system's description for an error code.  <a href="#a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="cstypes_8h.html#a22">wchar_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="wintools_8h.html#a7">cswinGetErrorMessageW</a> (HRESULT code)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve the system's description for an error code.  <a href="#a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="wintools_8h.html#a8">cswinIsWinNT</a> (<a class="el" href="wintools_8h.html#a9">cswinWindowsVersion</a> *version=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns 'true' if the current Windows is from the NT strain, 'false' if from the 9x strain.  <a href="#a8"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Win32 tool functions. 
<p>

<p>
Definition in file <a class="el" href="wintools_8h-source.html">wintools.h</a>.<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="a9"></a><!-- doxytag: member="wintools.h::cswinWindowsVersion" ref="a9" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="wintools_8h.html#a9">cswinWindowsVersion</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Windows versions <a class="el" href="wintools_8h.html#a8">cswinIsWinNT()</a> can identify. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="a9a0"></a><!-- doxytag: member="cswinWin9x" ref="a9a0" args="" -->cswinWin9x</em>&nbsp;</td><td>
Windows 95/98/ME. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a9a1"></a><!-- doxytag: member="cswinWinNT" ref="a9a1" args="" -->cswinWinNT</em>&nbsp;</td><td>
Windows NT 4.0. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a9a2"></a><!-- doxytag: member="cswinWin2K" ref="a9a2" args="" -->cswinWin2K</em>&nbsp;</td><td>
Windows 2000. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="a9a3"></a><!-- doxytag: member="cswinWinXP" ref="a9a3" args="" -->cswinWinXP</em>&nbsp;</td><td>
Windows XP (or better). </td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="wintools_8h-source.html#l00161">161</a> of file <a class="el" href="wintools_8h-source.html">wintools.h</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a4"></a><!-- doxytag: member="wintools.h::cswinAnsiToWide" ref="a4" args="(const char *ansi, UINT codePage=CP_ACP)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static <a class="el" href="cstypes_8h.html#a22">wchar_t</a>* cswinAnsiToWide           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>ansi</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>codePage</em> = <code>CP_ACP</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convert an ANSI string to a wide string. 
<p>
<dl compact><dt><b>Remarks:</b></dt><dd>Free the returned pointer with delete[]. <p>
This function provides functionality specific to the Win32 platform. To ensure that code using this functionality compiles properly on all other platforms, the use of the function and inclusion of the header file should be surrounded by appropriate '#if defined(CS_PLATFORM_WIN32) ... #endif' statements.</dd></dl>

<p>
Definition at line <a class="el" href="wintools_8h-source.html#l00041">41</a> of file <a class="el" href="wintools_8h-source.html">wintools.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6"></a><!-- doxytag: member="wintools.h::cswinGetErrorMessage" ref="a6" args="(HRESULT code)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">char* cswinGetErrorMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HRESULT&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>code</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Retrieve the system's description for an error code. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>The error code, usually retrieved through GetLastError(). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Remarks:</b></dt><dd>Returns an UTF-8 encoded string. <p>
Free the returned pointer with delete[]. <p>
This function provides functionality specific to the Win32 platform. To ensure that code using this functionality compiles properly on all other platforms, the use of the function and inclusion of the header file should be surrounded by appropriate ' '#if defined(CS_PLATFORM_WIN32) ... #endif' statements.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a7"></a><!-- doxytag: member="wintools.h::cswinGetErrorMessageW" ref="a7" args="(HRESULT code)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="cstypes_8h.html#a22">wchar_t</a>* cswinGetErrorMessageW           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">HRESULT&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>code</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Retrieve the system's description for an error code. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>The error code, usually retrieved through GetLastError(). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Remarks:</b></dt><dd>Free the returned pointer with delete[]. <p>
This function provides functionality specific to the Win32 platform. To ensure that code using this functionality compiles properly on all other platforms, the use of the function and inclusion of the header file should be surrounded by appropriate ' '#if defined(CS_PLATFORM_WIN32) ... #endif' statements.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a8"></a><!-- doxytag: member="wintools.h::cswinIsWinNT" ref="a8" args="(cswinWindowsVersion *version=0)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool cswinIsWinNT           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="wintools_8h.html#a9">cswinWindowsVersion</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>version</em> = <code>0</code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns 'true' if the current Windows is from the NT strain, 'false' if from the 9x strain. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>version</em>&nbsp;</td><td>Optionally returns more specifically what Windows is used. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Whether the current OS is an Windows NT derivate. </dd></dl>
<dl compact><dt><b>Remarks:</b></dt><dd>This function provides functionality specific to the Win32 platform. To ensure that code using this functionality compiles properly on all other platforms, the use of the function and inclusion of the header file should be surrounded by appropriate ' '#if defined(CS_PLATFORM_WIN32) ... #endif' statements.</dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a5"></a><!-- doxytag: member="wintools.h::cswinWideToAnsi" ref="a5" args="(const wchar_t *wide, UINT codePage=CP_ACP)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static char* cswinWideToAnsi           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="cstypes_8h.html#a22">wchar_t</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>wide</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>UINT&nbsp;</td>
          <td class="mdname" nowrap> <em>codePage</em> = <code>CP_ACP</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Convert a wide string to an ANSI string. 
<p>
<dl compact><dt><b>Remarks:</b></dt><dd>Free the returned pointer with delete[]. <p>
This function provides functionality specific to the Win32 platform. To ensure that code using this functionality compiles properly on all other platforms, the use of the function and inclusion of the header file should be surrounded by appropriate ' '#if defined(CS_PLATFORM_WIN32) ... #endif' statements.</dd></dl>

<p>
Definition at line <a class="el" href="wintools_8h-source.html#l00065">65</a> of file <a class="el" href="wintools_8h-source.html">wintools.h</a>.
<p>
Referenced by <a class="el" href="wintools_8h-source.html#l00124">cswinCtoA::cswinCtoA()</a>, and <a class="el" href="wintools_8h-source.html#l00099">cswinWtoA::cswinWtoA()</a>.    </td>
  </tr>
</table>
<hr size="1"><address><small>Generated for Crystal Space by 
<a href="http://www.doxygen.org/index.html">doxygen</a> 1.4.4 
</small></address> </div></body> </html>
