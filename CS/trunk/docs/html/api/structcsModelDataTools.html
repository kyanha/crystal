<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Crystal Space: csModelDataTools Struct Reference (Crystal Space Public API Reference)</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<table border="0" cellpadding="0" cellspacing="0" width="100%" class="head">
 <tr height="59">
  <td class="head" width="202" valign="bottom" style="padding-left:0;"><a href="http://www.crystalspace3d.org/"><img src="csblur.png" width="236" height="59" alt="CrystalSpace" border="0"></a></td>
  <td class="head"><h2>Public API Reference</h2></td>
 </tr>
 <tr height="11">
  <td colspan="2" class="headshadow" valign="top" style="padding-left:0;"><img src="csblurb.png" width="236" height="11" alt="" border="0"></td>
 </tr>
</table>
<div class="content">
<!-- Generated by Doxygen 1.4.6 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>csModelDataTools Struct Reference</h1><!-- doxytag: class="csModelDataTools" -->A set of utility functions to deal with model data components.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="mdltool_8h-source.html">cstool/mdltool.h</a>&gt;</code>
<p>
<a href="structcsModelDataTools-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcsModelDataTools.html#5ce3e57129bb4fab8cd53ded2e5c1f85">BuildVertexArray</a> (<a class="el" href="structiModelDataPolygon.html">iModelDataPolygon</a> *poly, <a class="el" href="classcsDirtyAccessArray.html">csDirtyAccessArray</a>&lt; int &gt; *SpriteVertices, <a class="el" href="classcsDirtyAccessArray.html">csDirtyAccessArray</a>&lt; int &gt; *SpriteNormals, <a class="el" href="classcsDirtyAccessArray.html">csDirtyAccessArray</a>&lt; int &gt; *SpriteColors, <a class="el" href="classcsDirtyAccessArray.html">csDirtyAccessArray</a>&lt; int &gt; *SpriteTexels, <a class="el" href="classcsDirtyAccessArray.html">csDirtyAccessArray</a>&lt; int &gt; *PolyVertices)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This functions helps to build structures that use a single index per vertex for position, normal, color and texel instead of one index for each list.  <a href="#5ce3e57129bb4fab8cd53ded2e5c1f85"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcsModelDataTools.html#b8dfcc11a3de2ef7137dc8b8b9215838">CompressVertices</a> (<a class="el" href="structiModelData.html">iModelData</a> *Scene)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Merge duplicate vertices, normals, colors and texels in all objects of a model data scene.  <a href="#b8dfcc11a3de2ef7137dc8b8b9215838"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcsModelDataTools.html#9c0df06cd31b08e5a4fc2a7ec3e00409">CompressVertices</a> (<a class="el" href="structiModelDataObject.html">iModelDataObject</a> *Object)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Merge duplicate vertices, normals, colors and texels in an object.  <a href="#9c0df06cd31b08e5a4fc2a7ec3e00409"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcsModelDataTools.html#929f692c142dc03bd9493f9e849bcea9">CopyVerticesMapped</a> (<a class="el" href="structiModelDataObject.html">iModelDataObject</a> *dest, <a class="el" href="structiModelDataObject.html">iModelDataObject</a> *src, const <a class="el" href="structcsModelDataVertexMap.html">csModelDataVertexMap</a> *map)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy the default vertices and actions of one object into another one.  <a href="#929f692c142dc03bd9493f9e849bcea9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcsModelDataTools.html#362a15f000da1711ad84f82a6bb2c34f">Describe</a> (<a class="el" href="structiObject.html">iObject</a> *obj, <a class="el" href="classcsString.html">csString</a> &amp;s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print a description of an object into a string.  <a href="#362a15f000da1711ad84f82a6bb2c34f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcsModelDataTools.html#1c6f56a5a0e3f62128d4f30b4c878aaf">MergeCopyObject</a> (<a class="el" href="structiModelDataObject.html">iModelDataObject</a> *dest, <a class="el" href="structiModelDataObject.html">iModelDataObject</a> *src)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy the contents of one object into antoher one.  <a href="#1c6f56a5a0e3f62128d4f30b4c878aaf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcsModelDataTools.html#bde01d89e2f2fc65ce3d1bdee89925bf">MergeObjects</a> (<a class="el" href="structiModelData.html">iModelData</a> *Scene, bool MultiTexture)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Merge all contained mesh objects in a scene into a single one.  <a href="#bde01d89e2f2fc65ce3d1bdee89925bf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcsModelDataTools.html#72df6bb58979b57818819250387d57a4">SplitObjectsByMaterial</a> (<a class="el" href="structiModelData.html">iModelData</a> *Scene)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Split objects in a scene using more than one material into objects with only a single material.  <a href="#72df6bb58979b57818819250387d57a4"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A set of utility functions to deal with model data components. 
<p>

<p>
Definition at line <a class="el" href="mdltool_8h-source.html#l00106">106</a> of file <a class="el" href="mdltool_8h-source.html">mdltool.h</a>.<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="5ce3e57129bb4fab8cd53ded2e5c1f85"></a><!-- doxytag: member="csModelDataTools::BuildVertexArray" ref="5ce3e57129bb4fab8cd53ded2e5c1f85" args="(iModelDataPolygon *poly, csDirtyAccessArray&lt; int &gt; *SpriteVertices, csDirtyAccessArray&lt; int &gt; *SpriteNormals, csDirtyAccessArray&lt; int &gt; *SpriteColors, csDirtyAccessArray&lt; int &gt; *SpriteTexels, csDirtyAccessArray&lt; int &gt; *PolyVertices)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void csModelDataTools::BuildVertexArray           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structiModelDataPolygon.html">iModelDataPolygon</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>poly</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classcsDirtyAccessArray.html">csDirtyAccessArray</a>&lt; int &gt; *&nbsp;</td>
          <td class="mdname" nowrap> <em>SpriteVertices</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classcsDirtyAccessArray.html">csDirtyAccessArray</a>&lt; int &gt; *&nbsp;</td>
          <td class="mdname" nowrap> <em>SpriteNormals</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classcsDirtyAccessArray.html">csDirtyAccessArray</a>&lt; int &gt; *&nbsp;</td>
          <td class="mdname" nowrap> <em>SpriteColors</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classcsDirtyAccessArray.html">csDirtyAccessArray</a>&lt; int &gt; *&nbsp;</td>
          <td class="mdname" nowrap> <em>SpriteTexels</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classcsDirtyAccessArray.html">csDirtyAccessArray</a>&lt; int &gt; *&nbsp;</td>
          <td class="mdname" nowrap> <em>PolyVertices</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This functions helps to build structures that use a single index per vertex for position, normal, color and texel instead of one index for each list. 
<p>
CS's 3d sprites are an example for this.<p>
The 'poly' parameter is expected to be a valid polygon. The Sprite... lists should contain the (so far known) mapping of new indices to old indices. In other words, these lists are adressed with the 'single index' from the 3d sprite and return the 'multiple indices' used in the model data components. In the process of converting several polygons with this function, you should pass the same lists again and again. The lists will (probably) be empty for the first polygon and be filled a bit more for each polygon. Finally, after converting all polygons, the lists can be used to convert the vertex frames. Finally, the 'PolyVertices' parameter should be an empty list that will be filled with the 'single indices'.<p>
You can omit those lists you do not need. For example, if you don't care about vertex colors, pass 0 for 'SpriteColors'. This has the effect that (obviously) you don't get a list of mapped vertex colors. It also tells this function that vertices with different colors may be merged.     </td>
  </tr>
</table>
<a class="anchor" name="b8dfcc11a3de2ef7137dc8b8b9215838"></a><!-- doxytag: member="csModelDataTools::CompressVertices" ref="b8dfcc11a3de2ef7137dc8b8b9215838" args="(iModelData *Scene)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void csModelDataTools::CompressVertices           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structiModelData.html">iModelData</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Scene</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Merge duplicate vertices, normals, colors and texels in all objects of a model data scene. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="9c0df06cd31b08e5a4fc2a7ec3e00409"></a><!-- doxytag: member="csModelDataTools::CompressVertices" ref="9c0df06cd31b08e5a4fc2a7ec3e00409" args="(iModelDataObject *Object)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void csModelDataTools::CompressVertices           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structiModelDataObject.html">iModelDataObject</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Object</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Merge duplicate vertices, normals, colors and texels in an object. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="929f692c142dc03bd9493f9e849bcea9"></a><!-- doxytag: member="csModelDataTools::CopyVerticesMapped" ref="929f692c142dc03bd9493f9e849bcea9" args="(iModelDataObject *dest, iModelDataObject *src, const csModelDataVertexMap *map)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void csModelDataTools::CopyVerticesMapped           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structiModelDataObject.html">iModelDataObject</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structiModelDataObject.html">iModelDataObject</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const <a class="el" href="structcsModelDataVertexMap.html">csModelDataVertexMap</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>map</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Copy the default vertices and actions of one object into another one. 
<p>
All vertex, normal, color and texel indices are mapped as described in the given mapping table.     </td>
  </tr>
</table>
<a class="anchor" name="362a15f000da1711ad84f82a6bb2c34f"></a><!-- doxytag: member="csModelDataTools::Describe" ref="362a15f000da1711ad84f82a6bb2c34f" args="(iObject *obj, csString &amp;s)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void csModelDataTools::Describe           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structiObject.html">iObject</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classcsString.html">csString</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>s</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Print a description of an object into a string. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="1c6f56a5a0e3f62128d4f30b4c878aaf"></a><!-- doxytag: member="csModelDataTools::MergeCopyObject" ref="1c6f56a5a0e3f62128d4f30b4c878aaf" args="(iModelDataObject *dest, iModelDataObject *src)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void csModelDataTools::MergeCopyObject           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structiModelDataObject.html">iModelDataObject</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structiModelDataObject.html">iModelDataObject</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>src</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Copy the contents of one object into antoher one. 
<p>
Both objects may contain something. Note that overlapping vertices are NOT merged by this function. There are two reasons: Firstly, vertex merging is also useful without object merging and should therefore be done separately. Secondly, vertex merging is a very complex task (as the vertices to merge have to share position in every frame of every action) and is thus done separately anyway. @@ vertex merging is not yet implemented.     </td>
  </tr>
</table>
<a class="anchor" name="bde01d89e2f2fc65ce3d1bdee89925bf"></a><!-- doxytag: member="csModelDataTools::MergeObjects" ref="bde01d89e2f2fc65ce3d1bdee89925bf" args="(iModelData *Scene, bool MultiTexture)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void csModelDataTools::MergeObjects           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structiModelData.html">iModelData</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>Scene</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>MultiTexture</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Merge all contained mesh objects in a scene into a single one. 
<p>
If 'MultiTexture' is true then objects with different textures may be merged.     </td>
  </tr>
</table>
<a class="anchor" name="72df6bb58979b57818819250387d57a4"></a><!-- doxytag: member="csModelDataTools::SplitObjectsByMaterial" ref="72df6bb58979b57818819250387d57a4" args="(iModelData *Scene)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">static void csModelDataTools::SplitObjectsByMaterial           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structiModelData.html">iModelData</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>Scene</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Split objects in a scene using more than one material into objects with only a single material. 
<p>
    </td>
  </tr>
</table>
<hr>The documentation for this struct was generated from the following file:<ul>
<li>cstool/<a class="el" href="mdltool_8h-source.html">mdltool.h</a></ul>
<hr size="1"><address><small>Generated for Crystal Space by 
<a href="http://www.doxygen.org/index.html">doxygen</a> 1.4.6 
</small></address> </div></body> </html>
