<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HTML>
<HEAD>
<TITLE>Crystal Space: CSWS Events</TITLE>

<META NAME="description" CONTENT="Crystal Space: CSWS Events">
<META NAME="keywords" CONTENT="Crystal Space: CSWS Events">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC385"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_153.html#SEC381"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_155.html#SEC386"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_150.html#SEC375"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_151.html#SEC376"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_157.html#SEC391"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_286.html#SEC958">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H3> 6.4.3 Events </H3>
<!--docid::SEC385::-->
<P>

There are several event types (other event types can be defined as needed, but
existing set covers all current CSWS needs).  There is the base event
class called `<SAMP>csEvent</SAMP>'.  It has several public data fields, the mostly
used is Type which contains the event type.  There are following currently
defined event types:
</P><P>

<DL COMPACT>
<DT><CODE>csevNothing</CODE>
<DD>The so-called "empty" event; mostly used internally by CSWS.
<P>

<DT><CODE>csevKeyDown</CODE>
<DD>Key has been pressed event.
<P>

<DT><CODE>csevKeyUp</CODE>
<DD>Key has been released event.  On `<SAMP>csevKeyUp</SAMP>' and `<SAMP>csevKeyDown</SAMP>'
events the following data fields in event object are also valid:
<P>

<DL COMPACT>
<DT><CODE>Key.Code</CODE>
<DD>Contains code of key that has been pressed or released.  It can be a literal
value (`<SAMP>A</SAMP>', `<SAMP>z</SAMP>', `<SAMP>$</SAMP>') or one of predefined
`<SAMP>CSKEY_<VAR>XXX</VAR></SAMP>' values (`<SAMP>CSKEY_UP</SAMP>', `<SAMP>CSKEY_ESC</SAMP>',
`<SAMP>CSKEY_SPACE</SAMP>', `<SAMP>CSKEY_ENTER</SAMP>', etc.).
<P>

<DT><CODE>Key.Modifiers</CODE>
<DD>Contains the state of shift keys at time when this event has been generated.
Note that it not necessarily is the same as current key state.  To decode its
value you should use the pre-defined `<SAMP>CSMASK_<VAR>XXX</VAR></SAMP>' constants.  For
example to check if the <KBD><KBD>Alt</KBD></KBD> modifier was pressed, and only this
modifier you might use this code:
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>if ((Event.Key.Modifiers &#38; CSMASK_ALLSHIFTS) ==
  CSMASK_ALT)
{
  <small>...</small> ALT + Event.Key.Code pressed <small>...</small>
}
</pre></td></tr></table></P><P>

Or, alternately, to check if <KBD><KBD>Alt</KBD></KBD> was pressed, but not necessarily
the only modifier key pressed, you could do it this way:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>if (Event.Key.Modifiers &#38; CSMASK_ALT)
{
  <small>...</small> (at least ALT) + Event.Key.Code pressed <small>...</small>
}
</pre></td></tr></table></P><P>

Also there is a bit in `<SAMP>Modifiers</SAMP>' called `<SAMP>CSMASK_FIRST</SAMP>' that is set
only when key is pressed for first time.  With this you can separate actual
key presses from autorepeated keyboard events.
</DL>
<P>

<DT><CODE>csevMouseMove</CODE>
<DD>Mouse moved event.
<P>

<DT><CODE>csevMouseDown</CODE>
<DD>A mouse button was pressed event.
<P>

<DT><CODE>csevMouseUp</CODE>
<DD>A mouse button was released event.  On all mouse events the following data
fields in event object are also valid:
<P>

<DL COMPACT>
<DT><CODE>Mouse.x</CODE>
<DD><DT><CODE>Mouse.y</CODE>
<DD>The screen position where mouse event happened.  Mouse position is always
converted to component coordinate system, i.e. `<SAMP>Mouse.x == 0</SAMP>' and
`<SAMP>Mouse.y == 0</SAMP>' means that mouse is at component top-left system.
<P>

<DT><CODE>Button</CODE>
<DD>Mouse button number, counting from 1. Not valid for "mouse moved" event.
<P>

<DT><CODE>Key.Modifiers</CODE>
<DD>Contains the state of shift keys at time when this event has been generated.
See above for comments on shift keys.
</DL>
<P>

<DT><CODE>csevCommand</CODE>
<DD>A command event.  Command events are generated by windowing system components,
not by hardware.  For example, when a button is pressed, it sends a command
event with some command code to its parent component.  There is only one data
field for this type of events called `<SAMP>Info</SAMP>' of type `<SAMP>void*</SAMP>'.  It can
point to any event-related information.
<P>

<DT><CODE>csevBroadcast</CODE>
<DD>Broadcast events are much like command events, except that no component can
intercept (<EM>eat</EM>) it, and they are feed to all child, grandchild etc.
components in a component tree (starting from the component that received
first this event).
</DL>
<P>

To check if the event is generated by keyboard, you can use the predefined
<CODE>CS_IS_KEYBOARD_EVENT(Event)</CODE> macro.  To check for mouse events, you can use
the <CODE>CS_IS_MOUSE_EVENT(Event)</CODE> macro.
</P><P>

<A NAME="CSWS Clipping"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_153.html#SEC381"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_155.html#SEC386"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_150.html#SEC375"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_151.html#SEC376"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_157.html#SEC391"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_286.html#SEC958">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated using
<A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
