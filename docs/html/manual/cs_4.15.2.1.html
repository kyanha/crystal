<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created by texi2html 1.76 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->
<head>
<title>Crystal Space: 4.15.2.1 Initalization Section</title>

<meta name="description" content="Crystal Space: 4.15.2.1 Initalization Section">
<meta name="keywords" content="Crystal Space: 4.15.2.1 Initalization Section">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.76">
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="XML-Init-Section"></a>
<a name="4.15.2.1"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="cs_4.15.2.html#4.15.2" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="cs_4.15.2.2.html#4.15.2.2" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="cs_4.html#4." title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="cs_4.15.2.html#4.15.2" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="cs_5.html#5." title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="index.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="cs_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="cs_Index.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="cs_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h4 class="subsubsection"> 4.15.2.1 Initalization Section </h4>

<p>This section describes the initialization section.
</p>
<a name="SEC513"></a>
<h4 class="subsubheading"> Texture Specification Section </h4>

<p>Here is an example texture specification section:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">&lt;textures&gt;
  &lt;texture name=&quot;wood&quot;&gt;
    &lt;file&gt;/mygamedata/wood.png&lt;/file&gt;
  &lt;/texture&gt;
  &lt;texture name=&quot;transp&quot;&gt;
    &lt;file&gt;/mygamedata/stripes.png&lt;/file&gt;
    &lt;transparent red=&quot;1&quot; green=&quot;0&quot; blue=&quot;0&quot;/&gt;
  &lt;/texture&gt;
  &lt;proctex name=&quot;plasma&quot;&gt;
    &lt;type&gt;plasma&lt;/type&gt;
  &lt;/proctex&gt;
&lt;/textures&gt;
</pre></td></tr></table>
<p>In this example we define three textures. The first one is called
<samp>`wood'</samp> and will be loaded from the <small>VFS</small> file
<tt>`/mygamedata/wood.png'</tt>. See section <a href="cs_4.6.html#4.6">Virtual File System (<small>VFS</small>)</a>.
</p>
<p>The second texture, <samp>`transp'</samp>, is loaded from
<tt>`/mygamedata/stripes.png'</tt>. The red color will be made fully
transparent. If you want to use an alpha channel then this is supported
too. In that case simply load a <small>PNG</small> image that has an alpha channel (or
any other type of image that supports an alpha channel).
</p>
<p>The third texture is a procedural texture. There are four types of
procedural textures predefined in Crystal Space: <samp>`fire'</samp>, <samp>`water'</samp>,
<samp>`dots'</samp>, and <samp>`plasma'</samp>.
</p>
<p>Subcommands allowed for a texture specification are:
</p>
<ul class="toc">
<li> <samp>`key'</samp>
<samp>`Key/value node'</samp>. Specifies a generic key/value.
</li><li> <samp>`for2d'</samp>
<samp>`Boolean'</samp>. Texture is for 2D usage.
</li><li> <samp>`for3d'</samp>
<samp>`Boolean'</samp>. Texture is for 3D usage (default).
</li><li> <samp>`transparent'</samp>
<samp>`Color'</samp>. Texture uses keycolor with the given color.
</li><li> <samp>`file'</samp>
<samp>`String'</samp>. <small>VFS</small> filename for the texture.
</li><li> <samp>`mipmap'</samp>
<samp>`Boolean'</samp>. Texture uses mipmaps (default on). For 2D textures it is
usually better to disable this. Also skybox textures should probably disable
this.
</li><li> <samp>`npots'</samp>
<samp>`Boolean'</samp>. Texture doesn't have to be power of two and it will
not be scaled to power of two dimensions. (default off). Note that not all
hardware supports this, and sometimes this only works if mipmaps are 
disabled as well as clamping enabled.
</li><li> <samp>`clamp'</samp>
<samp>`Boolean'</samp>. If set the texture will not be tiled and color lookups
outside the 0..1 range will be clamped to the edge of the texture. Default off.
</li><li> <samp>`filter'</samp>
<samp>`Boolean'</samp>. If disabled then no texture filtering will occur. This usually
looks worse. Default is on.
</li><li> <samp>`keepimage'</samp>
<samp>`Boolean'</samp>. If this is set then the loaded image will be kept
and attached to the texture for later usage. With this flag off (which is
default) the image will be freed after the texture is given to the
3D renderer (to conserve memory).
</li><li> <samp>`type'</samp>
<samp>`String'</samp>. Name of the texture plugin. Some examples of texture
plugins are <samp>`crystalspace.texture.loader.water'</samp>,
<samp>`crystalspace.texture.loader.plasma'</samp>,
<samp>`crystalspace.texture.loader.checkerboard'</samp>,
<samp>`crystalspace.texture.loader.cubemap'</samp>, <small class="dots">...</small>
</li><li> <samp>`params'</samp>
<samp>`Node'</samp>. Parameters for the optional texture plugin.
</li><li> <samp>`size'</samp>
<samp>`Attributes 'width' and 'height''</samp>. Desired size of the texture. This
is mainly useful in case you use one of the texture plugins. If you use a
normal file then the width and height is fetched from the image.
</li><li> <samp>`alwaysanimate'</samp>
<samp>`Boolean'</samp>. If this is an animated texture then this flag will
make sure the texture keeps animating even if out of view. This is less
performant but in some cases it is more correct. Default off.
</li><li> <samp>`class'</samp>
<samp>`String'</samp>. This is used to specify the class of the texture. One
common example is <samp>`normalmap'</samp> which is used by many shaders.
</li><li> <samp>`alpha'</samp>
<samp>`String'</samp>. One of <samp>`none'</samp>, <samp>`binary'</samp>, <samp>`smooth'</samp>, or <samp>`auto'</samp>.
<samp>`binary'</samp> is often used to force binary alpha for an alpha mapped texture. 
In short, by using this flag the texture can be used on regular objects using 
<samp>`zuse'</samp> and <samp>`object'</samp> render priority. This greatly helps performance 
and correct visual appearance of objects. For a more detailed explanation
see section <a href="cs_4.11.2.html#4.11.2">Alpha and Keycolor in Textures</a>.
</li></ul>

<a name="SEC514"></a>
<h4 class="subsubheading"> Material Specification Section </h4>

<p>Materials are very important in Crystal Space. Almost all objects will
use materials to define the surface characteristics of their geometry.
A material itself is usually made from one or more textures.
</p>
<p>Here is an example material section. It uses the textures defined
in the previous section:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">&lt;materials&gt;
  &lt;material name=&quot;table_material&quot;&gt;
    &lt;texture&gt;wood&lt;/texture&gt;
  &lt;/material&gt;
  &lt;material name=&quot;fence_material&quot;&gt;
    &lt;texture&gt;transp&lt;/texture&gt;
  &lt;/material&gt;
  &lt;material name=&quot;plasma_wood&quot;&gt;
    &lt;texture&gt;wood&lt;/texture&gt;
    &lt;shader type=&quot;standard&quot;&gt;std_lighting_detail_alpha&lt;/shader&gt;
    &lt;shadervar name=&quot;tex detail&quot; type=&quot;texture&quot;&gt;plasma&lt;/shadervar&gt;
    &lt;shadervar name=&quot;detail texture scale&quot;
               type=&quot;vector2&quot;&gt;10,10&lt;/shadervar&gt;
    &lt;shadervar name=&quot;detail texture color&quot;
               type=&quot;vector4&quot;&gt;1,1,1,0.25&lt;/shadervar&gt;
  &lt;/material&gt;
&lt;/materials&gt;
</pre></td></tr></table>
<p>When defining materials you usually use a name that indicates the use of that
material.  That way you can easily replace how the material looks like (by
swapping textures) without having to change the material name itself.
</p>
<p>In the example above we first define a <samp>`table_material'</samp> which uses only
the <samp>`wood'</samp> texture.  The second material is <samp>`fence_material'</samp> which
uses the semi-transparent <samp>`transp'</samp> texture.
</p>
<p>The last material is interesting. The base of the material is the
<samp>`wood'</samp> texture. On top of that there is an additional texture layer
that uses the <samp>`plasma'</samp> texture. The layer is scaled 10 times in both
<em>u</em> and <em>v</em> direction and it is added to the original texture
(i.e. the colors are added). This &quot;special effect&quot; is achieved by attaching
the <samp>`std_lighting_detail'</samp> shader to this material. Different shaders
allow different effects - the additive blending of a second texture in this
case.
</p>
<p>Subcommands allowed for a material specification are:
</p>
<ul class="toc">
<li> <samp>`key'</samp>
<samp>`Key/value node'</samp>. Specifies a generic key/value.
</li><li> <samp>`texture'</samp>
<samp>`String'</samp>. Name of the texture.
</li><li> <samp>`color'</samp>
<samp>`Color'</samp>. A color instead of a texture. If you use this then <samp>`texture'</samp>
should not be used.
</li><li> <samp>`shader'</samp>
<samp>`String'</samp>. A shader to use for this material. The value of this should
be the name of the shader to use. In addition you also need to specify
the <samp>`type'</samp> (as an attribute) of this shader. This will be used in combination
with the renderloop to control when this material will be used in the rendering
steps.
</li><li> <samp>`shadervar'</samp>
<samp>`Value'</samp>. This defines a variable for the shader attached to this material.
The meaning of a variable as well as the required type depends on the specific
shader A shader variable has two attributes: <samp>`name'</samp> and <samp>`type'</samp>. 
<samp>`name'</samp> is the name as used in the shader. The type can be anything like
<samp>`texture'</samp>, <samp>`vector2'</samp>, <samp>`vector3'</samp>, <samp>`vector4'</samp>, <samp>`integer'</samp>,
<samp>`float'</samp>,  <samp>`expr'</samp>, <samp>`expression'</samp>, or <samp>`array'</samp>.
</li></ul>

<a name="SEC515"></a>
<h4 class="subsubheading"> Shader Section </h4>

<p>With shaders you can describe more advanced texture and material
effects. Here is an example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">&lt;shaders&gt;
  &lt;shader&gt;&lt;file&gt;/shader/reflect.xml&lt;/file&gt;&lt;/shader&gt;
&lt;/shaders&gt;
</pre></td></tr></table>
<p>Most of the times you simply refer to shaders from a file.
</p>
<a name="SEC516"></a>
<h4 class="subsubheading"> Sounds Section </h4>

<p>The <samp>`sounds'</samp> Section of the map file format allows you to encode
information about the sound effects, background music, or pre-recorded
dialogues that you want to include in the map. Here is an example of
a 'sounds' section of a map file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">&lt;sounds&gt;
  &lt;sound name=&quot;ear-joy.mp3&quot; mode3d=&quot;relative&quot; /&gt;
  &lt;sound name=&quot;waterfall.mp3&quot;
    file=&quot;waterfall_179384.mp3&quot;
    mode3d=&quot;absolute&quot; /&gt;
&lt;/sounds&gt;
</pre></td></tr></table>
<p>As you can see, you can include multiple <samp>`sound'</samp> nodes within a
<samp>`sounds'</samp> node, and there are three attributes that determine the
behavior of each <samp>`sound'</samp> node. Here is an overview of what each of
the attributes do:
</p>
<ul class="toc">
<li> <samp>`name'</samp>
<samp>`String'</samp>. The <samp>`name'</samp> attribute is the internal Crystal
Space <small>VFS</small> identifier for the sound object. This is usually identical to
the filename for the object.
</li><li> <samp>`file'</samp>
<samp>`String'</samp>. The <samp>`file'</samp> attribute is the external filename for the
sound object, which may be different than the sound object's Crystal Space
name. Most of the time, though, the <samp>`file'</samp> attribute will be left
blank, and its default value will be the value of the <samp>`name'</samp> attribute.
</li><li> <samp>`mode3d'</samp>
<samp>`Enum'</samp>.  The <samp>`mode3d'</samp> attribute can be one of: <samp>`absolute'</samp>,
<samp>`disable'</samp>, or <samp>`relative'</samp>. If <samp>`mode3d'</samp> is not one of these
three values or empty, then the <samp>`crystalspace.maploader.parse.sound'</samp>
error is reported.
</li></ul>

<p>As mentioned above, it is possible to omit, the <samp>`file'</samp> attribute and
let it default to <samp>`name'</samp>, because <samp>`name'</samp> is required. However,
if you want the Crystal Space name to be different than the filename,
use the <samp>`file'</samp> attribute as well. An alternative to using <samp>`file'</samp>
attribute (for example: <samp>`file=&quot;mysound.wav&quot;'</samp> to indicate the filename
of a sound object, you may instead use a <samp>`file'</samp> element (for example
<samp>`&lt;file&gt;mysong.wav&lt;/file&gt;'</samp>) within a <samp>`sound'</samp> node to load a
sound from a filename. Here is an example of how it would look:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">&lt;sounds&gt;
  &lt;sound name=&quot;mysong.wav&quot; mode3d=&quot;disable&quot;&gt;
    &lt;file&gt;mysong.wav&lt;/file&gt;
  &lt;/sound&gt;
&lt;/sounds&gt;
</pre></td></tr></table>
<p>As mentioned earlier, The <samp>`mode3d'</samp> enumeration is one of:
<samp>`absolute'</samp>, <samp>`disable'</samp>, or <samp>`relative'</samp>. The following is a
breakdown of what each of these options implies:
</p>
<ul class="toc">
<li> <samp>`disable'</samp>
When <samp>`mode3d'</samp> is <samp>`disable'</samp> then no signal processing is done
to the sound object. This mode allows stereo audio to be stored in a
sound object. Both other modes only allow one channel.
</li><li> <samp>`relative'</samp>
When <samp>`mode3d'</samp> is <samp>`relative'</samp> then some level of signal processing
is done to ensure that the sound being played will have different volumes
depending on the <samp>`position'</samp> parameter of the sound object. Note that
only one-channel sound objects are allowed.
</li><li> <samp>`absolute'</samp>
When <samp>`mode3d'</samp> is <samp>`absolute'</samp> then the highest level of signal
processing is performed. Like <samp>`relative'</samp> this mode only works with
one-channel sound objects. Unlike <samp>`relative'</samp>, this mode translates
absolute coordinates into relative listener coordinates, allowing the
calculation of the sound output by finding the difference between the
user and the sound object, so the volume of the sound object will seem
to vary as you move about.
</li></ul>

<a name="SEC517"></a>
<h4 class="subsubheading"> Variable Section </h4>

<p>The <code>variables</code> section of a map file format allows you to define
variables, and make shortcuts for common strings, colors, and vectors.
Here is an example of a <code>variables</code> section of a map file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">&lt;variables&gt;
  &lt;variable name=&quot;avatar_age&quot; value=&quot;21.0&quot; /&gt;
  &lt;variable name=&quot;sky_color&quot;&gt;
    &lt;color red=&quot;0.0&quot; green=&quot;0.0&quot; blue=&quot;1.0&quot; alpha=&quot;1.0&quot; /&gt;
  &lt;/variable&gt;
  &lt;variable name=&quot;that_way&quot;&gt;
    &lt;v x=&quot;-0.5&quot; y=&quot;3.5&quot; z=&quot;0.5&quot; /&gt;
  &lt;/variable&gt;
&lt;/variables&gt;
</pre></td></tr></table>
<p>As you can see, the <code>variables</code> section can contain multiple
<code>variable</code> elements, each of them defining a variable definition.
Within each variable definition, depending on the type, you can specify
different attributes. Here is an overview of the attributes and
elements that can be found within a <code>variable</code> element:
</p>
<ul class="toc">
<li> <samp>`name'</samp> <samp>`String'</samp> attribute,
The name of the variable.
</li><li> <samp>`value'</samp> <samp>`String'</samp> attribute
A string value associated with the variable name.
</li><li> <samp>`color'</samp> element
A color value associated with the variable name. A <samp>`color'</samp> element
can have <samp>`red'</samp>, <samp>`green'</samp>, <samp>`blue'</samp>, and optionally
<samp>`alpha'</samp> attributes, where each attribute can be assigned a value
between 0 and 1. If the <samp>`alpha'</samp> attribute is omitted, then it is
assumed to have a value of 1.
</li><li> <samp>`v'</samp> element
A vector value associated with the variable name. A <samp>`vector'</samp> element
can have <samp>`x'</samp>, <samp>`y'</samp>, and optionally <samp>`z'</samp> attributes, where
each attribute is any floating point number. If the <samp>`z'</samp> attribute
is omitted, then it is assumed to have a value of 0.
</li></ul>

<a name="SEC518"></a>
<h4 class="subsubheading"> Plugin Section </h4>

<p>The plugin section is purely for convenience later. Normally when creating
mesh objects you have to specify the <small>SCF</small> class name of the loader
which will parse the <small>XML</small> data for that mesh object. This is a long
name. The plugin section allows you to define shorter names for those
plugins. Here is an example where names are defined for the thing,
spr3d, and spr3dfact plugins:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">&lt;plugins&gt;
    &lt;plugin name=&quot;thing&quot;&gt;
        crystalspace.mesh.loader.thing
    &lt;/plugin&gt;
    &lt;plugin name=&quot;spr3dFact&quot;&gt;
        crystalspace.mesh.loader.factory.sprite.3d
    &lt;/plugin&gt;
    &lt;plugin name=&quot;spr3d&quot;&gt;
        crystalspace.mesh.loader.sprite.3d
    &lt;/plugin&gt;
&lt;/plugins&gt;
</pre></td></tr></table>
<a name="SEC519"></a>
<h4 class="subsubheading"> Settings Section </h4>

<p>In the settings section there are a few configuration options that you can
specify. Here is a complete settings example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">&lt;settings&gt;
  &lt;clearzbuf /&gt;
  &lt;clearscreen /&gt;
  &lt;lightmapcellsize&gt;16&lt;/lightmapcellsize&gt;
  &lt;maxlightmapsize horizontal=&quot;256&quot; vertical=&quot;256&quot; /&gt;
  &lt;ambient red=&quot;.1&quot; green=&quot;.1&quot; blue=&quot;.1&quot; /&gt;
  &lt;fastmesh&gt;300&lt;/fastmesh&gt;
&lt;/settings&gt;
</pre></td></tr></table>
<p>By default Crystal Space does not clear the z-buffer not the screen every
frame. For the z-buffer it depends on objects to fill the z-buffer. In a
typical Crystal Space world every sector would have an outer hull (either
a skybox or else the walls of the room) which would use <samp>`zfill'</samp> mode
so that the z-buffer is updated but not read. Objects in the room can then
use <samp>`zuse'</samp>. If you don't want this (i.e. you want to use <samp>`zuse'</samp>
for all objects) then you can use <samp>`clearzbuf'</samp>. Similar for
<samp>`clearscreen'</samp>.
</p>
<p>The lightmap cellsize defines how many texels (pixels on a texture) there
are in every lumel (lightmap value). For example, if the lightmap cellsize
is 16 (default) then for every 16x16 texels there will be one lumel.
</p>
<p>The maximum lightmap size is usually 256x256. You can change this value
here but this usually doesn't make much sense.
</p>
<p>In addition to the lighting information given by all lights in the system,
every object will also get ambient lighting. Ambient lighting is global to
the engine (at least static ambient lighting). You can set the ambient
for a level in the settings block. Default ambient is 0.078 for all color
components.
</p>
<p>With <samp>`fastmesh'</samp> you can control at which point Crystal Space will use
<samp>`CS_THING_FASTMESH'</samp> for a thing. This is a faster routine (in principle)
but at this moment it only seems to pay off for objects with a high
number of polygons. The default is 500.
</p>
<a name="SEC520"></a>
<h4 class="subsubheading"> Start Location Section </h4>

<p>A map file can contain zero or more start locations for the camera. How
these start locations are interpreted is up to the application. Typically
there is one start location that has no name and which is considered the
default. But you can have multiple start locations and refer to them by
name in your application. Here is an example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">&lt;start&gt;
    &lt;sector&gt;room&lt;/sector&gt;
    &lt;position x=&quot;0&quot; y=&quot;0&quot; z=&quot;0&quot; /&gt;
&lt;/start&gt;
&lt;start name=&quot;alternate&quot;&gt;
    &lt;sector&gt;other_room&lt;/sector&gt;
    &lt;position x=&quot;0&quot; y=&quot;0&quot; z=&quot;0&quot; /&gt;
    &lt;up x=&quot;0&quot; y=&quot;-1&quot; z=&quot;0&quot; /&gt;
    &lt;forward x=&quot;0&quot; y=&quot;0&quot; z=&quot;-1&quot; /&gt;
    &lt;farplane a=&quot;0&quot; b=&quot;0&quot; c=&quot;1&quot; d=&quot;100&quot; /&gt;
&lt;/start&gt;
</pre></td></tr></table>
<p>If there is no start location then by convention many applications assume
that the default start is in sector called <samp>`room'</samp> at location
<samp>`0,0,0'</samp>.
</p>
<p>The first example above is easy. It just defines the same starting location
as specifying nothing would have done.
</p>
<p>The second example is more complicated. It defines a start location called
<samp>`alternate'</samp>. The up-vector is specified as <samp>`0,-1,0'</samp> which is just
the reverse of the default <samp>`0,1,0'</samp>. This means that the camera will
be upside down. The forward vector is <samp>`0,0,-1'</samp> which means that
the camera will be looking to the negative z axis. By default the camera
looks in the positive z direction.
</p>
<p>The last <samp>`farplane'</samp> option is interesting. It indicates that all
geometry beyond <samp>`z=100'</samp> will be clipped away. You can use this if
you want to speed up rendering and you know that objects further away than
the specified distance are not interesting or you use fog that would have
made them invisible anyway. Note that fog alone doesn't do that. By default
there is no farplane. If you use the farplane option it is usually recommended
to let the engine clear the z-buffer every frame (see the <samp>`settings'</samp>
section above) because you can no longer depend on geometry to do it for you
if it is culled away.
</p>
<a name="SEC521"></a>
<h4 class="subsubheading"> Library Specification Section </h4>

<p>It is possible to define libraries that contain objects like mesh factories,
textures, materials, and so on and then include those libraries in your
map files. Creating a library file is very easy. It is basically the same
as creating a map file but instead of <code>&lt;world&gt;</code> you would use
<code>&lt;library&gt;</code>. To use a library you can simply put the following in
your map file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">&lt;library&gt;/mygamedata/library&lt;/library&gt;
</pre></td></tr></table>
<a name="SEC522"></a>
<h4 class="subsubheading"> Keys </h4>

<p>Crystal Space has a system with which you can attach user data to almost
all Crystal Space objects. This user data has a name and several values (string
based) and in code you can query for those name/value pairs. Crystal Space
itself doesn't use this. It only stores the information.
</p>
<p>When you specify name/value pairs in the world section itself you are
essentially adding information to the engine class. Here is an example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">&lt;key name=&quot;spawn_monster&quot; type=&quot;ghost&quot; location=&quot;mainhall&quot;
  pos=&quot;10,1,12&quot; /&gt;
&lt;key name=&quot;spawn_monster&quot; type=&quot;goblin&quot; location=&quot;corridor&quot;
  pos=&quot;15,3,10&quot; /&gt;
</pre></td></tr></table>
<hr size="1">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="cs_4.15.2.html#4.15.2" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="cs_4.15.2.2.html#4.15.2.2" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="cs_4.html#4." title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="cs_4.15.2.html#4.15.2" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="cs_5.html#5." title="Next chapter"> &gt;&gt; </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated using <a href="http://texi2html.cvshome.org/"><em>texi2html 1.76</em></a>.
 </font>
 <br>

</p>
</body>
</html>
