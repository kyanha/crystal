<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created by texi2html 1.76 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->
<head>
<title>Crystal Space: 4.19.1 Quick Start</title>

<meta name="description" content="Crystal Space: 4.19.1 Quick Start">
<meta name="keywords" content="Crystal Space: 4.19.1 Quick Start">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.76">
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="AWS-Quick-Start"></a>
<a name="4.19.1"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="cs_4.19.html#4.19" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="cs_4.19.2.html#4.19.2" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="cs_4.html#4." title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="cs_4.19.html#4.19" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="cs_5.html#5." title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="index.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="cs_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="cs_Index.html#Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="cs_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 4.19.1 Quick Start </h3>

<p>In order to startup and use <small>AWS</small>, the following tasks must be performed.
</p>
<ol>
<li>
Initialize the Crystal Space facilities in the normal fashion.
(see section <a href="cs_4.2.1.html#4.2.1">Simple Tutorial 1: Basic Setup, World Creation</a>).  In particular,
<code>csInitializer::OpenApplication()</code> must be invoked before any of the
following tasks are performed.  Initializing an <small>AWS</small> application also
involves loading the <small>AWS</small> plugin.  You can do this via the normal
<code>csInitializer::RequestPlugins()</code> invocation (the common approach), or you
can load it separately, if desired:

<table><tr><td>&nbsp;</td><td><pre class="example">csRef&lt;iAws&gt; aws = csLoadPlugin&lt;iAws&gt; (plugin_mgr,
  &quot;crystalspace.window.alternatemanager&quot;);
</pre></td></tr></table>

<p>If you know ahead of time that your application will be using <small>AWS</small>, then
loading the plugin via <code>csInitializer::OpenApplication()</code> is more
convenient and less error-prone.
</p>
</li><li>
Setup the <small>AWS</small> canvas.

<table><tr><td>&nbsp;</td><td><pre class="example">awsCanvas = aws-&gt;SetupCanvas (0, myG2D, myG3D);
</pre></td></tr></table>

<p>Where <code>myG2D</code> and <code>myG3D</code> are your <code>iGraphics2D</code> and 
<code>iGraphics3D</code> cavas objects, respectively.
</p>
</li><li>
Load definition files.

<table><tr><td>&nbsp;</td><td><pre class="example">aws-&gt;GetPrefMgr()-&gt;Load(&quot;/aws/awstest.def&quot;);
</pre></td></tr></table>

<p>Substitute the <small>VFS</small> path of your own definition file in place of the path
shown in the example.
</p>
</li><li>
Select a default skin that <em>all</em> windows will use.

<table><tr><td>&nbsp;</td><td><pre class="example">aws-&gt;GetPrefMgr()-&gt;SelectDefaultSkin(&quot;Normal Windows&quot;);
</pre></td></tr></table>
</li><li>
Create and display your windows.

<table><tr><td>&nbsp;</td><td><pre class="example">csRef&lt;iAwsWindow&gt; test2 = aws-&gt;CreateWindowFrom(&quot;Another&quot;);
csRef&lt;iAwsWindow&gt; test1 = aws-&gt;CreateWindowFrom(&quot;Form1&quot;);
if (test1) test1-&gt;Show();
if (test2) test2-&gt;Show();
</pre></td></tr></table>
</li><li>
Finally, you have to make sure it actually renders to the display.
So, in your program's main drawing loop you might use code similar to this:

<table><tr><td>&nbsp;</td><td><pre class="example">// Start drawing 2D graphics.
if (!myG3D-&gt;BeginDraw (CSDRAW_2DGRAPHICS))
  return;
// Make sure invalidated areas get a chance to
// redraw themselves.
aws-&gt;Redraw ();
// Draw the current view of the window system to a
// graphics context with a certain alpha value.
aws-&gt;Print (myG3D, 64);
</pre></td></tr></table></li></ol>

<p>That's all there is to it.  <small>AWS</small> is designed to be easy to use.  Of course,
this brief examination does not illustrate how to get user input from
components in the windows, nor does it illustrate how to do anything other than
display your windows.  However, the windows created here are full-fledged
windows with all the controls listed in the definition that you've created.
For more advanced topics, read about signals (see section <a href="cs_4.19.2.html#4.19.2">Signals: Responding To User Input</a>) and custom
components (see section <a href="cs_4.19.3.html#4.19.3">Creating Custom <small>AWS</small> Components</a>).
</p>
<hr size="1">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="cs_4.19.html#4.19" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="cs_4.19.2.html#4.19.2" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="cs_4.html#4." title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="cs_4.19.html#4.19" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="cs_5.html#5." title="Next chapter"> &gt;&gt; </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated using <a href="http://texi2html.cvshome.org/"><em>texi2html 1.76</em></a>.
 </font>
 <br>

</p>
</body>
</html>
