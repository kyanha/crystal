<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HTML>
<HEAD>
<TITLE>Crystal Space: MeshObject Spr3D</TITLE>

<META NAME="description" CONTENT="Crystal Space: MeshObject Spr3D">
<META NAME="keywords" CONTENT="Crystal Space: MeshObject Spr3D">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC569"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_212.html#SEC562"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_214.html#SEC576"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_198.html#SEC490"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_208.html#SEC550"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_228.html#SEC648"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_292.html#SEC941">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H3> 7.8.5 Sprite3D Mesh Object </H3>
<!--docid::SEC569::-->
<P>

<EM>Written by Jorrit Tyberghein,
<A HREF="mailto:jorrit.tyberghein@uz.kuleuven.ac.be">jorrit.tyberghein@uz.kuleuven.ac.be</A>.</EM>
</P><P>

A 3D Sprite is a complex set of 3D triangles that supports animation through
frames.
</P><P>

<A NAME="SEC570"></A>
<H4> Basic Structure   </H4>
<!--docid::SEC570::-->
<P>

The following SCF class names are used (for <CODE>CS_LOAD_PLUGIN()</CODE>):
</P><P>

<UL>
<LI>
Type plugin: `<SAMP>crystalspace.mesh.object.sprite.3d</SAMP>'
<LI>
Loader plugin: `<SAMP>crystalspace.mesh.loader.sprite.3d</SAMP>'
<LI>
Factory loader plugin: `<SAMP>crystalspace.mesh.loader.factory.sprite.3d</SAMP>'
</UL>
<P>

Objects in this plugin implement the following SCF interfaces (get
with <CODE>SCF_QUERY_INTERFACE()</CODE>):
</P><P>

<UL>
<LI>
<EM>MeshObject</EM>
<UL>
<LI>
Implements `<SAMP>iMeshObject</SAMP>'
<LI>
Implements `<SAMP>iSprite3DState</SAMP>'
</UL>
<LI>
<EM>MeshObjectFactory</EM>
<UL>
<LI>
Implements `<SAMP>iMeshObjectFactory</SAMP>'
<LI>
Implements `<SAMP>iSprite3DFactoryState</SAMP>'
</UL>
<LI>
<EM>MeshObjectType</EM>
<UL>
<LI>
Implements `<SAMP>iMeshObjectType</SAMP>'
<LI>
Implements `<SAMP>iConfig</SAMP>'
</UL>
</UL>
<P>

<A NAME="SEC571"></A>
<H4> Factory State Interface  </H4>
<!--docid::SEC571::-->
<P>

Use the `<SAMP>iSprite3DFactoryState</SAMP>' SCF interface to access settings for
a 3D sprite factory.  The definition of this interface can be found in
`<TT>CS/include/imesh/sprite3d.h</TT>' and that is also the include file you need
to include in your applications to use this plugin.  Using this interface you
can access the material, triangles, vertices, texture coordinates, normals,
frames, actions, and various other configuration parameters for a 3D
sprite factory.
</P><P>

For frame based animation you need to access the `<SAMP>iSpriteFrame</SAMP>' and
`<SAMP>iSpriteAction</SAMP>' interfaces (defined in `<TT>CS/include/imesh/sprite3d.h</TT>').
</P><P>

<A NAME="SEC572"></A>
<H4> Factory Loader  </H4>
<!--docid::SEC572::-->
<P>

<DL COMPACT>
<DT><CODE>&#60;material&#62;materialname&#60;/material&#62;</CODE>
<DD>Material to use for the sprite.
<DT><CODE>&#60;frame name="framename">&#60;v x="" y="" z="" u="" v="" /&#62; <small>...</small></CODE>
<DD>Define one frame.  A frame is a list of vertices which are specified using the
`<SAMP>v</SAMP>' tag.  Every vertex has a 3D position in object space and (u,v)
coordinates in the given texture (from 0 to 1).  Note that every frame needs to
have the same number of vertices.
<DT><CODE>&#60;action name="actionname">&#60;f name="framename"&#62;&#60;delay&#62;</CODE>
<DD>Define one action.  An action is a list of frames.  Every frame is annotated
with the `<SAMP>f</SAMP>' tag which contains the name of the frame to use and a
delay.
<DT><CODE>&#60;t v1="" v2="" v3="" /&#62;</CODE>
<DD>Define one triangle.  The three parameters are the indices for the three
triangle vertices.
<DT><CODE>&#60;smooth&#62;base/frame&#60;/smooth&#62;</CODE>
<DD>Defines how to apply normal smoothing on the sprite.
<DT><CODE>&#60;tween&#62;yes/no&#60;/tween&#62;</CODE>
<DD>Set to yes if you want to enable frame tweening.  Default is false.
</DL>
<P>

<A NAME="SEC573"></A>
<H4> Object State Interface  </H4>
<!--docid::SEC573::-->
<P>

`<SAMP>iSprite3DState</SAMP>' is the SCF interface that you can
use to set/get settings for a 3D Sprite object. The definition of this
interface can be found in `<TT>CS/include/imesh/sprite3d.h</TT>' and that's also the
include file you need to include in your applications to use this plugin.
Using this interface you can access the material, blending mode (mixmode),
current frame and action, and various other configuration parameters for an
3D sprite object.
</P><P>

<A NAME="SEC574"></A>
<H4> Object Loader  </H4>
<!--docid::SEC574::-->
<P>

<DL COMPACT>
<DT><CODE>&#60;factory&#62;factoryname&#60;/factory&#62;</CODE>
<DD>Name of the factory to use for creation of this instance.
<DT><CODE>&#60;mixmode&#62;&#60;mode \&#62;&#60;/mixmode&#62;</CODE>
<DD>Blending mode, one of `<SAMP>add</SAMP>', `<SAMP>alpha</SAMP>', `<SAMP>copy</SAMP>', `<SAMP>keycolor</SAMP>',
`<SAMP>multiply2</SAMP>', `<SAMP>multiply</SAMP>', or `<SAMP>transparent</SAMP>'.
<DT><CODE>&#60;material&#62;materialname&#60;/material&#62;</CODE>
<DD>Material to use for the sprite.
<DT><CODE>&#60;tween&#62;yes/no&#60;/tween&#62;</CODE>
<DD>Set to yes if you want to enable frame tweening.  Default is false.
<DT><CODE>&#60;lighting&#62;yes/no&#60;/lighting&#62;</CODE>
<DD>Set to yes if you want to enable lighting.  Default is true.
<DT><CODE>&#60;basecolor red="" green="" blue="" /&#62;</CODE>
<DD>Base color that will be added to all vertex colors. Default 0,0,0.
<DT><CODE>&#60;action name="actionname"&#62;</CODE>
<DD>The default action to use for this sprite instance.
</DL>
<P>

<A NAME="SEC575"></A>
<H4> Configuration Parameters </H4>
<!--docid::SEC575::-->
<P>

The `<TT>sprite3d</TT>' plugin supports the following configuration parameters
via the `<SAMP>iConfig</SAMP>' interface in the mesh object type plugin:
</P><P>

<DL COMPACT>
<DT><CODE>sprlod</CODE>
<DD>Set the sprite level-of-detail (LOD) level.
<DT><CODE>sprlq</CODE>
<DD>Set the sprite lighting quality.
</DL>
<P>

<A NAME="MeshObject SprCal3D"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_212.html#SEC562"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_214.html#SEC576"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_198.html#SEC490"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_208.html#SEC550"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_228.html#SEC648"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_292.html#SEC941">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated using
<A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
