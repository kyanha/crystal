<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HTML>
<HEAD>
<TITLE>Crystal Space: CSWS Clipping</TITLE>

<META NAME="description" CONTENT="Crystal Space: CSWS Clipping">
<META NAME="keywords" CONTENT="Crystal Space: CSWS Clipping">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC386"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_154.html#SEC385"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_156.html#SEC389"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_150.html#SEC375"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_151.html#SEC376"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_157.html#SEC391"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_286.html#SEC962">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H3> 6.4.4 Clipping </H3>
<!--docid::SEC386::-->
<P>

Clipping is the process of removing parts of output covered by other
components.  CSWS has full clipping implemented for all existing graphics
primitives.  There is no drawing operation that can influence other
component's image except transparent windows.  Clipping is performed in the
following fashion.  First primitive is clipped against <EM>dirty</EM> rectangle
(to cut off excessive output), then it is clipped against all its neighbors,
then against `<SAMP>clip parent</SAMP>' window and all its neighbors and so on.
</P><P>

<A NAME="SEC387"></A>
<H4> Clip Parents </H4>
<!--docid::SEC387::-->
<P>

All components have a `<SAMP>parent</SAMP>' component and a `<SAMP>clipparent</SAMP>'
component.  What they are used for? Usually `<SAMP>clipparent</SAMP>' is equal to
`<SAMP>parent</SAMP>' so there is no difference between them.  But in some rare cases
there is a need to perform clipping in a different way.  For example, popup
menus that belong to a window usually should not be clipped against that
window, but rather to the parent of parent window or even clipped only to
desktop.  In this case you should assign a different clip parent to that
component.  This can be performed by using <CODE>InsertClipChild()</CODE> method.
For example, to make a menu clip to application's bounds, you should call:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>app-&#62;InsertClipChild(menu);
</pre></td></tr></table></P><P>

You should not assign directly to `<SAMP>clipparent</SAMP>' variable since
<CODE>InsertClipChild()</CODE> does much extra work.  For example it inserts the
so-called "clip children" into component's clip child list, removes
component from former <CODE>clipparent</CODE>'s "clip children" list and so on.
</P><P>

<A NAME="SEC388"></A>
<H4> Partially Transparent Components </H4>
<!--docid::SEC388::-->
<P>

You can set a state flag called `<SAMP>CSS_TRANSPARENT</SAMP>' to mark
semi-transparent components.  Transparent components works differently in the
following ways:
</P><P>

<UL>
<LI>
When a part of such a component is invalidated, the same area of parent
component is invalidated as well.
<P>

<LI>
Mouse events for such components are considered "eaten" only if component's
<CODE>HandleEvent()</CODE> method returned `<SAMP>true</SAMP>'.  Otherwise, the event is
sent to the component placed below the transparent component.
<P>

<LI>
The output of windows below transparent components is not clipped.  Instead
the area of transparent component covered by output is invalidated so that it
gets redrawn at the end of frame.
</UL>
<P>

<A NAME="CSWS Tutorial"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_154.html#SEC385"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_156.html#SEC389"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_150.html#SEC375"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_151.html#SEC376"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_157.html#SEC391"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_286.html#SEC962">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated using
<A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
