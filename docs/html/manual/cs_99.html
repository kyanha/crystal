<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HTML>
<HEAD>
<TITLE>Crystal Space: map2cs Tutorial Skybox</TITLE>

<META NAME="description" CONTENT="Crystal Space: map2cs Tutorial Skybox">
<META NAME="keywords" CONTENT="Crystal Space: map2cs Tutorial Skybox">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC199"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_98.html#SEC198"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_100.html#SEC201"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_85.html#SEC183"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_89.html#SEC187"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_101.html#SEC202"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_286.html#SEC959">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H3> 5.5.10 Generating Skybox Textures </H3>
<!--docid::SEC199::-->
<P>

If you don't like the idea of keeping the player always inside a building and
never allowing him to look outside, then you need a skybox.  A skybox will
give the player a good illusion that there is an outside to your level.  A
skybox is a huge box with textures that shows what is outside.  However,
creating these textures is a bit tricky, otherwise, it might just look like
the inside of a textured cube.
</P><P>

But there is good news, because there is a free tool that is great for making
these textures.  It is called Terragen.
</P><P>

<A HREF="http://www.planetside.co.uk/">http://www.planetside.co.uk/</A>
</P><P>

Please consult the terragen documentation about how to create a world, as
I will only explain, how to export the map file to Crystal Space.
</P><P>

<A NAME="SEC200"></A>
<H4> Exporting to Crystal Space </H4>
<!--docid::SEC200::-->
<P>

When you are done creating your world perform the following steps:
</P><P>

Open the "Rendering Controls" panel.
</P><P>

<OL>
<LI>
Move your camera to the desired point in your map.
<LI>
Disable the "Fixed Height Above Surface" switch.
<LI>
Set "Detail" to <EM>Maximum</EM>.
<LI>
In the "Camera Settings" dialog set "Zoom Magnification" to "1".
<LI>
Set "Image Size" to 512x512 or 256x256.
</OL>
<P>

<CENTER><IMG SRC="tutorial/map2cs/terra1.png" ALT="tutorial/map2cs/terra1"></CENTER>
</P><P>

Now create six images and store them.  Use the following settings for these
images:
</P><P>

<BLOCKQUOTE>
<TABLE>
<TR><TD><EM>Texture Name Suffix</EM></TD>
</TD><TD> <EM>Camera Head</EM>
</TD><TD> <EM>Camera Pitch</EM>
</TD><TD> <EM>Camera Bank</EM>
</TR>
<TR><TD><CODE>_f</CODE> </TD><TD> 0 </TD><TD> 0 </TD><TD> 0</TD>
</TR>
<TR><TD><CODE>_r</CODE> </TD><TD> 90 </TD><TD> 0 </TD><TD> 0</TD>
</TR>
<TR><TD><CODE>_b</CODE> </TD><TD> 180 </TD><TD> 0 </TD><TD> 0</TD>
</TR>
<TR><TD><CODE>_l</CODE> </TD><TD> 270 </TD><TD> 0 </TD><TD> 0</TD>
</TR>
<TR><TD><CODE>_u</CODE> </TD><TD> 0 </TD><TD> 90 </TD><TD> 0</TD>
</TR>
<TR><TD><CODE>_d</CODE> </TD><TD> 0 </TD><TD> 270 </TD><TD> 0</TD>
</TR></TABLE>
</BLOCKQUOTE>
<P>

Convert the generated bitmaps to a format readable by `<TT>map2cs</TT>' (TGA,
JPG, JPEG, BMP, WAL).
</P><P>

Then you need to add a setting "skybox" with the value of your basename in
the general world properties.  (For example, if your textures are called
`<TT>sample_f.bmp</TT>', `<TT>sample_r.bmp</TT>', you will set "skybox" to
"sample").  Now every brush you assign a key "sky" with a value of "1" 
will look like your skybox. 
</P><P>

In addition, faces whose texture is "sky" will also let you see the skybox.
</P><P>

Now you have to let map2cs know where `<TT>sample_f.bmp</TT>', `<TT>sample_r.bmp</TT>', etc.
are located. We will put all the `<TT>sample_*.bmp</TT>' files on a single ZIP file.
Launch WinZip, WinRAR, or the program you use to open ZIP
files. Create a new file, store all the `<TT>sample_*.bmp</TT>' files on it, and save it
as `<TT>C:\Crystal\Maps\sample.zip</TT>'.
</P><P>

Open the file `<TT>C:\Crystal\CS\data\config\map2cs.cfg</TT>' in your favorite text
editor, then add a line like this: 
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>`<SAMP>Map2CS.TextureSettings.zip1 = C:\Crystal\Maps\sample.zip</SAMP>'.
</pre></td></tr></table></P><P>

`<TT>map2cs.cfg</TT>' should now look like the following example:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>Map2CS.TextureSettings.DefaultTexture = liquids/bubbles
Map2CS.TextureSettings.wad1 = C:\Crystal\WADs\cstex_1.wad
Map2CS.TextureSettings.wad2 = C:\Crystal\WADs\cstex_2.wad
Map2CS.TextureSettings.wad3 = C:\Sierra\HalfLife\valve\halflife.wad
Map2CS.TextureSettings.wad4 = C:\Sierra\HalfLife\valve\xeno.wad
Map2CS.TextureSettings.wad5 = C:\Sierra\HalfLife\valve\liquids.wad
Map2CS.TextureSettings.wad6 = C:\Sierra\HalfLife\valve\texpack.wad
Map2CS.TextureSettings.zip1 = C:\Crystal\Maps\sample.zip

Map2CS.General.Scaling = 0.025
Map2CS.General.UseBSP = 0
Map2CS.General.RemoveHidden = 0
Map2CS.General.LightScale=30

System.ApplicationID = Map2CS
</pre></td></tr></table></P><P>

Ready! Just try this out.  It is a really amazing effect.
</P><P>

This screenshot doesn't really do justice to the skybox effect, but it looks
quite nice, never-the-less.  To really appreciate the effect you will need to
move around a world in Crystal Space using a map enclosed within a skybox.
</P><P>

<CENTER><IMG SRC="tutorial/map2cs/terra2.png" ALT="tutorial/map2cs/terra2"></CENTER>
<A NAME="map2cs Tutorial Tips"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_98.html#SEC198"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_100.html#SEC201"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_85.html#SEC183"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_89.html#SEC187"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_101.html#SEC202"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_286.html#SEC959">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated using
<A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
