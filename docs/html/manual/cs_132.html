<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HTML>
<HEAD>
<TITLE>Crystal Space: HOWTO Recording Movies</TITLE>

<META NAME="description" CONTENT="Crystal Space: HOWTO Recording Movies">
<META NAME="keywords" CONTENT="Crystal Space: HOWTO Recording Movies">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC344"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_131.html#SEC340"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_133.html#SEC350"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_101.html#SEC206"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_109.html#SEC222"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_134.html#SEC351"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_285.html#SEC941">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H3> 5.8.23 Recording Movies </H3>
<!--docid::SEC344::-->
<P>

This section describes how to use the in-game movie recorder.
</P><P>

<A NAME="SEC345"></A>
<H4> What is the Movie Recorder Used For? </H4>
<!--docid::SEC345::-->
<P>

The movie recorder plugin lets you record a Crystal Space application's video
output quickly into a NuppelVideo file.  NuppelVideo is a format designed for
fast recording rather than efficient storage, so typically you would reencode
the resulting video in DivX or a similar format.
</P><P>

The plugin keeps Crystal Space's virtual clock in sync with the movie's frame
rate, so you can render very complex scenes slower than real-time and play them
back later full speed.
</P><P>

Currently this plugin does not handle audio or formats other than NuppelVideo,
but both of these are planned for the future.
</P><P>

<A NAME="SEC346"></A>
<H4> Preparing Up the Movie Recorder </H4>
<!--docid::SEC346::-->
<P>

The movie recorder plugin (probably `<TT>movierecorder.so</TT>' or
`<TT>movierecorder.dll</TT>') should be compiled as part of a full Crystal Space
build.
</P><P>

You can also use the movie recorder with an existing binary without any
recompilation.  Just place the movie recorder plugin in the application's
library directory.
</P><P>

Like the BugPlug plugin, the movie recorder can be loaded and manipulated
explicitly by an application or it can be loaded transparently into any
application automatically.  To load it transparently for all applications, you
add a setting to your user-specific, application-neutral configuration
(see section <A HREF="cs_37.html#SEC102">3.3 Configuration Domains</A>).  To do this, in the `<SAMP>CrystalSpace.Global</SAMP>'
configuration domain, give the setting `<SAMP>System.Plugins.iMovieRecorder</SAMP>' the
value `<SAMP>crystalspace.utilities.movierecorder</SAMP>'.  To find out how to do this
for your particular platform, see the platform-specific intructions for
manipulating configuration information (see  <A HREF="cs_37.html#Config PerUser">Config PerUser</A>).  The movie
recorder plugin should now load automatically when your application
initializes.  Last, but not least, you can use the command line argument
`<SAMP>--plugin=crystalspace.utilities.movierecorder</SAMP>' to enable the recorder on
a per-application basis.
</P><P>

<A NAME="SEC347"></A>
<H4> Using the Movie Recorder </H4>
<!--docid::SEC347::-->
<P>

Like the BugPlug plugin's screenshot facility, the movie recorder creates a new
numbered file when you press the recording hotkey.  By default, this key is
<KBD><KBD>ALT</KBD>-r</KBD>.  If you can see notice messages overlaid on your application
or in the terminal you are running it from, you should see a "Video recorder
started" message indicating the name of the file being recorded to.  Press the
record hotkey again to stop the recording.
</P><P>

During recording, you can use the pause hotkey to temporarily suspend
recording.  By default this is <KBD><KBD>ALT</KBD>-p</KBD>.  Press it again to resume
recording to the same file.
</P><P>

<A NAME="SEC348"></A>
<H4> Processing the Resulting Movies </H4>
<!--docid::SEC348::-->
<P>

You can view the resulting NuppelVideo files using <EM>mplayer</EM>, an open
source and cross-platform media player.  For re-distribution, you should use a
format with a better compression ratio, like DivX.  mplayer's counterpart,
<EM>mencoder</EM>, handles this task nicely:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>mencoder crystal000.nuv -o my_movie.avi -ovc lavc \
    -lavcopts vcodec=mpeg4:vbitrate=1600
</pre></td></tr></table></P><P>

This creates an AVI file using FFmpeg's <EM>mpeg4</EM> codec.  See mencoder's
manpage for more information.
</P><P>

<A NAME="SEC349"></A>
<H4> Configuring the Movie Recorder </H4>
<!--docid::SEC349::-->
<P>

The movie recorder reads its configuration from
`<TT>data/config/movierecorder.cfg</TT>' if it exists.  This lets you change the
recording and pause hotkeys, the filenames, and compression settings.  See the
comments in the default `<TT>movierecorder.cfg</TT>' for a description of each
item.
<A NAME="HOWTO Using Procedural Textures"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_131.html#SEC340"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_133.html#SEC350"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_101.html#SEC206"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_109.html#SEC222"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_134.html#SEC351"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_285.html#SEC941">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated using
<A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
