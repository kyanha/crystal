<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HTML>
<HEAD>
<TITLE>Crystal Space: HOWTO Pseudo DynLight</TITLE>

<META NAME="description" CONTENT="Crystal Space: HOWTO Pseudo DynLight">
<META NAME="keywords" CONTENT="Crystal Space: HOWTO Pseudo DynLight">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC270"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_118.html#SEC267"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_120.html#SEC273"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_102.html#SEC210"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_110.html#SEC226"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_135.html#SEC355"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_286.html#SEC955">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<HR SIZE=1>
<H3> 5.8.9 Pseudo-dynamic Lights </H3>
<!--docid::SEC270::-->
<P>

One little known feature in CS is the ability to have pseudo-dynamic
lights. Pseudo-dynamic lights are somewhere between static lights and
dynamic lights. Static lights cannot move but they generate high quality
lightmaps. Dynamic lights can move but the quality of lighting is much
less. Pseudo-dynamic lights are a variant of static lights. They cannot
move either but they can change intensity and color dynamically. Since
they also use lightmaps the quality is very good and they have correct
shadows. Pseudo-dynamic lights are ideal for lights that can be switched
on/off or possibly even for outside light that you want to turn off (at
night). Note that the usage of pseudo-dynamic lights adds an additional
shadow map to every polygon that is touched by that light. So memory
usage can go up quickly.
</P><P>

<A NAME="SEC271"></A>
<H4> Creating a Pseudo-Dynamic Light </H4>
<!--docid::SEC271::-->
<P>

To specify a pseudo-dynamic light in a map file you use the following
syntax:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>  &#60;light name="DynLight"&#62;
    &#60;center x="23" y="1" z="5"/&#62;
    &#60;radius&#62;10&#60;/radius&#62;
    &#60;color red="1" green="0" blue="0"/&#62;
    &#60;dynamic /&#62;
  &#60;light&#62;
</pre></td></tr></table></P><P>

In other words, the syntax is the same as for a normal light except for
the `<SAMP>dynamic</SAMP>' keyword. Note that lights usually don't have a name
but for a pseudo-dynamic light it is convenient to have one since you can
use that name to find the light later (which is essential if you want to
change the color/intensity).
</P><P>

To create a pseudo-dynamic light from within an application you can
use the following code:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>  csRef&#60;iLight&#62; light = engine-&#62;CreateLight ("DynLight",
  	csVector3 (23, 1, 5), 10, csColor (1, 0, 0), true);
  sector-&#62;GetLights ()-&#62;AddLight (light);
</pre></td></tr></table></P><P>

This will create exactly the same light as the one specified above.
</P><P>

At some point you may want to change the color of the light. You can
do this with the following code:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>  light-&#62;SetColor (csColor (0, 0, 1));
</pre></td></tr></table></P><P>

This will change the color of the light from red to blue.
</P><P>

<A NAME="SEC272"></A>
<H4> Include Files       </H4>
<!--docid::SEC272::-->
<P>

The include files useful for this section are:
</P><P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>  #include "iengine/light.h"
  #include "iengine/sector.h"
  #include "iengine/engine.h"
</pre></td></tr></table></P><P>

<A NAME="HOWTO Level Loading"></A>
<HR SIZE=1>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_118.html#SEC267"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_120.html#SEC273"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_102.html#SEC210"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_110.html#SEC226"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_135.html#SEC355"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="index.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_286.html#SEC955">Index</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="cs_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated using
<A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
