<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Crystal Space: csBlockAllocator&lt; T, BlockPolicy &gt; Class Template Reference (Crystal Space Public API Reference)</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<table border="0" cellpadding="0" cellspacing="0" width="100%" class="head">
 <tr height="59">
  <td class="head" width="202" valign="bottom" style="padding-left:0;"><a href="http://www.crystalspace3d.org/"><img src="csblur.png" width="236" height="59" alt="CrystalSpace" border="0"></a></td>
  <td class="head"><h2>Public API Reference</h2></td>
 </tr>
 <tr height="11">
  <td colspan="2" class="headshadow" valign="top" style="padding-left:0;"><img src="csblurb.png" width="236" height="11" alt="" border="0"></td>
 </tr>
</table>
<div class="content">
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>csBlockAllocator&lt; T, BlockPolicy &gt; Class Template Reference</h1><!-- doxytag: class="csBlockAllocator" -->This class implements a memory allocator which can efficiently allocate objects that all have the same size.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="blockallocator_8h-source.html">csutil/blockallocator.h</a>&gt;</code>
<p>
<a href="classcsBlockAllocator-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">T *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#6b404963c5c00743a500eb0c83d9026f">Alloc</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate a new object.  <a href="#6b404963c5c00743a500eb0c83d9026f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#11dca7958e2155b9c0d2169192a8b8ba">Compact</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compact the block allocator so that all blocks that are completely unused are removed.  <a href="#11dca7958e2155b9c0d2169192a8b8ba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#8c86865dc58af8b667f41abfbda3aa7e">csBlockAllocator</a> (size_t nelem=32, bool warn_unfreed=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct a new block allocator.  <a href="#8c86865dc58af8b667f41abfbda3aa7e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#ae22276c7490efee40cd72529c7a83b3">Empty</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy all objects allocated by the pool.  <a href="#ae22276c7490efee40cd72529c7a83b3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#767a90a24028d7fa2d0df86e479e3188">Free</a> (T *p)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deallocate an object.  <a href="#767a90a24028d7fa2d0df86e479e3188"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#a7447c2743c0eb4efd927b2996a0d99e">GetBlockElements</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Query number of elements per block.  <a href="#a7447c2743c0eb4efd927b2996a0d99e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#ab88a40feba2ae4a30b6727f2cd5416a">~csBlockAllocator</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy all allocated objects and release memory.  <a href="#ab88a40feba2ae4a30b6727f2cd5416a"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__util.html#g5f423e669d0a8f4ab7c4c3e6da27161a">uint8</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#da789ceefc98ec00c0287acf9d9f27d0">AllocBlock</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allocate a block and initialize its free-node chain.  <a href="#da789ceefc98ec00c0287acf9d9f27d0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#5c1615fc27fef42cc89734d19f116fe0">DestroyObject</a> (T *p, bool warn=false) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy an object, optionally warning if pedanticism is desired.  <a href="#5c1615fc27fef42cc89734d19f116fe0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#17466072bfd9f3033c4be59df2e52b87">DisposeAll</a> (bool warn_unfreed)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroys all living objects and releases all memory allocated by the pool.  <a href="#17466072bfd9f3033c4be59df2e52b87"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#35505a1b87f737498dc4c90bff364ee2">FindBlock</a> (void const *m) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the memory block which contains the given memory.  <a href="#35505a1b87f737498dc4c90bff364ee2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#6b14a36c2a927be9b1d67912819546ad">FreeBlock</a> (<a class="el" href="group__util.html#g5f423e669d0a8f4ab7c4c3e6da27161a">uint8</a> *p) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dispose of a block.  <a href="#6b14a36c2a927be9b1d67912819546ad"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classcsBitArray.html">csBitArray</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#34f801e30e4405f8ac5352bc12d7e27c">GetAllocationMap</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a usage mask showing all used (1's) and free (0's) nodes in the entire allocator.  <a href="#34f801e30e4405f8ac5352bc12d7e27c"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#39049781c818225cc262f554ee8e1e00">FuzzyCmp</a> (<a class="el" href="group__util.html#g5f423e669d0a8f4ab7c4c3e6da27161a">uint8</a> *const &amp;block, <a class="el" href="structcsBlockAllocator_1_1BlockKey.html">BlockKey</a> const &amp;k)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Comparison function for <a class="el" href="classcsBlockAllocator.html#35505a1b87f737498dc4c90bff364ee2">FindBlock()</a> which does a "fuzzy" search given an arbitrary address.  <a href="#39049781c818225cc262f554ee8e1e00"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e734964953f880e5164e32827950ff92"></a><!-- doxytag: member="csBlockAllocator::blocks" ref="e734964953f880e5164e32827950ff92" args="" -->
<a class="el" href="classcsArray.html">csArray</a>&lt; <a class="el" href="group__util.html#g5f423e669d0a8f4ab7c4c3e6da27161a">uint8</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#e734964953f880e5164e32827950ff92">blocks</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bcb398a5b9906c7313bb069518ecd7c1"></a><!-- doxytag: member="csBlockAllocator::blocksize" ref="bcb398a5b9906c7313bb069518ecd7c1" args="" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#bcb398a5b9906c7313bb069518ecd7c1">blocksize</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="680c259dc9d33624767a63d870f9f5e6"></a><!-- doxytag: member="csBlockAllocator::elsize" ref="680c259dc9d33624767a63d870f9f5e6" args="" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#680c259dc9d33624767a63d870f9f5e6">elsize</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="83c2a2922a7e08d4cfa1166b04aa6dab"></a><!-- doxytag: member="csBlockAllocator::freenode" ref="83c2a2922a7e08d4cfa1166b04aa6dab" args="" -->
<a class="el" href="structcsBlockAllocator_1_1FreeNode.html">FreeNode</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#83c2a2922a7e08d4cfa1166b04aa6dab">freenode</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b695b86c8620b07d1539db0e7a8e8281"></a><!-- doxytag: member="csBlockAllocator::insideDisposeAll" ref="b695b86c8620b07d1539db0e7a8e8281" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#b695b86c8620b07d1539db0e7a8e8281">insideDisposeAll</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f9bb4ba7b51a864dd74c7525df901889"></a><!-- doxytag: member="csBlockAllocator::pedantic" ref="f9bb4ba7b51a864dd74c7525df901889" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#f9bb4ba7b51a864dd74c7525df901889">pedantic</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f7bd60b75b29d79b660a2859395c1a24"></a><!-- doxytag: member="csBlockAllocator::size" ref="f7bd60b75b29d79b660a2859395c1a24" args="" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcsBlockAllocator.html#f7bd60b75b29d79b660a2859395c1a24">size</a></td></tr>

<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcsBlockAllocator_1_1BlockKey.html">BlockKey</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcsBlockAllocator_1_1FreeNode.html">FreeNode</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class T, class BlockPolicy = csBlockAllocatorNormalBlockPolicy&gt;<br>
 class csBlockAllocator&lt; T, BlockPolicy &gt;</h3>

This class implements a memory allocator which can efficiently allocate objects that all have the same size. 
<p>
It has no memory overhead per allocation (unless the objects are smaller than sizeof(void*) bytes) and is extremely fast, both for <a class="el" href="classcsBlockAllocator.html#6b404963c5c00743a500eb0c83d9026f">Alloc()</a> and <a class="el" href="classcsBlockAllocator.html#767a90a24028d7fa2d0df86e479e3188">Free()</a>. The only restriction is that any specific allocator can be used for just one type of object (the type for which the template is instantiated). <dl compact><dt><b>Remarks:</b></dt><dd>The objects are properly constructed and destructed. <p>
Assumes that the class <code>T</code> with which the template is instantiated has a default (zero-argument) constructor. <a class="el" href="classcsBlockAllocator.html#6b404963c5c00743a500eb0c83d9026f">Alloc()</a> uses this constructor to initialize each vended object. <p>
Defining the macro CS_BLOCKALLOC_DEBUG will cause freed objects to be overwritten with '0xfb' bytes. This can be useful to track use of already freed objects, as they can be more easily recognized (as some members will be likely bogus.) </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classcsArray.html">csArray</a> <p>
<a class="el" href="classcsMemoryPool.html">csMemoryPool</a> </dd></dl>

<p>

<p>
Definition at line <a class="el" href="blockallocator_8h-source.html#l00154">154</a> of file <a class="el" href="blockallocator_8h-source.html">blockallocator.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="8c86865dc58af8b667f41abfbda3aa7e"></a><!-- doxytag: member="csBlockAllocator::csBlockAllocator" ref="8c86865dc58af8b667f41abfbda3aa7e" args="(size_t nelem=32, bool warn_unfreed=false)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;class T, class BlockPolicy = csBlockAllocatorNormalBlockPolicy&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classcsBlockAllocator.html">csBlockAllocator</a>&lt; T, BlockPolicy &gt;::<a class="el" href="classcsBlockAllocator.html">csBlockAllocator</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>nelem</em> = <code>32</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>warn_unfreed</em> = <code>false</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Construct a new block allocator. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nelem</em>&nbsp;</td><td>Number of elements to store in each allocation unit. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>warn_unfreed</em>&nbsp;</td><td>If true, in debug mode warn about objects not explicitly released via <a class="el" href="classcsBlockAllocator.html#767a90a24028d7fa2d0df86e479e3188">Free()</a>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Remarks:</b></dt><dd>Bigger values for <code>nelem</code> will improve allocation performance, but at the cost of having some potential waste if you do not add <code>nelem</code> elements to each pool. For instance, if <code>nelem</code> is 50 but you only add 3 elements to the pool, then the space for the remaining 47 elements, though allocated, will remain unused (until you add more elements). <p>
If use use csBlockAllocator as a convenient and lightweight garbage collection facility (for which it is well-suited), and expect it to dispose of allocated objects when the pool itself is destroyed, then set <code>warn_unfreed</code> to false. On the other hand, if you use csBlockAllocator only as a fast allocator but intend to manage each object's life time manually, then you may want to set <code>warn_unfreed</code> to true in order to receive diagnostics about objects which you have forgotten to release explicitly via manual invocation of <a class="el" href="classcsBlockAllocator.html#767a90a24028d7fa2d0df86e479e3188">Free()</a>. </dd></dl>

<p>
Definition at line <a class="el" href="blockallocator_8h-source.html#l00311">311</a> of file <a class="el" href="blockallocator_8h-source.html">blockallocator.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ab88a40feba2ae4a30b6727f2cd5416a"></a><!-- doxytag: member="csBlockAllocator::~csBlockAllocator" ref="ab88a40feba2ae4a30b6727f2cd5416a" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;class T, class BlockPolicy = csBlockAllocatorNormalBlockPolicy&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classcsBlockAllocator.html">csBlockAllocator</a>&lt; T, BlockPolicy &gt;::~<a class="el" href="classcsBlockAllocator.html">csBlockAllocator</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destroy all allocated objects and release memory. 
<p>

<p>
Definition at line <a class="el" href="blockallocator_8h-source.html#l00323">323</a> of file <a class="el" href="blockallocator_8h-source.html">blockallocator.h</a>.    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="6b404963c5c00743a500eb0c83d9026f"></a><!-- doxytag: member="csBlockAllocator::Alloc" ref="6b404963c5c00743a500eb0c83d9026f" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;class T, class BlockPolicy = csBlockAllocatorNormalBlockPolicy&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">T* <a class="el" href="classcsBlockAllocator.html">csBlockAllocator</a>&lt; T, BlockPolicy &gt;::Alloc           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Allocate a new object. 
<p>
Its default (no-argument) constructor is invoked. 
<p>
Definition at line <a class="el" href="blockallocator_8h-source.html#l00386">386</a> of file <a class="el" href="blockallocator_8h-source.html">blockallocator.h</a>.
<p>
Referenced by <a class="el" href="shadervarblockalloc_8h-source.html#l00061">csShaderVarBlockAlloc::Alloc()</a>, and <a class="el" href="redblacktree_8h-source.html#l00076">csRedBlackTree&lt; csRedBlackTreePayload&lt; K, T &gt; &gt;::RecursiveInsert()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="da789ceefc98ec00c0287acf9d9f27d0"></a><!-- doxytag: member="csBlockAllocator::AllocBlock" ref="da789ceefc98ec00c0287acf9d9f27d0" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;class T, class BlockPolicy = csBlockAllocatorNormalBlockPolicy&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__util.html#g5f423e669d0a8f4ab7c4c3e6da27161a">uint8</a>* <a class="el" href="classcsBlockAllocator.html">csBlockAllocator</a>&lt; T, BlockPolicy &gt;::AllocBlock           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline, protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Allocate a block and initialize its free-node chain. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>The returned address is both the reference to the overall block, and the address of the first free node in the chain. </dd></dl>

<p>
Definition at line <a class="el" href="blockallocator_8h-source.html#l00206">206</a> of file <a class="el" href="blockallocator_8h-source.html">blockallocator.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="11dca7958e2155b9c0d2169192a8b8ba"></a><!-- doxytag: member="csBlockAllocator::Compact" ref="11dca7958e2155b9c0d2169192a8b8ba" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;class T, class BlockPolicy = csBlockAllocatorNormalBlockPolicy&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">void <a class="el" href="classcsBlockAllocator.html">csBlockAllocator</a>&lt; T, BlockPolicy &gt;::Compact           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Compact the block allocator so that all blocks that are completely unused are removed. 
<p>
The blocks that still contain elements are not touched. 
<p>
Definition at line <a class="el" href="blockallocator_8h-source.html#l00342">342</a> of file <a class="el" href="blockallocator_8h-source.html">blockallocator.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="5c1615fc27fef42cc89734d19f116fe0"></a><!-- doxytag: member="csBlockAllocator::DestroyObject" ref="5c1615fc27fef42cc89734d19f116fe0" args="(T *p, bool warn=false) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;class T, class BlockPolicy = csBlockAllocatorNormalBlockPolicy&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">void <a class="el" href="classcsBlockAllocator.html">csBlockAllocator</a>&lt; T, BlockPolicy &gt;::DestroyObject           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">T *&nbsp;</td>
          <td class="mdname" nowrap> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>warn</em> = <code>false</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const<code> [inline, protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destroy an object, optionally warning if pedanticism is desired. 
<p>

<p>
Definition at line <a class="el" href="blockallocator_8h-source.html#l00234">234</a> of file <a class="el" href="blockallocator_8h-source.html">blockallocator.h</a>.
<p>
Referenced by <a class="el" href="blockallocator_8h-source.html#l00272">csBlockAllocator&lt; csBSPTree &gt;::DisposeAll()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="17466072bfd9f3033c4be59df2e52b87"></a><!-- doxytag: member="csBlockAllocator::DisposeAll" ref="17466072bfd9f3033c4be59df2e52b87" args="(bool warn_unfreed)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;class T, class BlockPolicy = csBlockAllocatorNormalBlockPolicy&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">void <a class="el" href="classcsBlockAllocator.html">csBlockAllocator</a>&lt; T, BlockPolicy &gt;::DisposeAll           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">bool&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>warn_unfreed</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destroys all living objects and releases all memory allocated by the pool. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>warn_unfreed</em>&nbsp;</td><td>If true, in debug mode warn about objects not explicitly released via <a class="el" href="classcsBlockAllocator.html#767a90a24028d7fa2d0df86e479e3188">Free()</a>. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="blockallocator_8h-source.html#l00272">272</a> of file <a class="el" href="blockallocator_8h-source.html">blockallocator.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ae22276c7490efee40cd72529c7a83b3"></a><!-- doxytag: member="csBlockAllocator::Empty" ref="ae22276c7490efee40cd72529c7a83b3" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;class T, class BlockPolicy = csBlockAllocatorNormalBlockPolicy&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">void <a class="el" href="classcsBlockAllocator.html">csBlockAllocator</a>&lt; T, BlockPolicy &gt;::Empty           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destroy all objects allocated by the pool. 
<p>
<dl compact><dt><b>Remarks:</b></dt><dd>All pointers returned by <a class="el" href="classcsBlockAllocator.html#6b404963c5c00743a500eb0c83d9026f">Alloc()</a> are invalidated. It is safe to perform new allocations from the pool after invoking <a class="el" href="classcsBlockAllocator.html#ae22276c7490efee40cd72529c7a83b3">Empty()</a>. </dd></dl>

<p>
Definition at line <a class="el" href="blockallocator_8h-source.html#l00333">333</a> of file <a class="el" href="blockallocator_8h-source.html">blockallocator.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="35505a1b87f737498dc4c90bff364ee2"></a><!-- doxytag: member="csBlockAllocator::FindBlock" ref="35505a1b87f737498dc4c90bff364ee2" args="(void const *m) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;class T, class BlockPolicy = csBlockAllocatorNormalBlockPolicy&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">size_t <a class="el" href="classcsBlockAllocator.html">csBlockAllocator</a>&lt; T, BlockPolicy &gt;::FindBlock           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void const *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>m</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline, protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Find the memory block which contains the given memory. 
<p>

<p>
Definition at line <a class="el" href="blockallocator_8h-source.html#l00195">195</a> of file <a class="el" href="blockallocator_8h-source.html">blockallocator.h</a>.
<p>
Referenced by <a class="el" href="blockallocator_8h-source.html#l00253">csBlockAllocator&lt; csBSPTree &gt;::GetAllocationMap()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="767a90a24028d7fa2d0df86e479e3188"></a><!-- doxytag: member="csBlockAllocator::Free" ref="767a90a24028d7fa2d0df86e479e3188" args="(T *p)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;class T, class BlockPolicy = csBlockAllocatorNormalBlockPolicy&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">void <a class="el" href="classcsBlockAllocator.html">csBlockAllocator</a>&lt; T, BlockPolicy &gt;::Free           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">T *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>p</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Deallocate an object. 
<p>
It is safe to provide a null pointer. 
<p>
Definition at line <a class="el" href="blockallocator_8h-source.html#l00408">408</a> of file <a class="el" href="blockallocator_8h-source.html">blockallocator.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="6b14a36c2a927be9b1d67912819546ad"></a><!-- doxytag: member="csBlockAllocator::FreeBlock" ref="6b14a36c2a927be9b1d67912819546ad" args="(uint8 *p) const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;class T, class BlockPolicy = csBlockAllocatorNormalBlockPolicy&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">void <a class="el" href="classcsBlockAllocator.html">csBlockAllocator</a>&lt; T, BlockPolicy &gt;::FreeBlock           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__util.html#g5f423e669d0a8f4ab7c4c3e6da27161a">uint8</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>p</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline, protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Dispose of a block. 
<p>

<p>
Definition at line <a class="el" href="blockallocator_8h-source.html#l00226">226</a> of file <a class="el" href="blockallocator_8h-source.html">blockallocator.h</a>.
<p>
Referenced by <a class="el" href="blockallocator_8h-source.html#l00272">csBlockAllocator&lt; csBSPTree &gt;::DisposeAll()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="39049781c818225cc262f554ee8e1e00"></a><!-- doxytag: member="csBlockAllocator::FuzzyCmp" ref="39049781c818225cc262f554ee8e1e00" args="(uint8 *const &amp;block, BlockKey const &amp;k)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;class T, class BlockPolicy = csBlockAllocatorNormalBlockPolicy&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">static int <a class="el" href="classcsBlockAllocator.html">csBlockAllocator</a>&lt; T, BlockPolicy &gt;::FuzzyCmp           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="group__util.html#g5f423e669d0a8f4ab7c4c3e6da27161a">uint8</a> *const &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>block</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="structcsBlockAllocator_1_1BlockKey.html">BlockKey</a> const &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>k</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [inline, static, protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Comparison function for <a class="el" href="classcsBlockAllocator.html#35505a1b87f737498dc4c90bff364ee2">FindBlock()</a> which does a "fuzzy" search given an arbitrary address. 
<p>
It checks if the address falls somewhere within a block rather than checking if the address exactly matches the start of the block (which is the only information recorded in blocks[] array). 
<p>
Definition at line <a class="el" href="blockallocator_8h-source.html#l00187">187</a> of file <a class="el" href="blockallocator_8h-source.html">blockallocator.h</a>.
<p>
Referenced by <a class="el" href="blockallocator_8h-source.html#l00195">csBlockAllocator&lt; csBSPTree &gt;::FindBlock()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="34f801e30e4405f8ac5352bc12d7e27c"></a><!-- doxytag: member="csBlockAllocator::GetAllocationMap" ref="34f801e30e4405f8ac5352bc12d7e27c" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;class T, class BlockPolicy = csBlockAllocatorNormalBlockPolicy&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="classcsBitArray.html">csBitArray</a> <a class="el" href="classcsBlockAllocator.html">csBlockAllocator</a>&lt; T, BlockPolicy &gt;::GetAllocationMap           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline, protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get a usage mask showing all used (1's) and free (0's) nodes in the entire allocator. 
<p>

<p>
Definition at line <a class="el" href="blockallocator_8h-source.html#l00253">253</a> of file <a class="el" href="blockallocator_8h-source.html">blockallocator.h</a>.
<p>
Referenced by <a class="el" href="blockallocator_8h-source.html#l00272">csBlockAllocator&lt; csBSPTree &gt;::DisposeAll()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7447c2743c0eb4efd927b2996a0d99e"></a><!-- doxytag: member="csBlockAllocator::GetBlockElements" ref="a7447c2743c0eb4efd927b2996a0d99e" args="() const " --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="mdPrefix" colspan="4">
template&lt;class T, class BlockPolicy = csBlockAllocatorNormalBlockPolicy&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top">size_t <a class="el" href="classcsBlockAllocator.html">csBlockAllocator</a>&lt; T, BlockPolicy &gt;::GetBlockElements           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Query number of elements per block. 
<p>

<p>
Definition at line <a class="el" href="blockallocator_8h-source.html#l00420">420</a> of file <a class="el" href="blockallocator_8h-source.html">blockallocator.h</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li>csutil/<a class="el" href="blockallocator_8h-source.html">blockallocator.h</a></ul>
<hr size="1"><address><small>Generated for Crystal Space by 
<a href="http://www.doxygen.org/index.html">doxygen</a> 1.4.5 
</small></address> </div></body> </html>
