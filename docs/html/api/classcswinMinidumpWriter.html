<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Crystal Space: cswinMinidumpWriter Class Reference (Crystal Space Public API Reference)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<table border="0" cellpadding="0" cellspacing="0" width="100%" class="head">
 <tr heigth="59">
  <td class="head" width="202" valign="bottom" style="padding-left:0;"><a href="http://www.crystalspace3d.org/"><img src="csblur.png" width="236" height="59" alt="CrystalSpace" border="0"></a></td>
  <td class="head"><h2>Public API Reference</h2></td>
 </tr>
 <tr heigth="11">
  <td colspan="2" class="headshadow" valign="top" style="padding-left:0;"><img src="csblurb.png" width="236" height="11" alt="" border="0"></td>
 </tr>
</table>
<div class="content">
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>cswinMinidumpWriter Class Reference</h1>Helper to write minidumps on Win32.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="minidump_8h-source.html">csutil/win32/minidump.h</a>&gt;</code>
<p>
<a href="classcswinMinidumpWriter-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcswinMinidumpWriter.html#w0">FnCrashMinidumpHandler</a> )(const char *dumpFile)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Callback that can be provided by the application to further deal with the crash dump file.  <a href="#w0"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcswinMinidumpWriter.html#e0">WriteMinidump</a> (PMINIDUMP_EXCEPTION_INFORMATION except=0, bool dumpHeap=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a dump of the current state of the process.  <a href="#e0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcswinMinidumpWriter.html#e1">WriteWrappedMinidump</a> (<a class="el" href="structiObjectRegistry.html">iObjectRegistry</a> *object_reg=0, PMINIDUMP_EXCEPTION_INFORMATION except=0, bool dumpHeap=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a mini dump that is wrapped inside a zip and also contains a textual stack trace and the reporter log file.  <a href="#e1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcswinMinidumpWriter.html#e2">EnableCrashMinidumps</a> (<a class="el" href="classcswinMinidumpWriter.html#w0">FnCrashMinidumpHandler</a> handler=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable the built-in crash handler.  <a href="#e2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcswinMinidumpWriter.html#e3">SetCrashMinidumpObjectReg</a> (<a class="el" href="structiObjectRegistry.html">iObjectRegistry</a> *object_reg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the object registry used by the built-in crash handler.  <a href="#e3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcswinMinidumpWriter.html#e4">DisableCrashMinidumps</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable the built-in crash handler.  <a href="#e4"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Helper to write minidumps on Win32. 
<p>
<dl compact><dt><b>Remarks:</b></dt><dd>This class provides functionality specific to the Win32 platform. To ensure that code using this functionality compiles properly on all other platforms, the use of the class and inclusion of the header file should be surrounded by appropriate `#if defined(CS_PLATFORM_WIN32) ... #endif' statements. </dd></dl>

<p>

<p>
Definition at line <a class="el" href="minidump_8h-source.html#l00038">38</a> of file <a class="el" href="minidump_8h-source.html">minidump.h</a>.<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="w0" doxytag="cswinMinidumpWriter::FnCrashMinidumpHandler"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef void(* <a class="el" href="classcswinMinidumpWriter.html#w0">cswinMinidumpWriter::FnCrashMinidumpHandler</a>)(const char *dumpFile)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Callback that can be provided by the application to further deal with the crash dump file. 
<p>

<p>
Definition at line <a class="el" href="minidump_8h-source.html#l00045">45</a> of file <a class="el" href="minidump_8h-source.html">minidump.h</a>.    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e4" doxytag="cswinMinidumpWriter::DisableCrashMinidumps"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void cswinMinidumpWriter::DisableCrashMinidumps           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Disable the built-in crash handler. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="e2" doxytag="cswinMinidumpWriter::EnableCrashMinidumps"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void cswinMinidumpWriter::EnableCrashMinidumps           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classcswinMinidumpWriter.html#w0">FnCrashMinidumpHandler</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>handler</em> = <code>0</code>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enable the built-in crash handler. 
<p>
Sets up an exception handler that creates a dump using <a class="el" href="classcswinMinidumpWriter.html#e1">WriteWrappedMinidump()</a>. In case a custom <em>handler</em> is provided, it is called. Otherwise, a message box containing the dump file is displayed.     </td>
  </tr>
</table>
<a class="anchor" name="e3" doxytag="cswinMinidumpWriter::SetCrashMinidumpObjectReg"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void cswinMinidumpWriter::SetCrashMinidumpObjectReg           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structiObjectRegistry.html">iObjectRegistry</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>object_reg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set the object registry used by the built-in crash handler. 
<p>
It is needed to collect some extra information, notable the reporter log. <dl compact><dt><b>Remarks:</b></dt><dd>Not setting this value will not result in failure later. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e0" doxytag="cswinMinidumpWriter::WriteMinidump"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char* cswinMinidumpWriter::WriteMinidump           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">PMINIDUMP_EXCEPTION_INFORMATION&nbsp;</td>
          <td class="mdname" nowrap> <em>except</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>dumpHeap</em> = <code>false</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write a dump of the current state of the process. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>The filename where the dump was written to. Is created in a location for temp files. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e1" doxytag="cswinMinidumpWriter::WriteWrappedMinidump"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char* cswinMinidumpWriter::WriteWrappedMinidump           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structiObjectRegistry.html">iObjectRegistry</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>object_reg</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>PMINIDUMP_EXCEPTION_INFORMATION&nbsp;</td>
          <td class="mdname" nowrap> <em>except</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>bool&nbsp;</td>
          <td class="mdname" nowrap> <em>dumpHeap</em> = <code>false</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write a mini dump that is wrapped inside a zip and also contains a textual stack trace and the reporter log file. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>The filename where the zip was written to. Is created in a location for temp files. </dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li>csutil/win32/<a class="el" href="minidump_8h-source.html">minidump.h</a></ul>
<hr size="1"><address><small>Generated for Crystal Space by 
<a href="http://www.doxygen.org/index.html">doxygen</a> 1.3.9.1 
</small></address> </div></body> </html>
