<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>iFoliageFactoryState struct Reference (Crystal Space Public API Reference)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<table border="0" cellpadding="0" cellspacing="0" width="100%" class="head">
 <tr heigth="59">
  <td class="head" width="202" valign="bottom" style="padding-left:0;"><a href="http://crystal.sourceforge.net/"><img src="csblur.png" width="236" height="59" alt="CrystalSpace" border="0"></a></td>
  <td class="head"><h2>Public API Reference</h2></td>
 </tr>
 <tr heigth="11">
  <td colspan="2" class="headshadow" valign="top" style="padding-left:0;"><img src="csblurb.png" width="236" height="11" alt="" border="0"></td>
 </tr>
</table>
<div class="content">
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>iFoliageFactoryState Struct Reference</h1>The foliage mesh can be used to make foliage (plants, boulders, ...) that fits nicely with a terrain. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="foliage_8h-source.html">foliage.h</a>&gt;</code>
<p>
<p>Inheritance diagram for iFoliageFactoryState:
<p><center><img src="structiFoliageFactoryState.png" usemap="#iFoliageFactoryState_map" border="0" alt=""></center>
<map name="iFoliageFactoryState_map">
<area href="structiBase.html" alt="iBase" shape="rect" coords="0,0,129,24">
</map>
<a href="structiFoliageFactoryState-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>virtual <a class="el" href="classcsPtr.html">csPtr</a>&lt; <a class="el" href="structiFoliageObject.html">iFoliageObject</a> &gt;&nbsp;</td><td valign=bottom><a class="el" href="structiFoliageFactoryState.html#a0">CreateObject</a> (const char *name)=0</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Create a new foliage object.</em> <a href="#a0"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual <a class="el" href="structiFoliageObject.html">iFoliageObject</a> *&nbsp;</td><td valign=bottom><a class="el" href="structiFoliageFactoryState.html#a1">FindObject</a> (const char *name) const=0</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Find a foliage object by name.</em> <a href="#a1"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual const <a class="el" href="classcsRefArray.html">csRefArray</a>&lt;<br>
 <a class="el" href="structiFoliageObject.html">iFoliageObject</a> &gt; &amp;&nbsp;</td><td valign=bottom><a class="el" href="structiFoliageFactoryState.html#a2">GetObjects</a> () const=0</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Return all foliage objects.</em> <a href="#a2"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="structiFoliageFactoryState.html#a3">AddPaletteEntry</a> (size_t typeidx, const char *objectname, float relative_density)=0</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Add a foliage object name to a palette index.</em> <a href="#a3"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="structiFoliageFactoryState.html#a4">ClearPaletteType</a> (size_t typeidx)=0</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Clear a given palette type.</em> <a href="#a4"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual size_t&nbsp;</td><td valign=bottom><a class="el" href="structiFoliageFactoryState.html#a5">GetPaletteTypeCount</a> () const=0</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get the total number of palette types.</em> <a href="#a5"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual size_t&nbsp;</td><td valign=bottom><a class="el" href="structiFoliageFactoryState.html#a6">GetPaletteEntryCount</a> (size_t typeidx) const=0</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>For a given palette type, return the number of objects in this palette.</em> <a href="#a6"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual const char *&nbsp;</td><td valign=bottom><a class="el" href="structiFoliageFactoryState.html#a7">GetPaletteEntry</a> (size_t typeidx, size_t entryidx, float &amp;relative_density)=0</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>For a given palette type and entry index, return the object name and density.</em> <a href="#a7"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="structiFoliageFactoryState.html#a8">SetTerraFormer</a> (<a class="el" href="structiTerraFormer.html">iTerraFormer</a> *form)=0</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>The terraformer defines various properties for this foliage mesh.</em> <a href="#a8"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual <a class="el" href="structiTerraFormer.html">iTerraFormer</a> *&nbsp;</td><td valign=bottom><a class="el" href="structiFoliageFactoryState.html#a9">GetTerraFormer</a> ()=0</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get the terraformer.</em> <a href="#a9"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="structiFoliageFactoryState.html#a10">SetSamplerRegion</a> (const <a class="el" href="classcsBox2.html">csBox2</a> &amp;region)=0</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>This specifies the max region the foliage mesh will sample from (from the terraformer).</em> <a href="#a10"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>virtual const <a class="el" href="classcsBox2.html">csBox2</a> &amp;&nbsp;</td><td valign=bottom><a class="el" href="structiFoliageFactoryState.html#a11">GetSamplerRegion</a> () const=0</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get the sampler region.</em> <a href="#a11"></a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The foliage mesh can be used to make foliage (plants, boulders, ...) that fits nicely with a terrain.
<p>
The general API for the foliage factory. Here you define the actual geometry which is shared between all foliage mesh instances. 
<p>
 Main creators of instances implementing this interface: <ul>
<li>Foliage mesh object plugin (crystalspace.mesh.object.foliage) <li><a class="el" href="structiMeshObjectType.html#a0">iMeshObjectType::NewFactory()</a> </ul>
Main ways to get pointers to this interface: <ul>
<li><a class="el" href="group__scf.html#a67">SCF_QUERY_INTERFACE()</a> on <a class="el" href="structiMeshFactoryWrapper.html#a1">iMeshFactoryWrapper::GetMeshObjectFactory()</a> </ul>
Main users of this interface: <ul>
<li>Foliage Factory Loader plugin (crystalspace.mesh.loader.factory.foliage) </ul>

<p>

<p>
Definition at line <a class="el" href="foliage_8h-source.html#l00159">159</a> of file <a class="el" href="foliage_8h-source.html">foliage.h</a>.<hr><h2>Member Function Documentation</h2>
<a name="a3" doxytag="iFoliageFactoryState::AddPaletteEntry"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual void iFoliageFactoryState::AddPaletteEntry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">size_t&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>typeidx</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>objectname</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>float&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>relative_density</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [pure virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Add a foliage object name to a palette index.
<p>
Palette indices are selected by the 'foliage_types' map (see <a class="el" href="structiFoliageFactoryState.html#a8">SetTerraFormer()</a>). Every foliage palette can contain zero or more object names. When a certain block in the landscape uses a specific palette index then the density given in the density map is multiplied with the normalized densities for the objects in that specific foliage palette and this will give the distribution of objects at that spot. <dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>typeidx</em>&nbsp;</td><td>
is the palette index (or type index) as it corresponds  with the values from the 'foliage_types' map. </td></tr>
<tr><td valign=top><em>objectname</em>&nbsp;</td><td>
is the name of the object to use in this type. </td></tr>
<tr><td valign=top><em>relative_density</em>&nbsp;</td><td>
is the relative density. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a4" doxytag="iFoliageFactoryState::ClearPaletteType"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual void iFoliageFactoryState::ClearPaletteType </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">size_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>typeidx</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Clear a given palette type.
<p>
    </td>
  </tr>
</table>
<a name="a0" doxytag="iFoliageFactoryState::CreateObject"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual <a class="el" href="classcsPtr.html">csPtr</a>&lt;<a class="el" href="structiFoliageObject.html">iFoliageObject</a>&gt; iFoliageFactoryState::CreateObject </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>name</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new foliage object.
<p>
    </td>
  </tr>
</table>
<a name="a1" doxytag="iFoliageFactoryState::FindObject"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual <a class="el" href="structiFoliageObject.html">iFoliageObject</a>* iFoliageFactoryState::FindObject </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>name</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const<code> [pure virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Find a foliage object by name.
<p>
    </td>
  </tr>
</table>
<a name="a2" doxytag="iFoliageFactoryState::GetObjects"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual const <a class="el" href="classcsRefArray.html">csRefArray</a>&lt;<a class="el" href="structiFoliageObject.html">iFoliageObject</a>&gt;&amp; iFoliageFactoryState::GetObjects </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return all foliage objects.
<p>
    </td>
  </tr>
</table>
<a name="a7" doxytag="iFoliageFactoryState::GetPaletteEntry"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual const char* iFoliageFactoryState::GetPaletteEntry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">size_t&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>typeidx</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>entryidx</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>float &amp;&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>relative_density</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [pure virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For a given palette type and entry index, return the object name and density.
<p>
    </td>
  </tr>
</table>
<a name="a6" doxytag="iFoliageFactoryState::GetPaletteEntryCount"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual size_t iFoliageFactoryState::GetPaletteEntryCount </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">size_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>typeidx</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap> const<code> [pure virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For a given palette type, return the number of objects in this palette.
<p>
    </td>
  </tr>
</table>
<a name="a5" doxytag="iFoliageFactoryState::GetPaletteTypeCount"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual size_t iFoliageFactoryState::GetPaletteTypeCount </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the total number of palette types.
<p>
    </td>
  </tr>
</table>
<a name="a11" doxytag="iFoliageFactoryState::GetSamplerRegion"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual const <a class="el" href="classcsBox2.html">csBox2</a>&amp; iFoliageFactoryState::GetSamplerRegion </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the sampler region.
<p>
    </td>
  </tr>
</table>
<a name="a9" doxytag="iFoliageFactoryState::GetTerraFormer"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual <a class="el" href="structiTerraFormer.html">iTerraFormer</a>* iFoliageFactoryState::GetTerraFormer </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the terraformer.
<p>
    </td>
  </tr>
</table>
<a name="a10" doxytag="iFoliageFactoryState::SetSamplerRegion"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual void iFoliageFactoryState::SetSamplerRegion </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="el" href="classcsBox2.html">csBox2</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>region</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This specifies the max region the foliage mesh will sample from (from the terraformer).
<p>
    </td>
  </tr>
</table>
<a name="a8" doxytag="iFoliageFactoryState::SetTerraFormer"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual void iFoliageFactoryState::SetTerraFormer </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="structiTerraFormer.html">iTerraFormer</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>form</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap><code> [pure virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The terraformer defines various properties for this foliage mesh.
<p>
The terraformer needs to support the following properties: <ul>
<li>'heights': this basically comes directly from the heightmap and is returned as an array of floats. The normal simpleformer (as is used by the landscape engine) supports this automatically. <li>'vertices': this basically comes directly from the heightmap and is returned as an array of <a class="el" href="classcsVector3.html">csVector3</a>'s. The normal simpleformer (as is used by the landscape engine) supports this automatically. <li>'foliage_density': this is another float map which represents the density of foliage at that point. The number represents the number of foliage objects in one 1x1 unit. So using a uniform density of 1 will place one object in every 1x1 square. This map must have same resolution as the heightmap. <li>'foliage_types': this is an int map which indicates the types of foliage to use for every block in the heightmap. These numbers correspond with the foliage palette numbers. If this map contains palette indices that are not defined then no foliage will be generated on that spot. This map must have same resolution as the heightmap. </ul>
    </td>
  </tr>
</table>
<hr>The documentation for this struct was generated from the following file:<ul>
<li>imesh/<a class="el" href="foliage_8h-source.html">foliage.h</a></ul>
<hr><address><small>Generated for Crystal Space by 
<a href="http://www.doxygen.org/index.html">doxygen</a> 1.2.18 
</small></address> </div></body> </html>
