<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>csutil/syspath.h Source File (Crystal Space Public API Reference)</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<table border="0" cellpadding="0" cellspacing="0" width="100%" class="head">
 <tr heigth="59">
  <td class="head" width="202" valign="bottom" style="padding-left:0;"><a href="http://crystal.sourceforge.net/"><img src="csblur.png" width="236" height="59" alt="CrystalSpace" border="0"></a></td>
  <td class="head"><h2>Public API Reference</h2></td>
 </tr>
 <tr heigth="11">
  <td colspan="2" class="headshadow" valign="top" style="padding-left:0;"><img src="csblurb.png" width="236" height="11" alt="" border="0"></td>
 </tr>
</table>
<div class="content">
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="modules.html">Modules</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>csutil/syspath.h</h1><a href="syspath_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/*</span>
00002 <span class="comment">    Copyright (C) 2003 by Frank Richter</span>
00003 <span class="comment"></span>
00004 <span class="comment">    This library is free software; you can redistribute it and/or</span>
00005 <span class="comment">    modify it under the terms of the GNU Library General Public</span>
00006 <span class="comment">    License as published by the Free Software Foundation; either</span>
00007 <span class="comment">    version 2 of the License, or (at your option) any later version.</span>
00008 <span class="comment"></span>
00009 <span class="comment">    This library is distributed in the hope that it will be useful,</span>
00010 <span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00011 <span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
00012 <span class="comment">    Library General Public License for more details.</span>
00013 <span class="comment"></span>
00014 <span class="comment">    You should have received a copy of the GNU Library General Public</span>
00015 <span class="comment">    License along with this library; if not, write to the Free</span>
00016 <span class="comment">    Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span>
00017 <span class="comment">*/</span>
00018 
00019 <span class="preprocessor">#ifndef __CS_CSSYS_SYSPATH_H__</span>
00020 <span class="preprocessor"></span><span class="preprocessor">#define __CS_CSSYS_SYSPATH_H__</span>
00021 <span class="preprocessor"></span>
00022 <span class="preprocessor">#include "csextern.h"</span>
00023 <span class="preprocessor">#include "array.h"</span>
00024 <span class="preprocessor">#include "<a class="code" href="csstring_8h.html">csstring.h</a>"</span>
00025 <span class="preprocessor">#include "ref.h"</span>
00026 <span class="preprocessor">#include "<a class="code" href="util_8h.html">util.h</a>"</span>
00027 <span class="preprocessor">#include "<a class="code" href="iutil_2stringarray_8h.html">iutil/stringarray.h</a>"</span>
00028 
00039 <span class="keyword">class </span><a class="code" href="classcsPluginPaths.html">csPluginPaths</a>;
00040 
00046 CS_CSUTIL_EXPORT <a class="code" href="classcsRef.html">csRef&lt;iStringArray&gt;</a> <a class="code" href="group__util.html#a63">csFindSystemRoots</a>();
00047 
00056 CS_CSUTIL_EXPORT <a class="code" href="classcsString.html">csString</a> <a class="code" href="group__util.html#a64">csGetConfigPath</a> ();
00057 
00062 CS_CSUTIL_EXPORT <a class="code" href="classcsPluginPaths.html">csPluginPaths</a>* <a class="code" href="group__util.html#a65">csGetPluginPaths</a> (<span class="keyword">const</span> <span class="keywordtype">char</span>* argv0);
00063 
00070 CS_CSUTIL_EXPORT <span class="keywordtype">char</span>* <a class="code" href="group__util.html#a66">csExpandPath</a> (<span class="keyword">const</span> <span class="keywordtype">char</span>* path);
00071 
00084 CS_CSUTIL_EXPORT <a class="code" href="classcsString.html">csString</a> <a class="code" href="group__util.html#a67">csGetAppPath</a> (<span class="keyword">const</span> <span class="keywordtype">char</span>* argv0);
00085 
00099 CS_CSUTIL_EXPORT <a class="code" href="classcsString.html">csString</a> <a class="code" href="group__util.html#a68">csGetAppDir</a> (<span class="keyword">const</span> <span class="keywordtype">char</span>* argv0);
00100 
00119 CS_CSUTIL_EXPORT <a class="code" href="classcsString.html">csString</a> <a class="code" href="group__util.html#a69">csGetResourceDir</a> (<span class="keyword">const</span> <span class="keywordtype">char</span>* argv0);
00120 
00129 CS_CSUTIL_EXPORT <span class="keywordtype">bool</span> <a class="code" href="group__util.html#a70">csPathsIdentical</a> (<span class="keyword">const</span> <span class="keywordtype">char</span>* path1, <span class="keyword">const</span> <span class="keywordtype">char</span>* path2);
00130 
<a name="l00134"></a><a class="code" href="structcsPluginPath.html">00134</a> <span class="keyword">struct </span>CS_CSUTIL_EXPORT <a class="code" href="structcsPluginPath.html">csPluginPath</a>
00135 {
<a name="l00140"></a><a class="code" href="structcsPluginPath.html#m0">00140</a>   <span class="keywordtype">char</span>* path;
<a name="l00142"></a><a class="code" href="structcsPluginPath.html#m1">00142</a>   <span class="keywordtype">char</span>* type;
<a name="l00144"></a><a class="code" href="structcsPluginPath.html#m2">00144</a>   <span class="keywordtype">bool</span> scanRecursive;
00145   
00146   <a class="code" href="structcsPluginPath.html">csPluginPath</a> () : path (0), type(0), scanRecursive (false) {}
00147   <a class="code" href="structcsPluginPath.html">csPluginPath</a> (<span class="keyword">const</span> <span class="keywordtype">char</span>* path, <span class="keyword">const</span> <span class="keywordtype">char</span>* type, <span class="keywordtype">bool</span> recursive = <span class="keyword">false</span>)
00148   {
00149     <a class="code" href="structcsPluginPath.html#m0">csPluginPath::path</a> = <a class="code" href="group__util.html#a72">csStrNew</a> (path);
00150     <a class="code" href="structcsPluginPath.html#m1">csPluginPath::type</a> = <a class="code" href="group__util.html#a72">csStrNew</a> (type);
00151     scanRecursive = recursive;
00152   };
00153   <a class="code" href="structcsPluginPath.html">csPluginPath</a> (<span class="keywordtype">char</span>* path, <span class="keywordtype">char</span>* type, <span class="keywordtype">bool</span> recursive = <span class="keyword">false</span>)
00154   {
00155     <a class="code" href="structcsPluginPath.html#m0">csPluginPath::path</a> = path;
00156     <a class="code" href="structcsPluginPath.html#m1">csPluginPath::type</a> = type;
00157     scanRecursive = recursive;
00158   };
00159   <a class="code" href="structcsPluginPath.html">csPluginPath</a> (<span class="keyword">const</span> <a class="code" href="structcsPluginPath.html">csPluginPath</a>&amp; src)
00160   {
00161     path = <a class="code" href="group__util.html#a72">csStrNew</a> (src.<a class="code" href="structcsPluginPath.html#m0">path</a>);
00162     type = <a class="code" href="group__util.html#a72">csStrNew</a> (src.<a class="code" href="structcsPluginPath.html#m1">type</a>);
00163     scanRecursive = src.<a class="code" href="structcsPluginPath.html#m2">scanRecursive</a>;
00164   };
00165   ~<a class="code" href="structcsPluginPath.html">csPluginPath</a> () { <span class="keyword">delete</span>[] path; <span class="keyword">delete</span>[] type; }
00166 };
00167 
<a name="l00171"></a><a class="code" href="classcsPluginPaths.html">00171</a> <span class="keyword">class </span>CS_CSUTIL_EXPORT csPluginPaths
00172 {
00173   <a class="code" href="classcsArray.html">csArray&lt;csPluginPath&gt;</a> paths;
00174 <span class="keyword">public</span>:
00175   csPluginPaths () : paths (4, 4) { }
00176 
<a name="l00187"></a><a class="code" href="classcsPluginPaths.html#a1">00187</a>   size_t AddOnce (<span class="keyword">const</span> <span class="keywordtype">char</span>* path, <span class="keywordtype">bool</span> scanRecursive = <span class="keyword">false</span>, 
00188     <span class="keyword">const</span> <span class="keywordtype">char</span>* type = 0, <span class="keywordtype">bool</span> overrideRecursive = <span class="keyword">true</span>)
00189   {
00190     <span class="keywordflow">if</span> (path == 0) <span class="keywordflow">return</span> (size_t)-1;
00191     <span class="keywordtype">char</span>* pathExpanded = <a class="code" href="group__util.html#a66">csExpandPath</a> (path);
00192     <span class="keywordflow">if</span> (pathExpanded == 0) <span class="keywordflow">return</span> (size_t)-1;
00193   
00194     size_t i;
00195     <span class="keywordflow">for</span> (i = 0; i &lt; paths.Length(); i++)
00196     {
00197       <span class="keywordflow">if</span> (<a class="code" href="group__util.html#a70">csPathsIdentical</a> (pathExpanded, paths[i].path))
00198       {
00199         <span class="keywordflow">if</span> (overrideRecursive)
00200         {
00201           paths[i].scanRecursive = scanRecursive;
00202         }
00203         <span class="keyword">delete</span>[] paths[i].type;
00204         paths[i].type = <a class="code" href="group__util.html#a72">csStrNew</a> (type);
00205         <span class="keyword">delete</span>[] pathExpanded;
00206   
00207         <span class="keywordflow">return</span> i;
00208       }
00209     }
00210   
00211     <a class="code" href="structcsPluginPath.html">csPluginPath</a> pluginPath (pathExpanded, csStrNew (type), scanRecursive);
00212     <span class="keywordflow">return</span> (paths.Push (pluginPath));
00213   }
00214   
00215   size_t GetCount () { <span class="keywordflow">return</span> paths.Length(); }
00216   <a class="code" href="structcsPluginPath.html">csPluginPath</a> <span class="keyword">const</span>&amp; operator [] (size_t n)<span class="keyword"> const</span>
00217 <span class="keyword">  </span>{ <span class="keywordflow">return</span> paths[n]; }
00218 };
00219 
00223 <span class="preprocessor">#endif</span>
</pre></div><hr><address><small>Generated for Crystal Space by 
<a href="http://www.doxygen.org/index.html">doxygen</a> 1.2.18 
</small></address> </div></body> </html>
