SubDir TOP apps tools docconv ;

Description docconv : "Document Converter" ;

Application docconv
	: [ Wildcard *.cpp *.h ]
	: console
;
LinkWith docconv : crystalspace ;

if [ Property build : projgen_version ] != 6
{

Description docconv_static : "Terrain basemap generator (static build)" ;

SubVariant static ;

Application docconv_static : [ Wildcard *.cpp *.h ] :
  console independent noinstall nohelp ;
CFlags docconv_static : [ FDefines CS_STATIC_LINKED ] : nostatic ;

LinkWith docconv_static : crystalspace ;

DOCCONV.PLUGINLIST =
  bindoc
  dsplex
  reporter
  null2d
  null3d
  vfs
  xmlread
  xmltiny
  ;

if $(JPEG.AVAILABLE) = "yes"
{
  DOCCONV.PLUGINLIST += csjpgimg ;
}
if $(PNG.AVAILABLE) = "yes"
{
  DOCCONV.PLUGINLIST += cspngimg ;
}

LinkStaticPlugins docconv_static : $(DOCCONV.PLUGINLIST) ;
SubVariant ;
}

