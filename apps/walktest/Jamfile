SubDir TOP apps walktest ;

Application walktest
	: [ Wildcard *.cpp *.h ]
;
LinkWith walktest : csengine csgeom csgfx cstool csutil ;

CompileGroups walktest : walkall ;
CompileGroups vfs : walkall ;
CompileGroups softcanvas : walkall ;
CompileGroups openglcanvas : walkall ;
CompileGroups effects : walkall ;
CompileGroups csfont : walkall ;
CompileGroups csconin : walkall ;
CompileGroups simpcon : walkall ;
CompileGroups rapid : walkall ;
CompileGroups meshes : walkall ; 
CompileGroups cssynldr : walkall ; 
CompileGroups imgplex : walkall ; 
CompileGroups csgifimg : walkall ;
CompileGroups csjpgimg : walkall ;
CompileGroups cspngimg : walkall ;
CompileGroups reporter : walkall ;
CompileGroups stdrep : walkall ;
CompileGroups csparser : walkall ;
CompileGroups frustvis : walkall ;
CompileGroups dynavis : walkall ;
CompileGroups bugplug : walkall ;
CompileGroups sequence : walkall ;
CompileGroups engseq : walkall ;
CompileGroups xmlread : walkall ;
CompileGroups ptanimimg : walkall ;
CompileGroups stdpt : walkall ;
CompileGroups gtreeldr : walkall ;
if $(USE_NEW_RENDERER) = "yes"
{
  CompileGroups glrender3d : walkall ;
  CompileGroups shadermgr : walkall ;
  CompileGroups rendloop_loader : walkall ;
  CompileGroups rendstep_std : walkall ;
  CompileGroups rendstep_stencil : walkall ;
  CompileGroups glshader_arb : walkall ;
  CompileGroups glshader_fixed : walkall ;
  
  #CompileGroups softrender3d : walkall ; # not yet ready for prime time.
  #CompileGroups softshader : walkall ;
}
else
{
  CompileGroups gl3d : walkall ;
  CompileGroups soft3d : walkall ;
}

SubVariant static ;
Application walktest_static
	: [ Wildcard *.cpp *.h ]
	: independent noinstall
;
LinkWith walktest_static : csengine csgeom csgfx cstool csutil ;
LinkStaticPlugins walktest_static : $(STATIC.PLUGINLIST) ;
# this is needed because walktest links and registers libcsengine by itself if
# this flag isn't defined
CFlags walktest_static : -DCS_STATIC_LINKED ;
SubVariant ;

Help walktest : "Crystal Space WalkTest demo" ;

Win32Resource walktest : $(TOP)/libs/cssys/win32/rsrc/cs1.rc ;
InstallConfig autoexec.cfg walktest.cfg ;
InstallMapfile flarge partsys ;

